var _h=e=>{throw TypeError(e)};var Ul=(e,t,r)=>t.has(e)||_h("Cannot "+r);var _=(e,t,r)=>(Ul(e,t,"read from private field"),r?r.call(e):t.get(e)),M=(e,t,r)=>t.has(e)?_h("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),$=(e,t,r,n)=>(Ul(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),G=(e,t,r)=>(Ul(e,t,"access private method"),r);var qa=(e,t,r,n)=>({set _(s){$(e,t,s,r)},get _(){return _(e,t,n)}});function Sy(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Zc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qp={exports:{}},cl={},Hp={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ia=Symbol.for("react.element"),Ey=Symbol.for("react.portal"),jy=Symbol.for("react.fragment"),Cy=Symbol.for("react.strict_mode"),Ny=Symbol.for("react.profiler"),Ty=Symbol.for("react.provider"),Py=Symbol.for("react.context"),Ry=Symbol.for("react.forward_ref"),Oy=Symbol.for("react.suspense"),Ay=Symbol.for("react.memo"),Iy=Symbol.for("react.lazy"),kh=Symbol.iterator;function $y(e){return e===null||typeof e!="object"?null:(e=kh&&e[kh]||e["@@iterator"],typeof e=="function"?e:null)}var Vp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kp=Object.assign,Qp={};function fi(e,t,r){this.props=e,this.context=t,this.refs=Qp,this.updater=r||Vp}fi.prototype.isReactComponent={};fi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gp(){}Gp.prototype=fi.prototype;function Xc(e,t,r){this.props=e,this.context=t,this.refs=Qp,this.updater=r||Vp}var ed=Xc.prototype=new Gp;ed.constructor=Xc;Kp(ed,fi.prototype);ed.isPureReactComponent=!0;var Sh=Array.isArray,Jp=Object.prototype.hasOwnProperty,td={current:null},Yp={key:!0,ref:!0,__self:!0,__source:!0};function Zp(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Jp.call(t,n)&&!Yp.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Ia,type:e,key:i,ref:a,props:s,_owner:td.current}}function Ly(e,t){return{$$typeof:Ia,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ia}function Dy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Eh=/\/+/g;function Ml(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Dy(""+e.key):t.toString(36)}function go(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ia:case Ey:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Ml(a,0):n,Sh(s)?(r="",e!=null&&(r=e.replace(Eh,"$&/")+"/"),go(s,t,r,"",function(c){return c})):s!=null&&(rd(s)&&(s=Ly(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Eh,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Sh(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+Ml(i,o);a+=go(i,t,r,l,s)}else if(l=$y(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+Ml(i,o++),a+=go(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ha(e,t,r){if(e==null)return e;var n=[],s=0;return go(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Uy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var it={current:null},vo={transition:null},My={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:vo,ReactCurrentOwner:td};function Xp(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:Ha,forEach:function(e,t,r){Ha(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ha(e,function(){t++}),t},toArray:function(e){return Ha(e,function(t){return t})||[]},only:function(e){if(!rd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=fi;J.Fragment=jy;J.Profiler=Ny;J.PureComponent=Xc;J.StrictMode=Cy;J.Suspense=Oy;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=My;J.act=Xp;J.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Kp({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=td.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Jp.call(t,l)&&!Yp.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Ia,type:e.type,key:s,ref:i,props:n,_owner:a}};J.createContext=function(e){return e={$$typeof:Py,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ty,_context:e},e.Consumer=e};J.createElement=Zp;J.createFactory=function(e){var t=Zp.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:Ry,render:e}};J.isValidElement=rd;J.lazy=function(e){return{$$typeof:Iy,_payload:{_status:-1,_result:e},_init:Uy}};J.memo=function(e,t){return{$$typeof:Ay,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=vo.transition;vo.transition={};try{e()}finally{vo.transition=t}};J.unstable_act=Xp;J.useCallback=function(e,t){return it.current.useCallback(e,t)};J.useContext=function(e){return it.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return it.current.useDeferredValue(e)};J.useEffect=function(e,t){return it.current.useEffect(e,t)};J.useId=function(){return it.current.useId()};J.useImperativeHandle=function(e,t,r){return it.current.useImperativeHandle(e,t,r)};J.useInsertionEffect=function(e,t){return it.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return it.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return it.current.useMemo(e,t)};J.useReducer=function(e,t,r){return it.current.useReducer(e,t,r)};J.useRef=function(e){return it.current.useRef(e)};J.useState=function(e){return it.current.useState(e)};J.useSyncExternalStore=function(e,t,r){return it.current.useSyncExternalStore(e,t,r)};J.useTransition=function(){return it.current.useTransition()};J.version="18.3.1";Hp.exports=J;var E=Hp.exports;const O=Zc(E),zy=Sy({__proto__:null,default:O},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy=E,By=Symbol.for("react.element"),Wy=Symbol.for("react.fragment"),qy=Object.prototype.hasOwnProperty,Hy=Fy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vy={key:!0,ref:!0,__self:!0,__source:!0};function em(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)qy.call(t,n)&&!Vy.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:By,type:e,key:i,ref:a,props:s,_owner:Hy.current}}cl.Fragment=Wy;cl.jsx=em;cl.jsxs=em;qp.exports=cl;var u=qp.exports,ju={},tm={exports:{}},jt={},rm={exports:{}},nm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,P){var z=I.length;I.push(P);e:for(;0<z;){var Z=z-1>>>1,H=I[Z];if(0<s(H,P))I[Z]=P,I[z]=H,z=Z;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var P=I[0],z=I.pop();if(z!==P){I[0]=z;e:for(var Z=0,H=I.length,ne=H>>>1;Z<ne;){var re=2*(Z+1)-1,$e=I[re],lt=re+1,oe=I[lt];if(0>s($e,z))lt<H&&0>s(oe,$e)?(I[Z]=oe,I[lt]=z,Z=lt):(I[Z]=$e,I[re]=z,Z=re);else if(lt<H&&0>s(oe,z))I[Z]=oe,I[lt]=z,Z=lt;else break e}}return P}function s(I,P){var z=I.sortIndex-P.sortIndex;return z!==0?z:I.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,f=null,p=3,h=!1,w=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var P=r(c);P!==null;){if(P.callback===null)n(c);else if(P.startTime<=I)n(c),P.sortIndex=P.expirationTime,t(l,P);else break;P=r(c)}}function b(I){if(v=!1,y(I),!w)if(r(l)!==null)w=!0,Ke(S);else{var P=r(c);P!==null&&Qe(b,P.startTime-I)}}function S(I,P){w=!1,v&&(v=!1,g(T),T=-1),h=!0;var z=p;try{for(y(P),f=r(l);f!==null&&(!(f.expirationTime>P)||I&&!ee());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,p=f.priorityLevel;var H=Z(f.expirationTime<=P);P=e.unstable_now(),typeof H=="function"?f.callback=H:f===r(l)&&n(l),y(P)}else n(l);f=r(l)}if(f!==null)var ne=!0;else{var re=r(c);re!==null&&Qe(b,re.startTime-P),ne=!1}return ne}finally{f=null,p=z,h=!1}}var j=!1,C=null,T=-1,F=5,A=-1;function ee(){return!(e.unstable_now()-A<F)}function q(){if(C!==null){var I=e.unstable_now();A=I;var P=!0;try{P=C(!0,I)}finally{P?Ie():(j=!1,C=null)}}else j=!1}var Ie;if(typeof m=="function")Ie=function(){m(q)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,hr=ot.port2;ot.port1.onmessage=q,Ie=function(){hr.postMessage(null)}}else Ie=function(){x(q,0)};function Ke(I){C=I,j||(j=!0,Ie())}function Qe(I,P){T=x(function(){I(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){w||h||(w=!0,Ke(S))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(I){switch(p){case 1:case 2:case 3:var P=3;break;default:P=p}var z=p;p=P;try{return I()}finally{p=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,P){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var z=p;p=I;try{return P()}finally{p=z}},e.unstable_scheduleCallback=function(I,P,z){var Z=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Z+z:Z):z=Z,I){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=z+H,I={id:d++,callback:P,priorityLevel:I,startTime:z,expirationTime:H,sortIndex:-1},z>Z?(I.sortIndex=z,t(c,I),r(l)===null&&I===r(c)&&(v?(g(T),T=-1):v=!0,Qe(b,z-Z))):(I.sortIndex=H,t(l,I),w||h||(w=!0,Ke(S))),I},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(I){var P=p;return function(){var z=p;p=P;try{return I.apply(this,arguments)}finally{p=z}}}})(nm);rm.exports=nm;var Ky=rm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy=E,Et=Ky;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sm=new Set,Xi={};function as(e,t){ri(e,t),ri(e+"Capture",t)}function ri(e,t){for(Xi[e]=t,e=0;e<t.length;e++)sm.add(t[e])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cu=Object.prototype.hasOwnProperty,Gy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jh={},Ch={};function Jy(e){return Cu.call(Ch,e)?!0:Cu.call(jh,e)?!1:Gy.test(e)?Ch[e]=!0:(jh[e]=!0,!1)}function Yy(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Zy(e,t,r,n){if(t===null||typeof t>"u"||Yy(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function at(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new at(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new at(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new at(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new at(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new at(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new at(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new at(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new at(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new at(e,5,!1,e.toLowerCase(),null,!1,!1)});var nd=/[\-:]([a-z])/g;function sd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nd,sd);Ve[t]=new at(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nd,sd);Ve[t]=new at(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nd,sd);Ve[t]=new at(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new at(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new at(e,1,!1,e.toLowerCase(),null,!0,!0)});function id(e,t,r,n){var s=Ve.hasOwnProperty(t)?Ve[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Zy(t,r,s,n)&&(r=null),n||s===null?Jy(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pr=Qy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Va=Symbol.for("react.element"),bs=Symbol.for("react.portal"),_s=Symbol.for("react.fragment"),ad=Symbol.for("react.strict_mode"),Nu=Symbol.for("react.profiler"),im=Symbol.for("react.provider"),am=Symbol.for("react.context"),od=Symbol.for("react.forward_ref"),Tu=Symbol.for("react.suspense"),Pu=Symbol.for("react.suspense_list"),ld=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),om=Symbol.for("react.offscreen"),Nh=Symbol.iterator;function Ei(e){return e===null||typeof e!="object"?null:(e=Nh&&e[Nh]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,zl;function Li(e){if(zl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);zl=t&&t[1]||""}return`
`+zl+e}var Fl=!1;function Bl(e,t){if(!e||Fl)return"";Fl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Fl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Li(e):""}function Xy(e){switch(e.tag){case 5:return Li(e.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 2:case 15:return e=Bl(e.type,!1),e;case 11:return e=Bl(e.type.render,!1),e;case 1:return e=Bl(e.type,!0),e;default:return""}}function Ru(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _s:return"Fragment";case bs:return"Portal";case Nu:return"Profiler";case ad:return"StrictMode";case Tu:return"Suspense";case Pu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case am:return(e.displayName||"Context")+".Consumer";case im:return(e._context.displayName||"Context")+".Provider";case od:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ld:return t=e.displayName||null,t!==null?t:Ru(e.type)||"Memo";case zr:t=e._payload,e=e._init;try{return Ru(e(t))}catch{}}return null}function e0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ru(t);case 8:return t===ad?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function t0(e){var t=lm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ka(e){e._valueTracker||(e._valueTracker=t0(e))}function um(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=lm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Po(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ou(e,t){var r=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Th(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=vn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cm(e,t){t=t.checked,t!=null&&id(e,"checked",t,!1)}function Au(e,t){cm(e,t);var r=vn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Iu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Iu(e,t.type,vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ph(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Iu(e,t,r){(t!=="number"||Po(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Di=Array.isArray;function Is(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+vn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function $u(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(N(92));if(Di(r)){if(1<r.length)throw Error(N(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:vn(r)}}function dm(e,t){var r=vn(t.value),n=vn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Oh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qa,fm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qa=Qa||document.createElement("div"),Qa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ea(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r0=["Webkit","ms","Moz","O"];Object.keys(Bi).forEach(function(e){r0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bi[t]=Bi[e]})});function pm(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Bi.hasOwnProperty(e)&&Bi[e]?(""+t).trim():t+"px"}function mm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=pm(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var n0=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Du(e,t){if(t){if(n0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Uu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=null;function ud(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zu=null,$s=null,Ls=null;function Ah(e){if(e=Da(e)){if(typeof zu!="function")throw Error(N(280));var t=e.stateNode;t&&(t=ml(t),zu(e.stateNode,e.type,t))}}function gm(e){$s?Ls?Ls.push(e):Ls=[e]:$s=e}function vm(){if($s){var e=$s,t=Ls;if(Ls=$s=null,Ah(e),t)for(e=0;e<t.length;e++)Ah(t[e])}}function ym(e,t){return e(t)}function wm(){}var Wl=!1;function xm(e,t,r){if(Wl)return e(t,r);Wl=!0;try{return ym(e,t,r)}finally{Wl=!1,($s!==null||Ls!==null)&&(wm(),vm())}}function ta(e,t){var r=e.stateNode;if(r===null)return null;var n=ml(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(N(231,t,typeof r));return r}var Fu=!1;if(jr)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){Fu=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{Fu=!1}function s0(e,t,r,n,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Wi=!1,Ro=null,Oo=!1,Bu=null,i0={onError:function(e){Wi=!0,Ro=e}};function a0(e,t,r,n,s,i,a,o,l){Wi=!1,Ro=null,s0.apply(i0,arguments)}function o0(e,t,r,n,s,i,a,o,l){if(a0.apply(this,arguments),Wi){if(Wi){var c=Ro;Wi=!1,Ro=null}else throw Error(N(198));Oo||(Oo=!0,Bu=c)}}function os(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ih(e){if(os(e)!==e)throw Error(N(188))}function l0(e){var t=e.alternate;if(!t){if(t=os(e),t===null)throw Error(N(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ih(s),e;if(i===n)return Ih(s),t;i=i.sibling}throw Error(N(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?e:t}function _m(e){return e=l0(e),e!==null?km(e):null}function km(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=km(e);if(t!==null)return t;e=e.sibling}return null}var Sm=Et.unstable_scheduleCallback,$h=Et.unstable_cancelCallback,u0=Et.unstable_shouldYield,c0=Et.unstable_requestPaint,Ee=Et.unstable_now,d0=Et.unstable_getCurrentPriorityLevel,cd=Et.unstable_ImmediatePriority,Em=Et.unstable_UserBlockingPriority,Ao=Et.unstable_NormalPriority,h0=Et.unstable_LowPriority,jm=Et.unstable_IdlePriority,dl=null,ur=null;function f0(e){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(dl,e,void 0,(e.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:g0,p0=Math.log,m0=Math.LN2;function g0(e){return e>>>=0,e===0?32:31-(p0(e)/m0|0)|0}var Ga=64,Ja=4194304;function Ui(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Io(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Ui(o):(i&=a,i!==0&&(n=Ui(i)))}else a=r&~s,a!==0?n=Ui(a):i!==0&&(n=Ui(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Zt(t),s=1<<r,n|=e[r],t&=~s;return n}function v0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y0(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Zt(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=v0(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function Wu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cm(){var e=Ga;return Ga<<=1,!(Ga&4194240)&&(Ga=64),e}function ql(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function $a(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zt(t),e[t]=r}function w0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Zt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function dd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Zt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ie=0;function Nm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Tm,hd,Pm,Rm,Om,qu=!1,Ya=[],an=null,on=null,ln=null,ra=new Map,na=new Map,Wr=[],x0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":ra.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(t.pointerId)}}function Ci(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Da(t),t!==null&&hd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function b0(e,t,r,n,s){switch(t){case"focusin":return an=Ci(an,e,t,r,n,s),!0;case"dragenter":return on=Ci(on,e,t,r,n,s),!0;case"mouseover":return ln=Ci(ln,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ra.set(i,Ci(ra.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,na.set(i,Ci(na.get(i)||null,e,t,r,n,s)),!0}return!1}function Am(e){var t=In(e.target);if(t!==null){var r=os(t);if(r!==null){if(t=r.tag,t===13){if(t=bm(r),t!==null){e.blockedOn=t,Om(e.priority,function(){Pm(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Hu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Mu=n,r.target.dispatchEvent(n),Mu=null}else return t=Da(r),t!==null&&hd(t),e.blockedOn=r,!1;t.shift()}return!0}function Dh(e,t,r){yo(e)&&r.delete(t)}function _0(){qu=!1,an!==null&&yo(an)&&(an=null),on!==null&&yo(on)&&(on=null),ln!==null&&yo(ln)&&(ln=null),ra.forEach(Dh),na.forEach(Dh)}function Ni(e,t){e.blockedOn===t&&(e.blockedOn=null,qu||(qu=!0,Et.unstable_scheduleCallback(Et.unstable_NormalPriority,_0)))}function sa(e){function t(s){return Ni(s,e)}if(0<Ya.length){Ni(Ya[0],e);for(var r=1;r<Ya.length;r++){var n=Ya[r];n.blockedOn===e&&(n.blockedOn=null)}}for(an!==null&&Ni(an,e),on!==null&&Ni(on,e),ln!==null&&Ni(ln,e),ra.forEach(t),na.forEach(t),r=0;r<Wr.length;r++)n=Wr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Wr.length&&(r=Wr[0],r.blockedOn===null);)Am(r),r.blockedOn===null&&Wr.shift()}var Ds=Pr.ReactCurrentBatchConfig,$o=!0;function k0(e,t,r,n){var s=ie,i=Ds.transition;Ds.transition=null;try{ie=1,fd(e,t,r,n)}finally{ie=s,Ds.transition=i}}function S0(e,t,r,n){var s=ie,i=Ds.transition;Ds.transition=null;try{ie=4,fd(e,t,r,n)}finally{ie=s,Ds.transition=i}}function fd(e,t,r,n){if($o){var s=Hu(e,t,r,n);if(s===null)eu(e,t,n,Lo,r),Lh(e,n);else if(b0(s,e,t,r,n))n.stopPropagation();else if(Lh(e,n),t&4&&-1<x0.indexOf(e)){for(;s!==null;){var i=Da(s);if(i!==null&&Tm(i),i=Hu(e,t,r,n),i===null&&eu(e,t,n,Lo,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else eu(e,t,n,null,r)}}var Lo=null;function Hu(e,t,r,n){if(Lo=null,e=ud(n),e=In(e),e!==null)if(t=os(e),t===null)e=null;else if(r=t.tag,r===13){if(e=bm(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lo=e,null}function Im(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d0()){case cd:return 1;case Em:return 4;case Ao:case h0:return 16;case jm:return 536870912;default:return 16}default:return 16}}var tn=null,pd=null,wo=null;function $m(){if(wo)return wo;var e,t=pd,r=t.length,n,s="value"in tn?tn.value:tn.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return wo=s.slice(e,1<n?1-n:void 0)}function xo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Za(){return!0}function Uh(){return!1}function Ct(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Za:Uh,this.isPropagationStopped=Uh,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Za)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Za)},persist:function(){},isPersistent:Za}),t}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},md=Ct(pi),La=we({},pi,{view:0,detail:0}),E0=Ct(La),Hl,Vl,Ti,hl=we({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(Hl=e.screenX-Ti.screenX,Vl=e.screenY-Ti.screenY):Vl=Hl=0,Ti=e),Hl)},movementY:function(e){return"movementY"in e?e.movementY:Vl}}),Mh=Ct(hl),j0=we({},hl,{dataTransfer:0}),C0=Ct(j0),N0=we({},La,{relatedTarget:0}),Kl=Ct(N0),T0=we({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),P0=Ct(T0),R0=we({},pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O0=Ct(R0),A0=we({},pi,{data:0}),zh=Ct(A0),I0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=L0[e])?!!t[e]:!1}function gd(){return D0}var U0=we({},La,{key:function(e){if(e.key){var t=I0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gd,charCode:function(e){return e.type==="keypress"?xo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),M0=Ct(U0),z0=we({},hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fh=Ct(z0),F0=we({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gd}),B0=Ct(F0),W0=we({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),q0=Ct(W0),H0=we({},hl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),V0=Ct(H0),K0=[9,13,27,32],vd=jr&&"CompositionEvent"in window,qi=null;jr&&"documentMode"in document&&(qi=document.documentMode);var Q0=jr&&"TextEvent"in window&&!qi,Lm=jr&&(!vd||qi&&8<qi&&11>=qi),Bh=" ",Wh=!1;function Dm(e,t){switch(e){case"keyup":return K0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Um(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ks=!1;function G0(e,t){switch(e){case"compositionend":return Um(t);case"keypress":return t.which!==32?null:(Wh=!0,Bh);case"textInput":return e=t.data,e===Bh&&Wh?null:e;default:return null}}function J0(e,t){if(ks)return e==="compositionend"||!vd&&Dm(e,t)?(e=$m(),wo=pd=tn=null,ks=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lm&&t.locale!=="ko"?null:t.data;default:return null}}var Y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Y0[e.type]:t==="textarea"}function Mm(e,t,r,n){gm(n),t=Do(t,"onChange"),0<t.length&&(r=new md("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hi=null,ia=null;function Z0(e){Jm(e,0)}function fl(e){var t=js(e);if(um(t))return e}function X0(e,t){if(e==="change")return t}var zm=!1;if(jr){var Ql;if(jr){var Gl="oninput"in document;if(!Gl){var Hh=document.createElement("div");Hh.setAttribute("oninput","return;"),Gl=typeof Hh.oninput=="function"}Ql=Gl}else Ql=!1;zm=Ql&&(!document.documentMode||9<document.documentMode)}function Vh(){Hi&&(Hi.detachEvent("onpropertychange",Fm),ia=Hi=null)}function Fm(e){if(e.propertyName==="value"&&fl(ia)){var t=[];Mm(t,ia,e,ud(e)),xm(Z0,t)}}function ew(e,t,r){e==="focusin"?(Vh(),Hi=t,ia=r,Hi.attachEvent("onpropertychange",Fm)):e==="focusout"&&Vh()}function tw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fl(ia)}function rw(e,t){if(e==="click")return fl(t)}function nw(e,t){if(e==="input"||e==="change")return fl(t)}function sw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var er=typeof Object.is=="function"?Object.is:sw;function aa(e,t){if(er(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Cu.call(t,s)||!er(e[s],t[s]))return!1}return!0}function Kh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qh(e,t){var r=Kh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kh(r)}}function Bm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wm(){for(var e=window,t=Po();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Po(e.document)}return t}function yd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function iw(e){var t=Wm(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Bm(r.ownerDocument.documentElement,r)){if(n!==null&&yd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Qh(r,i);var a=Qh(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aw=jr&&"documentMode"in document&&11>=document.documentMode,Ss=null,Vu=null,Vi=null,Ku=!1;function Gh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ku||Ss==null||Ss!==Po(n)||(n=Ss,"selectionStart"in n&&yd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vi&&aa(Vi,n)||(Vi=n,n=Do(Vu,"onSelect"),0<n.length&&(t=new md("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ss)))}function Xa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Es={animationend:Xa("Animation","AnimationEnd"),animationiteration:Xa("Animation","AnimationIteration"),animationstart:Xa("Animation","AnimationStart"),transitionend:Xa("Transition","TransitionEnd")},Jl={},qm={};jr&&(qm=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function pl(e){if(Jl[e])return Jl[e];if(!Es[e])return e;var t=Es[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in qm)return Jl[e]=t[r];return e}var Hm=pl("animationend"),Vm=pl("animationiteration"),Km=pl("animationstart"),Qm=pl("transitionend"),Gm=new Map,Jh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(e,t){Gm.set(e,t),as(t,[e])}for(var Yl=0;Yl<Jh.length;Yl++){var Zl=Jh[Yl],ow=Zl.toLowerCase(),lw=Zl[0].toUpperCase()+Zl.slice(1);xn(ow,"on"+lw)}xn(Hm,"onAnimationEnd");xn(Vm,"onAnimationIteration");xn(Km,"onAnimationStart");xn("dblclick","onDoubleClick");xn("focusin","onFocus");xn("focusout","onBlur");xn(Qm,"onTransitionEnd");ri("onMouseEnter",["mouseout","mouseover"]);ri("onMouseLeave",["mouseout","mouseover"]);ri("onPointerEnter",["pointerout","pointerover"]);ri("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mi));function Yh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,o0(n,t,void 0,e),e.currentTarget=null}function Jm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Yh(s,o,c),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Yh(s,o,c),i=l}}}if(Oo)throw e=Bu,Oo=!1,Bu=null,e}function de(e,t){var r=t[Zu];r===void 0&&(r=t[Zu]=new Set);var n=e+"__bubble";r.has(n)||(Ym(t,e,2,!1),r.add(n))}function Xl(e,t,r){var n=0;t&&(n|=4),Ym(r,e,n,t)}var eo="_reactListening"+Math.random().toString(36).slice(2);function oa(e){if(!e[eo]){e[eo]=!0,sm.forEach(function(r){r!=="selectionchange"&&(uw.has(r)||Xl(r,!1,e),Xl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[eo]||(t[eo]=!0,Xl("selectionchange",!1,t))}}function Ym(e,t,r,n){switch(Im(t)){case 1:var s=k0;break;case 4:s=S0;break;default:s=fd}r=s.bind(null,t,r,e),s=void 0,!Fu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function eu(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=In(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}xm(function(){var c=i,d=ud(r),f=[];e:{var p=Gm.get(e);if(p!==void 0){var h=md,w=e;switch(e){case"keypress":if(xo(r)===0)break e;case"keydown":case"keyup":h=M0;break;case"focusin":w="focus",h=Kl;break;case"focusout":w="blur",h=Kl;break;case"beforeblur":case"afterblur":h=Kl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Mh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=C0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=B0;break;case Hm:case Vm:case Km:h=P0;break;case Qm:h=q0;break;case"scroll":h=E0;break;case"wheel":h=V0;break;case"copy":case"cut":case"paste":h=O0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Fh}var v=(t&4)!==0,x=!v&&e==="scroll",g=v?p!==null?p+"Capture":null:p;v=[];for(var m=c,y;m!==null;){y=m;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,g!==null&&(b=ta(m,g),b!=null&&v.push(la(m,b,y)))),x)break;m=m.return}0<v.length&&(p=new h(p,w,null,r,d),f.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&r!==Mu&&(w=r.relatedTarget||r.fromElement)&&(In(w)||w[Cr]))break e;if((h||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,h?(w=r.relatedTarget||r.toElement,h=c,w=w?In(w):null,w!==null&&(x=os(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(h=null,w=c),h!==w)){if(v=Mh,b="onMouseLeave",g="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=Fh,b="onPointerLeave",g="onPointerEnter",m="pointer"),x=h==null?p:js(h),y=w==null?p:js(w),p=new v(b,m+"leave",h,r,d),p.target=x,p.relatedTarget=y,b=null,In(d)===c&&(v=new v(g,m+"enter",w,r,d),v.target=y,v.relatedTarget=x,b=v),x=b,h&&w)t:{for(v=h,g=w,m=0,y=v;y;y=ds(y))m++;for(y=0,b=g;b;b=ds(b))y++;for(;0<m-y;)v=ds(v),m--;for(;0<y-m;)g=ds(g),y--;for(;m--;){if(v===g||g!==null&&v===g.alternate)break t;v=ds(v),g=ds(g)}v=null}else v=null;h!==null&&Zh(f,p,h,v,!1),w!==null&&x!==null&&Zh(f,x,w,v,!0)}}e:{if(p=c?js(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var S=X0;else if(qh(p))if(zm)S=nw;else{S=tw;var j=ew}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=rw);if(S&&(S=S(e,c))){Mm(f,S,r,d);break e}j&&j(e,p,c),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&Iu(p,"number",p.value)}switch(j=c?js(c):window,e){case"focusin":(qh(j)||j.contentEditable==="true")&&(Ss=j,Vu=c,Vi=null);break;case"focusout":Vi=Vu=Ss=null;break;case"mousedown":Ku=!0;break;case"contextmenu":case"mouseup":case"dragend":Ku=!1,Gh(f,r,d);break;case"selectionchange":if(aw)break;case"keydown":case"keyup":Gh(f,r,d)}var C;if(vd)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ks?Dm(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Lm&&r.locale!=="ko"&&(ks||T!=="onCompositionStart"?T==="onCompositionEnd"&&ks&&(C=$m()):(tn=d,pd="value"in tn?tn.value:tn.textContent,ks=!0)),j=Do(c,T),0<j.length&&(T=new zh(T,e,null,r,d),f.push({event:T,listeners:j}),C?T.data=C:(C=Um(r),C!==null&&(T.data=C)))),(C=Q0?G0(e,r):J0(e,r))&&(c=Do(c,"onBeforeInput"),0<c.length&&(d=new zh("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=C))}Jm(f,t)})}function la(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Do(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ta(e,r),i!=null&&n.unshift(la(e,i,s)),i=ta(e,t),i!=null&&n.push(la(e,i,s))),e=e.return}return n}function ds(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zh(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,s?(l=ta(r,i),l!=null&&a.unshift(la(r,l,o))):s||(l=ta(r,i),l!=null&&a.push(la(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var cw=/\r\n?/g,dw=/\u0000|\uFFFD/g;function Xh(e){return(typeof e=="string"?e:""+e).replace(cw,`
`).replace(dw,"")}function to(e,t,r){if(t=Xh(t),Xh(e)!==t&&r)throw Error(N(425))}function Uo(){}var Qu=null,Gu=null;function Ju(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yu=typeof setTimeout=="function"?setTimeout:void 0,hw=typeof clearTimeout=="function"?clearTimeout:void 0,ef=typeof Promise=="function"?Promise:void 0,fw=typeof queueMicrotask=="function"?queueMicrotask:typeof ef<"u"?function(e){return ef.resolve(null).then(e).catch(pw)}:Yu;function pw(e){setTimeout(function(){throw e})}function tu(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),sa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);sa(t)}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var mi=Math.random().toString(36).slice(2),lr="__reactFiber$"+mi,ua="__reactProps$"+mi,Cr="__reactContainer$"+mi,Zu="__reactEvents$"+mi,mw="__reactListeners$"+mi,gw="__reactHandles$"+mi;function In(e){var t=e[lr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Cr]||r[lr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=tf(e);e!==null;){if(r=e[lr])return r;e=tf(e)}return t}e=r,r=e.parentNode}return null}function Da(e){return e=e[lr]||e[Cr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function js(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function ml(e){return e[ua]||null}var Xu=[],Cs=-1;function bn(e){return{current:e}}function he(e){0>Cs||(e.current=Xu[Cs],Xu[Cs]=null,Cs--)}function ue(e,t){Cs++,Xu[Cs]=e.current,e.current=t}var yn={},Xe=bn(yn),pt=bn(!1),Yn=yn;function ni(e,t){var r=e.type.contextTypes;if(!r)return yn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function mt(e){return e=e.childContextTypes,e!=null}function Mo(){he(pt),he(Xe)}function rf(e,t,r){if(Xe.current!==yn)throw Error(N(168));ue(Xe,t),ue(pt,r)}function Zm(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(N(108,e0(e)||"Unknown",s));return we({},r,n)}function zo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,Yn=Xe.current,ue(Xe,e),ue(pt,pt.current),!0}function nf(e,t,r){var n=e.stateNode;if(!n)throw Error(N(169));r?(e=Zm(e,t,Yn),n.__reactInternalMemoizedMergedChildContext=e,he(pt),he(Xe),ue(Xe,e)):he(pt),ue(pt,r)}var vr=null,gl=!1,ru=!1;function Xm(e){vr===null?vr=[e]:vr.push(e)}function vw(e){gl=!0,Xm(e)}function _n(){if(!ru&&vr!==null){ru=!0;var e=0,t=ie;try{var r=vr;for(ie=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}vr=null,gl=!1}catch(s){throw vr!==null&&(vr=vr.slice(e+1)),Sm(cd,_n),s}finally{ie=t,ru=!1}}return null}var Ns=[],Ts=0,Fo=null,Bo=0,Rt=[],Ot=0,Zn=null,_r=1,kr="";function Tn(e,t){Ns[Ts++]=Bo,Ns[Ts++]=Fo,Fo=e,Bo=t}function eg(e,t,r){Rt[Ot++]=_r,Rt[Ot++]=kr,Rt[Ot++]=Zn,Zn=e;var n=_r;e=kr;var s=32-Zt(n)-1;n&=~(1<<s),r+=1;var i=32-Zt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,_r=1<<32-Zt(t)+s|r<<s|n,kr=i+e}else _r=1<<i|r<<s|n,kr=e}function wd(e){e.return!==null&&(Tn(e,1),eg(e,1,0))}function xd(e){for(;e===Fo;)Fo=Ns[--Ts],Ns[Ts]=null,Bo=Ns[--Ts],Ns[Ts]=null;for(;e===Zn;)Zn=Rt[--Ot],Rt[Ot]=null,kr=Rt[--Ot],Rt[Ot]=null,_r=Rt[--Ot],Rt[Ot]=null}var St=null,kt=null,pe=!1,Yt=null;function tg(e,t){var r=At(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function sf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,St=e,kt=un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,St=e,kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Zn!==null?{id:_r,overflow:kr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=At(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,St=e,kt=null,!0):!1;default:return!1}}function ec(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tc(e){if(pe){var t=kt;if(t){var r=t;if(!sf(e,t)){if(ec(e))throw Error(N(418));t=un(r.nextSibling);var n=St;t&&sf(e,t)?tg(n,r):(e.flags=e.flags&-4097|2,pe=!1,St=e)}}else{if(ec(e))throw Error(N(418));e.flags=e.flags&-4097|2,pe=!1,St=e}}}function af(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;St=e}function ro(e){if(e!==St)return!1;if(!pe)return af(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ju(e.type,e.memoizedProps)),t&&(t=kt)){if(ec(e))throw rg(),Error(N(418));for(;t;)tg(e,t),t=un(t.nextSibling)}if(af(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){kt=un(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}kt=null}}else kt=St?un(e.stateNode.nextSibling):null;return!0}function rg(){for(var e=kt;e;)e=un(e.nextSibling)}function si(){kt=St=null,pe=!1}function bd(e){Yt===null?Yt=[e]:Yt.push(e)}var yw=Pr.ReactCurrentBatchConfig;function Pi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,e))}return e}function no(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function of(e){var t=e._init;return t(e._payload)}function ng(e){function t(g,m){if(e){var y=g.deletions;y===null?(g.deletions=[m],g.flags|=16):y.push(m)}}function r(g,m){if(!e)return null;for(;m!==null;)t(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=fn(g,m),g.index=0,g.sibling=null,g}function i(g,m,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<m?(g.flags|=2,m):y):(g.flags|=2,m)):(g.flags|=1048576,m)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,m,y,b){return m===null||m.tag!==6?(m=uu(y,g.mode,b),m.return=g,m):(m=s(m,y),m.return=g,m)}function l(g,m,y,b){var S=y.type;return S===_s?d(g,m,y.props.children,b,y.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===zr&&of(S)===m.type)?(b=s(m,y.props),b.ref=Pi(g,m,y),b.return=g,b):(b=Co(y.type,y.key,y.props,null,g.mode,b),b.ref=Pi(g,m,y),b.return=g,b)}function c(g,m,y,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=cu(y,g.mode,b),m.return=g,m):(m=s(m,y.children||[]),m.return=g,m)}function d(g,m,y,b,S){return m===null||m.tag!==7?(m=Jn(y,g.mode,b,S),m.return=g,m):(m=s(m,y),m.return=g,m)}function f(g,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=uu(""+m,g.mode,y),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Va:return y=Co(m.type,m.key,m.props,null,g.mode,y),y.ref=Pi(g,null,m),y.return=g,y;case bs:return m=cu(m,g.mode,y),m.return=g,m;case zr:var b=m._init;return f(g,b(m._payload),y)}if(Di(m)||Ei(m))return m=Jn(m,g.mode,y,null),m.return=g,m;no(g,m)}return null}function p(g,m,y,b){var S=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:o(g,m,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Va:return y.key===S?l(g,m,y,b):null;case bs:return y.key===S?c(g,m,y,b):null;case zr:return S=y._init,p(g,m,S(y._payload),b)}if(Di(y)||Ei(y))return S!==null?null:d(g,m,y,b,null);no(g,y)}return null}function h(g,m,y,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(y)||null,o(m,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Va:return g=g.get(b.key===null?y:b.key)||null,l(m,g,b,S);case bs:return g=g.get(b.key===null?y:b.key)||null,c(m,g,b,S);case zr:var j=b._init;return h(g,m,y,j(b._payload),S)}if(Di(b)||Ei(b))return g=g.get(y)||null,d(m,g,b,S,null);no(m,b)}return null}function w(g,m,y,b){for(var S=null,j=null,C=m,T=m=0,F=null;C!==null&&T<y.length;T++){C.index>T?(F=C,C=null):F=C.sibling;var A=p(g,C,y[T],b);if(A===null){C===null&&(C=F);break}e&&C&&A.alternate===null&&t(g,C),m=i(A,m,T),j===null?S=A:j.sibling=A,j=A,C=F}if(T===y.length)return r(g,C),pe&&Tn(g,T),S;if(C===null){for(;T<y.length;T++)C=f(g,y[T],b),C!==null&&(m=i(C,m,T),j===null?S=C:j.sibling=C,j=C);return pe&&Tn(g,T),S}for(C=n(g,C);T<y.length;T++)F=h(C,g,T,y[T],b),F!==null&&(e&&F.alternate!==null&&C.delete(F.key===null?T:F.key),m=i(F,m,T),j===null?S=F:j.sibling=F,j=F);return e&&C.forEach(function(ee){return t(g,ee)}),pe&&Tn(g,T),S}function v(g,m,y,b){var S=Ei(y);if(typeof S!="function")throw Error(N(150));if(y=S.call(y),y==null)throw Error(N(151));for(var j=S=null,C=m,T=m=0,F=null,A=y.next();C!==null&&!A.done;T++,A=y.next()){C.index>T?(F=C,C=null):F=C.sibling;var ee=p(g,C,A.value,b);if(ee===null){C===null&&(C=F);break}e&&C&&ee.alternate===null&&t(g,C),m=i(ee,m,T),j===null?S=ee:j.sibling=ee,j=ee,C=F}if(A.done)return r(g,C),pe&&Tn(g,T),S;if(C===null){for(;!A.done;T++,A=y.next())A=f(g,A.value,b),A!==null&&(m=i(A,m,T),j===null?S=A:j.sibling=A,j=A);return pe&&Tn(g,T),S}for(C=n(g,C);!A.done;T++,A=y.next())A=h(C,g,T,A.value,b),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?T:A.key),m=i(A,m,T),j===null?S=A:j.sibling=A,j=A);return e&&C.forEach(function(q){return t(g,q)}),pe&&Tn(g,T),S}function x(g,m,y,b){if(typeof y=="object"&&y!==null&&y.type===_s&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Va:e:{for(var S=y.key,j=m;j!==null;){if(j.key===S){if(S=y.type,S===_s){if(j.tag===7){r(g,j.sibling),m=s(j,y.props.children),m.return=g,g=m;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===zr&&of(S)===j.type){r(g,j.sibling),m=s(j,y.props),m.ref=Pi(g,j,y),m.return=g,g=m;break e}r(g,j);break}else t(g,j);j=j.sibling}y.type===_s?(m=Jn(y.props.children,g.mode,b,y.key),m.return=g,g=m):(b=Co(y.type,y.key,y.props,null,g.mode,b),b.ref=Pi(g,m,y),b.return=g,g=b)}return a(g);case bs:e:{for(j=y.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){r(g,m.sibling),m=s(m,y.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else t(g,m);m=m.sibling}m=cu(y,g.mode,b),m.return=g,g=m}return a(g);case zr:return j=y._init,x(g,m,j(y._payload),b)}if(Di(y))return w(g,m,y,b);if(Ei(y))return v(g,m,y,b);no(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(r(g,m.sibling),m=s(m,y),m.return=g,g=m):(r(g,m),m=uu(y,g.mode,b),m.return=g,g=m),a(g)):r(g,m)}return x}var ii=ng(!0),sg=ng(!1),Wo=bn(null),qo=null,Ps=null,_d=null;function kd(){_d=Ps=qo=null}function Sd(e){var t=Wo.current;he(Wo),e._currentValue=t}function rc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Us(e,t){qo=e,_d=Ps=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ft=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(_d!==e)if(e={context:e,memoizedValue:t,next:null},Ps===null){if(qo===null)throw Error(N(308));Ps=e,qo.dependencies={lanes:0,firstContext:e}}else Ps=Ps.next=e;return t}var $n=null;function Ed(e){$n===null?$n=[e]:$n.push(e)}function ig(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ed(t)):(r.next=s.next,s.next=r),t.interleaved=r,Nr(e,n)}function Nr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Fr=!1;function jd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ag(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,te&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Nr(e,r)}return s=n.interleaved,s===null?(t.next=t,Ed(n)):(t.next=s.next,s.next=t),n.interleaved=t,Nr(e,r)}function bo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dd(e,r)}}function lf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ho(e,t,r,n){var s=e.updateQueue;Fr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;a=0,d=c=l=null,o=i;do{var p=o.lane,h=o.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,v=o;switch(p=t,h=r,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(h,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,p=typeof w=="function"?w.call(h,f,p):w,p==null)break e;f=we({},f,p);break e;case 2:Fr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=h,l=f):d=d.next=h,a|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);es|=a,e.lanes=a,e.memoizedState=f}}function uf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(N(191,s));s.call(n)}}}var Ua={},cr=bn(Ua),ca=bn(Ua),da=bn(Ua);function Ln(e){if(e===Ua)throw Error(N(174));return e}function Cd(e,t){switch(ue(da,t),ue(ca,e),ue(cr,Ua),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lu(t,e)}he(cr),ue(cr,t)}function ai(){he(cr),he(ca),he(da)}function og(e){Ln(da.current);var t=Ln(cr.current),r=Lu(t,e.type);t!==r&&(ue(ca,e),ue(cr,r))}function Nd(e){ca.current===e&&(he(cr),he(ca))}var ve=bn(0);function Vo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nu=[];function Td(){for(var e=0;e<nu.length;e++)nu[e]._workInProgressVersionPrimary=null;nu.length=0}var _o=Pr.ReactCurrentDispatcher,su=Pr.ReactCurrentBatchConfig,Xn=0,ye=null,Re=null,Ue=null,Ko=!1,Ki=!1,ha=0,ww=0;function Ge(){throw Error(N(321))}function Pd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!er(e[r],t[r]))return!1;return!0}function Rd(e,t,r,n,s,i){if(Xn=i,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_o.current=e===null||e.memoizedState===null?kw:Sw,e=r(n,s),Ki){i=0;do{if(Ki=!1,ha=0,25<=i)throw Error(N(301));i+=1,Ue=Re=null,t.updateQueue=null,_o.current=Ew,e=r(n,s)}while(Ki)}if(_o.current=Qo,t=Re!==null&&Re.next!==null,Xn=0,Ue=Re=ye=null,Ko=!1,t)throw Error(N(300));return e}function Od(){var e=ha!==0;return ha=0,e}function sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?ye.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Lt(){if(Re===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Ue===null?ye.memoizedState:Ue.next;if(t!==null)Ue=t,Re=e;else{if(e===null)throw Error(N(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Ue===null?ye.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function fa(e,t){return typeof t=="function"?t(e):t}function iu(e){var t=Lt(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=Re,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,c=i;do{var d=c.lane;if((Xn&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,a=n):l=l.next=f,ye.lanes|=d,es|=d}c=c.next}while(c!==null&&c!==i);l===null?a=n:l.next=o,er(n,t.memoizedState)||(ft=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ye.lanes|=i,es|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function au(e){var t=Lt(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);er(i,t.memoizedState)||(ft=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function lg(){}function ug(e,t){var r=ye,n=Lt(),s=t(),i=!er(n.memoizedState,s);if(i&&(n.memoizedState=s,ft=!0),n=n.queue,Ad(hg.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ue!==null&&Ue.memoizedState.tag&1){if(r.flags|=2048,pa(9,dg.bind(null,r,n,s,t),void 0,null),Fe===null)throw Error(N(349));Xn&30||cg(r,t,s)}return s}function cg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function dg(e,t,r,n){t.value=r,t.getSnapshot=n,fg(t)&&pg(e)}function hg(e,t,r){return r(function(){fg(t)&&pg(e)})}function fg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!er(e,r)}catch{return!0}}function pg(e){var t=Nr(e,1);t!==null&&Xt(t,e,1,-1)}function cf(e){var t=sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e},t.queue=e,e=e.dispatch=_w.bind(null,ye,e),[t.memoizedState,e]}function pa(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function mg(){return Lt().memoizedState}function ko(e,t,r,n){var s=sr();ye.flags|=e,s.memoizedState=pa(1|t,r,void 0,n===void 0?null:n)}function vl(e,t,r,n){var s=Lt();n=n===void 0?null:n;var i=void 0;if(Re!==null){var a=Re.memoizedState;if(i=a.destroy,n!==null&&Pd(n,a.deps)){s.memoizedState=pa(t,r,i,n);return}}ye.flags|=e,s.memoizedState=pa(1|t,r,i,n)}function df(e,t){return ko(8390656,8,e,t)}function Ad(e,t){return vl(2048,8,e,t)}function gg(e,t){return vl(4,2,e,t)}function vg(e,t){return vl(4,4,e,t)}function yg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wg(e,t,r){return r=r!=null?r.concat([e]):null,vl(4,4,yg.bind(null,t,e),r)}function Id(){}function xg(e,t){var r=Lt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Pd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function bg(e,t){var r=Lt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Pd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function _g(e,t,r){return Xn&21?(er(r,t)||(r=Cm(),ye.lanes|=r,es|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=r)}function xw(e,t){var r=ie;ie=r!==0&&4>r?r:4,e(!0);var n=su.transition;su.transition={};try{e(!1),t()}finally{ie=r,su.transition=n}}function kg(){return Lt().memoizedState}function bw(e,t,r){var n=hn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Sg(e))Eg(t,r);else if(r=ig(e,t,r,n),r!==null){var s=st();Xt(r,e,n,s),jg(r,t,n)}}function _w(e,t,r){var n=hn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Sg(e))Eg(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,er(o,a)){var l=t.interleaved;l===null?(s.next=s,Ed(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=ig(e,t,s,n),r!==null&&(s=st(),Xt(r,e,n,s),jg(r,t,n))}}function Sg(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Eg(e,t){Ki=Ko=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jg(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dd(e,r)}}var Qo={readContext:$t,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},kw={readContext:$t,useCallback:function(e,t){return sr().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:df,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ko(4194308,4,yg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ko(4194308,4,e,t)},useInsertionEffect:function(e,t){return ko(4,2,e,t)},useMemo:function(e,t){var r=sr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=sr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=bw.bind(null,ye,e),[n.memoizedState,e]},useRef:function(e){var t=sr();return e={current:e},t.memoizedState=e},useState:cf,useDebugValue:Id,useDeferredValue:function(e){return sr().memoizedState=e},useTransition:function(){var e=cf(!1),t=e[0];return e=xw.bind(null,e[1]),sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ye,s=sr();if(pe){if(r===void 0)throw Error(N(407));r=r()}else{if(r=t(),Fe===null)throw Error(N(349));Xn&30||cg(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,df(hg.bind(null,n,i,e),[e]),n.flags|=2048,pa(9,dg.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=sr(),t=Fe.identifierPrefix;if(pe){var r=kr,n=_r;r=(n&~(1<<32-Zt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ha++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ww++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sw={readContext:$t,useCallback:xg,useContext:$t,useEffect:Ad,useImperativeHandle:wg,useInsertionEffect:gg,useLayoutEffect:vg,useMemo:bg,useReducer:iu,useRef:mg,useState:function(){return iu(fa)},useDebugValue:Id,useDeferredValue:function(e){var t=Lt();return _g(t,Re.memoizedState,e)},useTransition:function(){var e=iu(fa)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:lg,useSyncExternalStore:ug,useId:kg,unstable_isNewReconciler:!1},Ew={readContext:$t,useCallback:xg,useContext:$t,useEffect:Ad,useImperativeHandle:wg,useInsertionEffect:gg,useLayoutEffect:vg,useMemo:bg,useReducer:au,useRef:mg,useState:function(){return au(fa)},useDebugValue:Id,useDeferredValue:function(e){var t=Lt();return Re===null?t.memoizedState=e:_g(t,Re.memoizedState,e)},useTransition:function(){var e=au(fa)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:lg,useSyncExternalStore:ug,useId:kg,unstable_isNewReconciler:!1};function Ht(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function nc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:we({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yl={isMounted:function(e){return(e=e._reactInternals)?os(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=st(),s=hn(e),i=Sr(n,s);i.payload=t,r!=null&&(i.callback=r),t=cn(e,i,s),t!==null&&(Xt(t,e,s,n),bo(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=st(),s=hn(e),i=Sr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=cn(e,i,s),t!==null&&(Xt(t,e,s,n),bo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=st(),n=hn(e),s=Sr(r,n);s.tag=2,t!=null&&(s.callback=t),t=cn(e,s,n),t!==null&&(Xt(t,e,n,r),bo(t,e,n))}};function hf(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!aa(r,n)||!aa(s,i):!0}function Cg(e,t,r){var n=!1,s=yn,i=t.contextType;return typeof i=="object"&&i!==null?i=$t(i):(s=mt(t)?Yn:Xe.current,n=t.contextTypes,i=(n=n!=null)?ni(e,s):yn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ff(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&yl.enqueueReplaceState(t,t.state,null)}function sc(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},jd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=$t(i):(i=mt(t)?Yn:Xe.current,s.context=ni(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(nc(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&yl.enqueueReplaceState(s,s.state,null),Ho(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function oi(e,t){try{var r="",n=t;do r+=Xy(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ou(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ic(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var jw=typeof WeakMap=="function"?WeakMap:Map;function Ng(e,t,r){r=Sr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Jo||(Jo=!0,mc=n),ic(e,t)},r}function Tg(e,t,r){r=Sr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ic(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ic(e,t),typeof n!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function pf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new jw;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=zw.bind(null,e,t,r),t.then(e,e))}function mf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gf(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Sr(-1,1),t.tag=2,cn(r,t,1))),r.lanes|=1),e)}var Cw=Pr.ReactCurrentOwner,ft=!1;function rt(e,t,r,n){t.child=e===null?sg(t,null,r,n):ii(t,e.child,r,n)}function vf(e,t,r,n,s){r=r.render;var i=t.ref;return Us(t,s),n=Rd(e,t,r,n,i,s),r=Od(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Tr(e,t,s)):(pe&&r&&wd(t),t.flags|=1,rt(e,t,n,s),t.child)}function yf(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Bd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Pg(e,t,i,n,s)):(e=Co(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:aa,r(a,n)&&e.ref===t.ref)return Tr(e,t,s)}return t.flags|=1,e=fn(i,n),e.ref=t.ref,e.return=t,t.child=e}function Pg(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(aa(i,n)&&e.ref===t.ref)if(ft=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(ft=!0);else return t.lanes=e.lanes,Tr(e,t,s)}return ac(e,t,r,n,s)}function Rg(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Os,yt),yt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(Os,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ue(Os,yt),yt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ue(Os,yt),yt|=n;return rt(e,t,s,r),t.child}function Og(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ac(e,t,r,n,s){var i=mt(r)?Yn:Xe.current;return i=ni(t,i),Us(t,s),r=Rd(e,t,r,n,i,s),n=Od(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Tr(e,t,s)):(pe&&n&&wd(t),t.flags|=1,rt(e,t,r,s),t.child)}function wf(e,t,r,n,s){if(mt(r)){var i=!0;zo(t)}else i=!1;if(Us(t,s),t.stateNode===null)So(e,t),Cg(t,r,n),sc(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=$t(c):(c=mt(r)?Yn:Xe.current,c=ni(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&ff(t,a,n,c),Fr=!1;var p=t.memoizedState;a.state=p,Ho(t,n,a,s),l=t.memoizedState,o!==n||p!==l||pt.current||Fr?(typeof d=="function"&&(nc(t,r,d,n),l=t.memoizedState),(o=Fr||hf(t,r,o,n,p,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,ag(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Ht(t.type,o),a.props=c,f=t.pendingProps,p=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=$t(l):(l=mt(r)?Yn:Xe.current,l=ni(t,l));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||p!==l)&&ff(t,a,n,l),Fr=!1,p=t.memoizedState,a.state=p,Ho(t,n,a,s);var w=t.memoizedState;o!==f||p!==w||pt.current||Fr?(typeof h=="function"&&(nc(t,r,h,n),w=t.memoizedState),(c=Fr||hf(t,r,c,n,p,w,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,w,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,w,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),a.props=n,a.state=w,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return oc(e,t,r,n,i,s)}function oc(e,t,r,n,s,i){Og(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&nf(t,r,!1),Tr(e,t,i);n=t.stateNode,Cw.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=ii(t,e.child,null,i),t.child=ii(t,null,o,i)):rt(e,t,o,i),t.memoizedState=n.state,s&&nf(t,r,!0),t.child}function Ag(e){var t=e.stateNode;t.pendingContext?rf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rf(e,t.context,!1),Cd(e,t.containerInfo)}function xf(e,t,r,n,s){return si(),bd(s),t.flags|=256,rt(e,t,r,n),t.child}var lc={dehydrated:null,treeContext:null,retryLane:0};function uc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ig(e,t,r){var n=t.pendingProps,s=ve.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ue(ve,s&1),e===null)return tc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=bl(a,n,0,null),e=Jn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=uc(r),t.memoizedState=lc,e):$d(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Nw(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=fn(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=fn(o,i):(i=Jn(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?uc(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=lc,n}return i=e.child,e=i.sibling,n=fn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function $d(e,t){return t=bl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function so(e,t,r,n){return n!==null&&bd(n),ii(t,e.child,null,r),e=$d(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nw(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=ou(Error(N(422))),so(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=bl({mode:"visible",children:n.children},s,0,null),i=Jn(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ii(t,e.child,null,a),t.child.memoizedState=uc(a),t.memoizedState=lc,i);if(!(t.mode&1))return so(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(N(419)),n=ou(i,n,void 0),so(e,t,a,n)}if(o=(a&e.childLanes)!==0,ft||o){if(n=Fe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nr(e,s),Xt(n,e,s,-1))}return Fd(),n=ou(Error(N(421))),so(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Fw.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,kt=un(s.nextSibling),St=t,pe=!0,Yt=null,e!==null&&(Rt[Ot++]=_r,Rt[Ot++]=kr,Rt[Ot++]=Zn,_r=e.id,kr=e.overflow,Zn=t),t=$d(t,n.children),t.flags|=4096,t)}function bf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),rc(e.return,t,r)}function lu(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function $g(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(rt(e,t,n.children,r),n=ve.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bf(e,r,t);else if(e.tag===19)bf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ue(ve,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Vo(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),lu(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Vo(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}lu(t,!0,r,null,i);break;case"together":lu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function So(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),es|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,r=fn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=fn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Tw(e,t,r){switch(t.tag){case 3:Ag(t),si();break;case 5:og(t);break;case 1:mt(t.type)&&zo(t);break;case 4:Cd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ue(Wo,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ue(ve,ve.current&1),t.flags|=128,null):r&t.child.childLanes?Ig(e,t,r):(ue(ve,ve.current&1),e=Tr(e,t,r),e!==null?e.sibling:null);ue(ve,ve.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return $g(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(ve,ve.current),n)break;return null;case 22:case 23:return t.lanes=0,Rg(e,t,r)}return Tr(e,t,r)}var Lg,cc,Dg,Ug;Lg=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cc=function(){};Dg=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ln(cr.current);var i=null;switch(r){case"input":s=Ou(e,s),n=Ou(e,n),i=[];break;case"select":s=we({},s,{value:void 0}),n=we({},n,{value:void 0}),i=[];break;case"textarea":s=$u(e,s),n=$u(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Uo)}Du(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Xi.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Xi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&de("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Ug=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ri(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Pw(e,t,r){var n=t.pendingProps;switch(xd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return mt(t.type)&&Mo(),Je(t),null;case 3:return n=t.stateNode,ai(),he(pt),he(Xe),Td(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ro(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yt!==null&&(yc(Yt),Yt=null))),cc(e,t),Je(t),null;case 5:Nd(t);var s=Ln(da.current);if(r=t.type,e!==null&&t.stateNode!=null)Dg(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(N(166));return Je(t),null}if(e=Ln(cr.current),ro(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[lr]=t,n[ua]=i,e=(t.mode&1)!==0,r){case"dialog":de("cancel",n),de("close",n);break;case"iframe":case"object":case"embed":de("load",n);break;case"video":case"audio":for(s=0;s<Mi.length;s++)de(Mi[s],n);break;case"source":de("error",n);break;case"img":case"image":case"link":de("error",n),de("load",n);break;case"details":de("toggle",n);break;case"input":Th(n,i),de("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},de("invalid",n);break;case"textarea":Rh(n,i),de("invalid",n)}Du(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&to(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&to(n.textContent,o,e),s=["children",""+o]):Xi.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&de("scroll",n)}switch(r){case"input":Ka(n),Ph(n,i,!0);break;case"textarea":Ka(n),Oh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Uo)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[lr]=t,e[ua]=n,Lg(e,t,!1,!1),t.stateNode=e;e:{switch(a=Uu(r,n),r){case"dialog":de("cancel",e),de("close",e),s=n;break;case"iframe":case"object":case"embed":de("load",e),s=n;break;case"video":case"audio":for(s=0;s<Mi.length;s++)de(Mi[s],e);s=n;break;case"source":de("error",e),s=n;break;case"img":case"image":case"link":de("error",e),de("load",e),s=n;break;case"details":de("toggle",e),s=n;break;case"input":Th(e,n),s=Ou(e,n),de("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=we({},n,{value:void 0}),de("invalid",e);break;case"textarea":Rh(e,n),s=$u(e,n),de("invalid",e);break;default:s=n}Du(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?mm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fm(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ea(e,l):typeof l=="number"&&ea(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&de("scroll",e):l!=null&&id(e,i,l,a))}switch(r){case"input":Ka(e),Ph(e,n,!1);break;case"textarea":Ka(e),Oh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+vn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Is(e,!!n.multiple,i,!1):n.defaultValue!=null&&Is(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Uo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Je(t),null;case 6:if(e&&t.stateNode!=null)Ug(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(N(166));if(r=Ln(da.current),Ln(cr.current),ro(t)){if(n=t.stateNode,r=t.memoizedProps,n[lr]=t,(i=n.nodeValue!==r)&&(e=St,e!==null))switch(e.tag){case 3:to(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&to(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lr]=t,t.stateNode=n}return Je(t),null;case 13:if(he(ve),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&kt!==null&&t.mode&1&&!(t.flags&128))rg(),si(),t.flags|=98560,i=!1;else if(i=ro(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[lr]=t}else si(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Je(t),i=!1}else Yt!==null&&(yc(Yt),Yt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Ae===0&&(Ae=3):Fd())),t.updateQueue!==null&&(t.flags|=4),Je(t),null);case 4:return ai(),cc(e,t),e===null&&oa(t.stateNode.containerInfo),Je(t),null;case 10:return Sd(t.type._context),Je(t),null;case 17:return mt(t.type)&&Mo(),Je(t),null;case 19:if(he(ve),i=t.memoizedState,i===null)return Je(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Ri(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Vo(e),a!==null){for(t.flags|=128,Ri(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ue(ve,ve.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ee()>li&&(t.flags|=128,n=!0,Ri(i,!1),t.lanes=4194304)}else{if(!n)if(e=Vo(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ri(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!pe)return Je(t),null}else 2*Ee()-i.renderingStartTime>li&&r!==1073741824&&(t.flags|=128,n=!0,Ri(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ee(),t.sibling=null,r=ve.current,ue(ve,n?r&1|2:r&1),t):(Je(t),null);case 22:case 23:return zd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?yt&1073741824&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function Rw(e,t){switch(xd(t),t.tag){case 1:return mt(t.type)&&Mo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ai(),he(pt),he(Xe),Td(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nd(t),null;case 13:if(he(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(ve),null;case 4:return ai(),null;case 10:return Sd(t.type._context),null;case 22:case 23:return zd(),null;case 24:return null;default:return null}}var io=!1,Ze=!1,Ow=typeof WeakSet=="function"?WeakSet:Set,L=null;function Rs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_e(e,t,n)}else r.current=null}function dc(e,t,r){try{r()}catch(n){_e(e,t,n)}}var _f=!1;function Aw(e,t){if(Qu=$o,e=Wm(),yd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==r||s!==0&&f.nodeType!==3||(o=a+s),f!==i||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===r&&++c===s&&(o=a),p===i&&++d===n&&(l=a),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Gu={focusedElem:e,selectionRange:r},$o=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,x=w.memoizedState,g=t.stateNode,m=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ht(t.type,v),x);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(b){_e(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return w=_f,_f=!1,w}function Qi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&dc(t,r,i)}s=s.next}while(s!==n)}}function wl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function hc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Mg(e){var t=e.alternate;t!==null&&(e.alternate=null,Mg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lr],delete t[ua],delete t[Zu],delete t[mw],delete t[gw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zg(e){return e.tag===5||e.tag===3||e.tag===4}function kf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Uo));else if(n!==4&&(e=e.child,e!==null))for(fc(e,t,r),e=e.sibling;e!==null;)fc(e,t,r),e=e.sibling}function pc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(pc(e,t,r),e=e.sibling;e!==null;)pc(e,t,r),e=e.sibling}var qe=null,Gt=!1;function Lr(e,t,r){for(r=r.child;r!==null;)Fg(e,t,r),r=r.sibling}function Fg(e,t,r){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(dl,r)}catch{}switch(r.tag){case 5:Ze||Rs(r,t);case 6:var n=qe,s=Gt;qe=null,Lr(e,t,r),qe=n,Gt=s,qe!==null&&(Gt?(e=qe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):qe.removeChild(r.stateNode));break;case 18:qe!==null&&(Gt?(e=qe,r=r.stateNode,e.nodeType===8?tu(e.parentNode,r):e.nodeType===1&&tu(e,r),sa(e)):tu(qe,r.stateNode));break;case 4:n=qe,s=Gt,qe=r.stateNode.containerInfo,Gt=!0,Lr(e,t,r),qe=n,Gt=s;break;case 0:case 11:case 14:case 15:if(!Ze&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&dc(r,t,a),s=s.next}while(s!==n)}Lr(e,t,r);break;case 1:if(!Ze&&(Rs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){_e(r,t,o)}Lr(e,t,r);break;case 21:Lr(e,t,r);break;case 22:r.mode&1?(Ze=(n=Ze)||r.memoizedState!==null,Lr(e,t,r),Ze=n):Lr(e,t,r);break;default:Lr(e,t,r)}}function Sf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ow),t.forEach(function(n){var s=Bw.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Bt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:qe=o.stateNode,Gt=!1;break e;case 3:qe=o.stateNode.containerInfo,Gt=!0;break e;case 4:qe=o.stateNode.containerInfo,Gt=!0;break e}o=o.return}if(qe===null)throw Error(N(160));Fg(i,a,s),qe=null,Gt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){_e(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bg(t,e),t=t.sibling}function Bg(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bt(t,e),nr(e),n&4){try{Qi(3,e,e.return),wl(3,e)}catch(v){_e(e,e.return,v)}try{Qi(5,e,e.return)}catch(v){_e(e,e.return,v)}}break;case 1:Bt(t,e),nr(e),n&512&&r!==null&&Rs(r,r.return);break;case 5:if(Bt(t,e),nr(e),n&512&&r!==null&&Rs(r,r.return),e.flags&32){var s=e.stateNode;try{ea(s,"")}catch(v){_e(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&cm(s,i),Uu(o,a);var c=Uu(o,i);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?mm(s,f):d==="dangerouslySetInnerHTML"?fm(s,f):d==="children"?ea(s,f):id(s,d,f,c)}switch(o){case"input":Au(s,i);break;case"textarea":dm(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Is(s,!!i.multiple,h,!1):p!==!!i.multiple&&(i.defaultValue!=null?Is(s,!!i.multiple,i.defaultValue,!0):Is(s,!!i.multiple,i.multiple?[]:"",!1))}s[ua]=i}catch(v){_e(e,e.return,v)}}break;case 6:if(Bt(t,e),nr(e),n&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){_e(e,e.return,v)}}break;case 3:if(Bt(t,e),nr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{sa(t.containerInfo)}catch(v){_e(e,e.return,v)}break;case 4:Bt(t,e),nr(e);break;case 13:Bt(t,e),nr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ud=Ee())),n&4&&Sf(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ze=(c=Ze)||d,Bt(t,e),Ze=c):Bt(t,e),nr(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(L=e,d=e.child;d!==null;){for(f=L=d;L!==null;){switch(p=L,h=p.child,p.tag){case 0:case 11:case 14:case 15:Qi(4,p,p.return);break;case 1:Rs(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){_e(n,r,v)}}break;case 5:Rs(p,p.return);break;case 22:if(p.memoizedState!==null){jf(f);continue}}h!==null?(h.return=p,L=h):jf(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=pm("display",a))}catch(v){_e(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){_e(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bt(t,e),nr(e),n&4&&Sf(e);break;case 21:break;default:Bt(t,e),nr(e)}}function nr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(zg(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ea(s,""),n.flags&=-33);var i=kf(e);pc(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=kf(e);fc(e,o,a);break;default:throw Error(N(161))}}catch(l){_e(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Iw(e,t,r){L=e,Wg(e)}function Wg(e,t,r){for(var n=(e.mode&1)!==0;L!==null;){var s=L,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||io;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Ze;o=io;var c=Ze;if(io=a,(Ze=l)&&!c)for(L=s;L!==null;)a=L,l=a.child,a.tag===22&&a.memoizedState!==null?Cf(s):l!==null?(l.return=a,L=l):Cf(s);for(;i!==null;)L=i,Wg(i),i=i.sibling;L=s,io=o,Ze=c}Ef(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,L=i):Ef(e)}}function Ef(e){for(;L!==null;){var t=L;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ze||wl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ze)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ht(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&uf(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}uf(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&sa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Ze||t.flags&512&&hc(t)}catch(p){_e(t,t.return,p)}}if(t===e){L=null;break}if(r=t.sibling,r!==null){r.return=t.return,L=r;break}L=t.return}}function jf(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var r=t.sibling;if(r!==null){r.return=t.return,L=r;break}L=t.return}}function Cf(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{wl(4,t)}catch(l){_e(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){_e(t,s,l)}}var i=t.return;try{hc(t)}catch(l){_e(t,i,l)}break;case 5:var a=t.return;try{hc(t)}catch(l){_e(t,a,l)}}}catch(l){_e(t,t.return,l)}if(t===e){L=null;break}var o=t.sibling;if(o!==null){o.return=t.return,L=o;break}L=t.return}}var $w=Math.ceil,Go=Pr.ReactCurrentDispatcher,Ld=Pr.ReactCurrentOwner,It=Pr.ReactCurrentBatchConfig,te=0,Fe=null,Te=null,He=0,yt=0,Os=bn(0),Ae=0,ma=null,es=0,xl=0,Dd=0,Gi=null,ht=null,Ud=0,li=1/0,mr=null,Jo=!1,mc=null,dn=null,ao=!1,rn=null,Yo=0,Ji=0,gc=null,Eo=-1,jo=0;function st(){return te&6?Ee():Eo!==-1?Eo:Eo=Ee()}function hn(e){return e.mode&1?te&2&&He!==0?He&-He:yw.transition!==null?(jo===0&&(jo=Cm()),jo):(e=ie,e!==0||(e=window.event,e=e===void 0?16:Im(e.type)),e):1}function Xt(e,t,r,n){if(50<Ji)throw Ji=0,gc=null,Error(N(185));$a(e,r,n),(!(te&2)||e!==Fe)&&(e===Fe&&(!(te&2)&&(xl|=r),Ae===4&&qr(e,He)),gt(e,n),r===1&&te===0&&!(t.mode&1)&&(li=Ee()+500,gl&&_n()))}function gt(e,t){var r=e.callbackNode;y0(e,t);var n=Io(e,e===Fe?He:0);if(n===0)r!==null&&$h(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&$h(r),t===1)e.tag===0?vw(Nf.bind(null,e)):Xm(Nf.bind(null,e)),fw(function(){!(te&6)&&_n()}),r=null;else{switch(Nm(n)){case 1:r=cd;break;case 4:r=Em;break;case 16:r=Ao;break;case 536870912:r=jm;break;default:r=Ao}r=Yg(r,qg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function qg(e,t){if(Eo=-1,jo=0,te&6)throw Error(N(327));var r=e.callbackNode;if(Ms()&&e.callbackNode!==r)return null;var n=Io(e,e===Fe?He:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Zo(e,n);else{t=n;var s=te;te|=2;var i=Vg();(Fe!==e||He!==t)&&(mr=null,li=Ee()+500,Gn(e,t));do try{Uw();break}catch(o){Hg(e,o)}while(!0);kd(),Go.current=i,te=s,Te!==null?t=0:(Fe=null,He=0,t=Ae)}if(t!==0){if(t===2&&(s=Wu(e),s!==0&&(n=s,t=vc(e,s))),t===1)throw r=ma,Gn(e,0),qr(e,n),gt(e,Ee()),r;if(t===6)qr(e,n);else{if(s=e.current.alternate,!(n&30)&&!Lw(s)&&(t=Zo(e,n),t===2&&(i=Wu(e),i!==0&&(n=i,t=vc(e,i))),t===1))throw r=ma,Gn(e,0),qr(e,n),gt(e,Ee()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(N(345));case 2:Pn(e,ht,mr);break;case 3:if(qr(e,n),(n&130023424)===n&&(t=Ud+500-Ee(),10<t)){if(Io(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){st(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Yu(Pn.bind(null,e,ht,mr),t);break}Pn(e,ht,mr);break;case 4:if(qr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Zt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$w(n/1960))-n,10<n){e.timeoutHandle=Yu(Pn.bind(null,e,ht,mr),n);break}Pn(e,ht,mr);break;case 5:Pn(e,ht,mr);break;default:throw Error(N(329))}}}return gt(e,Ee()),e.callbackNode===r?qg.bind(null,e):null}function vc(e,t){var r=Gi;return e.current.memoizedState.isDehydrated&&(Gn(e,t).flags|=256),e=Zo(e,t),e!==2&&(t=ht,ht=r,t!==null&&yc(t)),e}function yc(e){ht===null?ht=e:ht.push.apply(ht,e)}function Lw(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!er(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qr(e,t){for(t&=~Dd,t&=~xl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zt(t),n=1<<r;e[r]=-1,t&=~n}}function Nf(e){if(te&6)throw Error(N(327));Ms();var t=Io(e,0);if(!(t&1))return gt(e,Ee()),null;var r=Zo(e,t);if(e.tag!==0&&r===2){var n=Wu(e);n!==0&&(t=n,r=vc(e,n))}if(r===1)throw r=ma,Gn(e,0),qr(e,t),gt(e,Ee()),r;if(r===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pn(e,ht,mr),gt(e,Ee()),null}function Md(e,t){var r=te;te|=1;try{return e(t)}finally{te=r,te===0&&(li=Ee()+500,gl&&_n())}}function ts(e){rn!==null&&rn.tag===0&&!(te&6)&&Ms();var t=te;te|=1;var r=It.transition,n=ie;try{if(It.transition=null,ie=1,e)return e()}finally{ie=n,It.transition=r,te=t,!(te&6)&&_n()}}function zd(){yt=Os.current,he(Os)}function Gn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,hw(r)),Te!==null)for(r=Te.return;r!==null;){var n=r;switch(xd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Mo();break;case 3:ai(),he(pt),he(Xe),Td();break;case 5:Nd(n);break;case 4:ai();break;case 13:he(ve);break;case 19:he(ve);break;case 10:Sd(n.type._context);break;case 22:case 23:zd()}r=r.return}if(Fe=e,Te=e=fn(e.current,null),He=yt=t,Ae=0,ma=null,Dd=xl=es=0,ht=Gi=null,$n!==null){for(t=0;t<$n.length;t++)if(r=$n[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}$n=null}return e}function Hg(e,t){do{var r=Te;try{if(kd(),_o.current=Qo,Ko){for(var n=ye.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ko=!1}if(Xn=0,Ue=Re=ye=null,Ki=!1,ha=0,Ld.current=null,r===null||r.return===null){Ae=1,ma=t,Te=null;break}e:{var i=e,a=r.return,o=r,l=t;if(t=He,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=mf(a);if(h!==null){h.flags&=-257,gf(h,a,o,i,t),h.mode&1&&pf(i,c,t),t=h,l=c;var w=t.updateQueue;if(w===null){var v=new Set;v.add(l),t.updateQueue=v}else w.add(l);break e}else{if(!(t&1)){pf(i,c,t),Fd();break e}l=Error(N(426))}}else if(pe&&o.mode&1){var x=mf(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),gf(x,a,o,i,t),bd(oi(l,o));break e}}i=l=oi(l,o),Ae!==4&&(Ae=2),Gi===null?Gi=[i]:Gi.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Ng(i,l,t);lf(i,g);break e;case 1:o=l;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(dn===null||!dn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Tg(i,o,t);lf(i,b);break e}}i=i.return}while(i!==null)}Qg(r)}catch(S){t=S,Te===r&&r!==null&&(Te=r=r.return);continue}break}while(!0)}function Vg(){var e=Go.current;return Go.current=Qo,e===null?Qo:e}function Fd(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Fe===null||!(es&268435455)&&!(xl&268435455)||qr(Fe,He)}function Zo(e,t){var r=te;te|=2;var n=Vg();(Fe!==e||He!==t)&&(mr=null,Gn(e,t));do try{Dw();break}catch(s){Hg(e,s)}while(!0);if(kd(),te=r,Go.current=n,Te!==null)throw Error(N(261));return Fe=null,He=0,Ae}function Dw(){for(;Te!==null;)Kg(Te)}function Uw(){for(;Te!==null&&!u0();)Kg(Te)}function Kg(e){var t=Jg(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?Qg(e):Te=t,Ld.current=null}function Qg(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Rw(r,t),r!==null){r.flags&=32767,Te=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Te=null;return}}else if(r=Pw(r,t,yt),r!==null){Te=r;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Ae===0&&(Ae=5)}function Pn(e,t,r){var n=ie,s=It.transition;try{It.transition=null,ie=1,Mw(e,t,r,n)}finally{It.transition=s,ie=n}return null}function Mw(e,t,r,n){do Ms();while(rn!==null);if(te&6)throw Error(N(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(w0(e,i),e===Fe&&(Te=Fe=null,He=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ao||(ao=!0,Yg(Ao,function(){return Ms(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=It.transition,It.transition=null;var a=ie;ie=1;var o=te;te|=4,Ld.current=null,Aw(e,r),Bg(r,e),iw(Gu),$o=!!Qu,Gu=Qu=null,e.current=r,Iw(r),c0(),te=o,ie=a,It.transition=i}else e.current=r;if(ao&&(ao=!1,rn=e,Yo=s),i=e.pendingLanes,i===0&&(dn=null),f0(r.stateNode),gt(e,Ee()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Jo)throw Jo=!1,e=mc,mc=null,e;return Yo&1&&e.tag!==0&&Ms(),i=e.pendingLanes,i&1?e===gc?Ji++:(Ji=0,gc=e):Ji=0,_n(),null}function Ms(){if(rn!==null){var e=Nm(Yo),t=It.transition,r=ie;try{if(It.transition=null,ie=16>e?16:e,rn===null)var n=!1;else{if(e=rn,rn=null,Yo=0,te&6)throw Error(N(331));var s=te;for(te|=4,L=e.current;L!==null;){var i=L,a=i.child;if(L.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(L=c;L!==null;){var d=L;switch(d.tag){case 0:case 11:case 15:Qi(8,d,i)}var f=d.child;if(f!==null)f.return=d,L=f;else for(;L!==null;){d=L;var p=d.sibling,h=d.return;if(Mg(d),d===c){L=null;break}if(p!==null){p.return=h,L=p;break}L=h}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}L=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,L=a;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Qi(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,L=g;break e}L=i.return}}var m=e.current;for(L=m;L!==null;){a=L;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,L=y;else e:for(a=m;L!==null;){if(o=L,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:wl(9,o)}}catch(S){_e(o,o.return,S)}if(o===a){L=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,L=b;break e}L=o.return}}if(te=s,_n(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(dl,e)}catch{}n=!0}return n}finally{ie=r,It.transition=t}}return!1}function Tf(e,t,r){t=oi(r,t),t=Ng(e,t,1),e=cn(e,t,1),t=st(),e!==null&&($a(e,1,t),gt(e,t))}function _e(e,t,r){if(e.tag===3)Tf(e,e,r);else for(;t!==null;){if(t.tag===3){Tf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(dn===null||!dn.has(n))){e=oi(r,e),e=Tg(t,e,1),t=cn(t,e,1),e=st(),t!==null&&($a(t,1,e),gt(t,e));break}}t=t.return}}function zw(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=st(),e.pingedLanes|=e.suspendedLanes&r,Fe===e&&(He&r)===r&&(Ae===4||Ae===3&&(He&130023424)===He&&500>Ee()-Ud?Gn(e,0):Dd|=r),gt(e,t)}function Gg(e,t){t===0&&(e.mode&1?(t=Ja,Ja<<=1,!(Ja&130023424)&&(Ja=4194304)):t=1);var r=st();e=Nr(e,t),e!==null&&($a(e,t,r),gt(e,r))}function Fw(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Gg(e,r)}function Bw(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(t),Gg(e,r)}var Jg;Jg=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||pt.current)ft=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ft=!1,Tw(e,t,r);ft=!!(e.flags&131072)}else ft=!1,pe&&t.flags&1048576&&eg(t,Bo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;So(e,t),e=t.pendingProps;var s=ni(t,Xe.current);Us(t,r),s=Rd(null,t,n,e,s,r);var i=Od();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(n)?(i=!0,zo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,jd(t),s.updater=yl,t.stateNode=s,s._reactInternals=t,sc(t,n,e,r),t=oc(null,t,n,!0,i,r)):(t.tag=0,pe&&i&&wd(t),rt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(So(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=qw(n),e=Ht(n,e),s){case 0:t=ac(null,t,n,e,r);break e;case 1:t=wf(null,t,n,e,r);break e;case 11:t=vf(null,t,n,e,r);break e;case 14:t=yf(null,t,n,Ht(n.type,e),r);break e}throw Error(N(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ht(n,s),ac(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ht(n,s),wf(e,t,n,s,r);case 3:e:{if(Ag(t),e===null)throw Error(N(387));n=t.pendingProps,i=t.memoizedState,s=i.element,ag(e,t),Ho(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=oi(Error(N(423)),t),t=xf(e,t,n,r,s);break e}else if(n!==s){s=oi(Error(N(424)),t),t=xf(e,t,n,r,s);break e}else for(kt=un(t.stateNode.containerInfo.firstChild),St=t,pe=!0,Yt=null,r=sg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(si(),n===s){t=Tr(e,t,r);break e}rt(e,t,n,r)}t=t.child}return t;case 5:return og(t),e===null&&tc(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Ju(n,s)?a=null:i!==null&&Ju(n,i)&&(t.flags|=32),Og(e,t),rt(e,t,a,r),t.child;case 6:return e===null&&tc(t),null;case 13:return Ig(e,t,r);case 4:return Cd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ii(t,null,n,r):rt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ht(n,s),vf(e,t,n,s,r);case 7:return rt(e,t,t.pendingProps,r),t.child;case 8:return rt(e,t,t.pendingProps.children,r),t.child;case 12:return rt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,ue(Wo,n._currentValue),n._currentValue=a,i!==null)if(er(i.value,a)){if(i.children===s.children&&!pt.current){t=Tr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Sr(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),rc(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(N(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),rc(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}rt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Us(t,r),s=$t(s),n=n(s),t.flags|=1,rt(e,t,n,r),t.child;case 14:return n=t.type,s=Ht(n,t.pendingProps),s=Ht(n.type,s),yf(e,t,n,s,r);case 15:return Pg(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ht(n,s),So(e,t),t.tag=1,mt(n)?(e=!0,zo(t)):e=!1,Us(t,r),Cg(t,n,s),sc(t,n,s,r),oc(null,t,n,!0,e,r);case 19:return $g(e,t,r);case 22:return Rg(e,t,r)}throw Error(N(156,t.tag))};function Yg(e,t){return Sm(e,t)}function Ww(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,r,n){return new Ww(e,t,r,n)}function Bd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qw(e){if(typeof e=="function")return Bd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===od)return 11;if(e===ld)return 14}return 2}function fn(e,t){var r=e.alternate;return r===null?(r=At(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Co(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Bd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case _s:return Jn(r.children,s,i,t);case ad:a=8,s|=8;break;case Nu:return e=At(12,r,t,s|2),e.elementType=Nu,e.lanes=i,e;case Tu:return e=At(13,r,t,s),e.elementType=Tu,e.lanes=i,e;case Pu:return e=At(19,r,t,s),e.elementType=Pu,e.lanes=i,e;case om:return bl(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case im:a=10;break e;case am:a=9;break e;case od:a=11;break e;case ld:a=14;break e;case zr:a=16,n=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=At(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Jn(e,t,r,n){return e=At(7,e,n,t),e.lanes=r,e}function bl(e,t,r,n){return e=At(22,e,n,t),e.elementType=om,e.lanes=r,e.stateNode={isHidden:!1},e}function uu(e,t,r){return e=At(6,e,null,t),e.lanes=r,e}function cu(e,t,r){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hw(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ql(0),this.expirationTimes=ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ql(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wd(e,t,r,n,s,i,a,o,l){return e=new Hw(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=At(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jd(i),e}function Vw(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Zg(e){if(!e)return yn;e=e._reactInternals;e:{if(os(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var r=e.type;if(mt(r))return Zm(e,r,t)}return t}function Xg(e,t,r,n,s,i,a,o,l){return e=Wd(r,n,!0,e,s,i,a,o,l),e.context=Zg(null),r=e.current,n=st(),s=hn(r),i=Sr(n,s),i.callback=t??null,cn(r,i,s),e.current.lanes=s,$a(e,s,n),gt(e,n),e}function _l(e,t,r,n){var s=t.current,i=st(),a=hn(s);return r=Zg(r),t.context===null?t.context=r:t.pendingContext=r,t=Sr(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=cn(s,t,a),e!==null&&(Xt(e,s,a,i),bo(e,s,a)),a}function Xo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function qd(e,t){Pf(e,t),(e=e.alternate)&&Pf(e,t)}function Kw(){return null}var ev=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hd(e){this._internalRoot=e}kl.prototype.render=Hd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));_l(e,t,null,null)};kl.prototype.unmount=Hd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ts(function(){_l(null,e,null,null)}),t[Cr]=null}};function kl(e){this._internalRoot=e}kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rm();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Wr.length&&t!==0&&t<Wr[r].priority;r++);Wr.splice(r,0,e),r===0&&Am(e)}};function Vd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Rf(){}function Qw(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Xo(a);i.call(c)}}var a=Xg(t,n,e,0,null,!1,!1,"",Rf);return e._reactRootContainer=a,e[Cr]=a.current,oa(e.nodeType===8?e.parentNode:e),ts(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=Xo(l);o.call(c)}}var l=Wd(e,0,!1,null,null,!1,!1,"",Rf);return e._reactRootContainer=l,e[Cr]=l.current,oa(e.nodeType===8?e.parentNode:e),ts(function(){_l(t,l,r,n)}),l}function El(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Xo(a);o.call(l)}}_l(t,a,e,s)}else a=Qw(r,t,e,s,n);return Xo(a)}Tm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ui(t.pendingLanes);r!==0&&(dd(t,r|1),gt(t,Ee()),!(te&6)&&(li=Ee()+500,_n()))}break;case 13:ts(function(){var n=Nr(e,1);if(n!==null){var s=st();Xt(n,e,1,s)}}),qd(e,1)}};hd=function(e){if(e.tag===13){var t=Nr(e,134217728);if(t!==null){var r=st();Xt(t,e,134217728,r)}qd(e,134217728)}};Pm=function(e){if(e.tag===13){var t=hn(e),r=Nr(e,t);if(r!==null){var n=st();Xt(r,e,t,n)}qd(e,t)}};Rm=function(){return ie};Om=function(e,t){var r=ie;try{return ie=e,t()}finally{ie=r}};zu=function(e,t,r){switch(t){case"input":if(Au(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ml(n);if(!s)throw Error(N(90));um(n),Au(n,s)}}}break;case"textarea":dm(e,r);break;case"select":t=r.value,t!=null&&Is(e,!!r.multiple,t,!1)}};ym=Md;wm=ts;var Gw={usingClientEntryPoint:!1,Events:[Da,js,ml,gm,vm,Md]},Oi={findFiberByHostInstance:In,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jw={bundleType:Oi.bundleType,version:Oi.version,rendererPackageName:Oi.rendererPackageName,rendererConfig:Oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_m(e),e===null?null:e.stateNode},findFiberByHostInstance:Oi.findFiberByHostInstance||Kw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oo.isDisabled&&oo.supportsFiber)try{dl=oo.inject(Jw),ur=oo}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gw;jt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vd(t))throw Error(N(200));return Vw(e,t,null,r)};jt.createRoot=function(e,t){if(!Vd(e))throw Error(N(299));var r=!1,n="",s=ev;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Wd(e,1,!1,null,null,r,!1,n,s),e[Cr]=t.current,oa(e.nodeType===8?e.parentNode:e),new Hd(t)};jt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=_m(t),e=e===null?null:e.stateNode,e};jt.flushSync=function(e){return ts(e)};jt.hydrate=function(e,t,r){if(!Sl(t))throw Error(N(200));return El(null,e,t,!0,r)};jt.hydrateRoot=function(e,t,r){if(!Vd(e))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=ev;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Xg(t,null,e,1,r??null,s,!1,i,a),e[Cr]=t.current,oa(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new kl(t)};jt.render=function(e,t,r){if(!Sl(t))throw Error(N(200));return El(null,e,t,!1,r)};jt.unmountComponentAtNode=function(e){if(!Sl(e))throw Error(N(40));return e._reactRootContainer?(ts(function(){El(null,null,e,!1,function(){e._reactRootContainer=null,e[Cr]=null})}),!0):!1};jt.unstable_batchedUpdates=Md;jt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Sl(r))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return El(e,t,r,!1,n)};jt.version="18.3.1-next-f1338f8080-20240426";function tv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tv)}catch(e){console.error(e)}}tv(),tm.exports=jt;var rv=tm.exports;const Yw=Zc(rv);var Of=rv;ju.createRoot=Of.createRoot,ju.hydrateRoot=Of.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ga(){return ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ga.apply(this,arguments)}var nn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(nn||(nn={}));const Af="popstate";function Zw(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return wc("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:el(s)}return ex(t,r,null,e)}function je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Xw(){return Math.random().toString(36).substr(2,8)}function If(e,t){return{usr:e.state,key:e.key,idx:t}}function wc(e,t,r,n){return r===void 0&&(r=null),ga({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gi(t):t,{state:r,key:t&&t.key||n||Xw()})}function el(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ex(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=nn.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(ga({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=nn.Pop;let x=d(),g=x==null?null:x-c;c=x,l&&l({action:o,location:v.location,delta:g})}function p(x,g){o=nn.Push;let m=wc(v.location,x,g);c=d()+1;let y=If(m,c),b=v.createHref(m);try{a.pushState(y,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}i&&l&&l({action:o,location:v.location,delta:1})}function h(x,g){o=nn.Replace;let m=wc(v.location,x,g);c=d();let y=If(m,c),b=v.createHref(m);a.replaceState(y,"",b),i&&l&&l({action:o,location:v.location,delta:0})}function w(x){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:el(x);return m=m.replace(/ $/,"%20"),je(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let v={get action(){return o},get location(){return e(s,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Af,f),l=x,()=>{s.removeEventListener(Af,f),l=null}},createHref(x){return t(s,x)},createURL:w,encodeLocation(x){let g=w(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:h,go(x){return a.go(x)}};return v}var $f;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($f||($f={}));function tx(e,t,r){return r===void 0&&(r="/"),rx(e,t,r)}function rx(e,t,r,n){let s=typeof t=="string"?gi(t):t,i=Qd(s.pathname||"/",r);if(i==null)return null;let a=nv(e);nx(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=mx(i);o=hx(a[l],c)}return o}function nv(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(je(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=pn([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(je(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),nv(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:cx(c,i.index),routesMeta:d})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of sv(i.path))s(i,a,l)}),t}function sv(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=sv(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function nx(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:dx(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const sx=/^:[\w-]+$/,ix=3,ax=2,ox=1,lx=10,ux=-2,Lf=e=>e==="*";function cx(e,t){let r=e.split("/"),n=r.length;return r.some(Lf)&&(n+=ux),t&&(n+=ax),r.filter(s=>!Lf(s)).reduce((s,i)=>s+(sx.test(i)?ix:i===""?ox:lx),n)}function dx(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function hx(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=fx({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:pn([i,f.pathname]),pathnameBase:xx(pn([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=pn([i,f.pathnameBase]))}return a}function fx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=px(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:p,isOptional:h}=d;if(p==="*"){let v=o[f]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=o[f];return h&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function px(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Kd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function mx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Qd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const gx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vx=e=>gx.test(e);function yx(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?gi(e):e,i;if(r)if(vx(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Kd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?i=Df(r.substring(1),"/"):i=Df(r,t)}else i=t;return{pathname:i,search:bx(n),hash:_x(s)}}function Df(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function du(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wx(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Gd(e,t){let r=wx(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Jd(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=gi(e):(s=ga({},e),je(!s.pathname||!s.pathname.includes("?"),du("?","pathname","search",s)),je(!s.pathname||!s.pathname.includes("#"),du("#","pathname","hash",s)),je(!s.search||!s.search.includes("#"),du("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let f=t.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}o=f>=0?t[f]:"/"}let l=yx(s,o),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const pn=e=>e.join("/").replace(/\/\/+/g,"/"),xx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_x=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const iv=["post","put","patch","delete"];new Set(iv);const Sx=["get",...iv];new Set(Sx);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},va.apply(this,arguments)}const Yd=E.createContext(null),Ex=E.createContext(null),kn=E.createContext(null),jl=E.createContext(null),dr=E.createContext({outlet:null,matches:[],isDataRoute:!1}),av=E.createContext(null);function jx(e,t){let{relative:r}=t===void 0?{}:t;vi()||je(!1);let{basename:n,navigator:s}=E.useContext(kn),{hash:i,pathname:a,search:o}=lv(e,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:pn([n,a])),s.createHref({pathname:l,search:o,hash:i})}function vi(){return E.useContext(jl)!=null}function yi(){return vi()||je(!1),E.useContext(jl).location}function ov(e){E.useContext(kn).static||E.useLayoutEffect(e)}function rr(){let{isDataRoute:e}=E.useContext(dr);return e?Fx():Cx()}function Cx(){vi()||je(!1);let e=E.useContext(Yd),{basename:t,future:r,navigator:n}=E.useContext(kn),{matches:s}=E.useContext(dr),{pathname:i}=yi(),a=JSON.stringify(Gd(s,r.v7_relativeSplatPath)),o=E.useRef(!1);return ov(()=>{o.current=!0}),E.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=Jd(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:pn([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,a,i,e])}const Nx=E.createContext(null);function Tx(e){let t=E.useContext(dr).outlet;return t&&E.createElement(Nx.Provider,{value:e},t)}function Zd(){let{matches:e}=E.useContext(dr),t=e[e.length-1];return t?t.params:{}}function lv(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=E.useContext(kn),{matches:s}=E.useContext(dr),{pathname:i}=yi(),a=JSON.stringify(Gd(s,n.v7_relativeSplatPath));return E.useMemo(()=>Jd(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function Px(e,t){return Rx(e,t)}function Rx(e,t,r,n){vi()||je(!1);let{navigator:s}=E.useContext(kn),{matches:i}=E.useContext(dr),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=yi(),d;if(t){var f;let x=typeof t=="string"?gi(t):t;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||je(!1),d=x}else d=c;let p=d.pathname||"/",h=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=tx(e,{pathname:h}),v=Lx(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:pn([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:pn([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&v?E.createElement(jl.Provider,{value:{location:va({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:nn.Pop}},v):v}function Ox(){let e=zx(),t=kx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},t),r?E.createElement("pre",{style:s},r):null,null)}const Ax=E.createElement(Ox,null);class Ix extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?E.createElement(dr.Provider,{value:this.props.routeContext},E.createElement(av.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $x(e){let{routeContext:t,match:r,children:n}=e,s=E.useContext(Yd);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),E.createElement(dr.Provider,{value:t},n)}function Lx(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||je(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:h}=r,w=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,p)=>{let h,w=!1,v=null,x=null;r&&(h=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||Ax,l&&(c<0&&p===0?(Bx("route-fallback"),w=!0,x=null):c===p&&(w=!0,x=f.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,p+1)),m=()=>{let y;return h?y=v:w?y=x:f.route.Component?y=E.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,E.createElement($x,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?E.createElement(Ix,{location:r.location,revalidation:r.revalidation,component:v,error:h,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var uv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uv||{}),cv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(cv||{});function Dx(e){let t=E.useContext(Yd);return t||je(!1),t}function Ux(e){let t=E.useContext(Ex);return t||je(!1),t}function Mx(e){let t=E.useContext(dr);return t||je(!1),t}function dv(e){let t=Mx(),r=t.matches[t.matches.length-1];return r.route.id||je(!1),r.route.id}function zx(){var e;let t=E.useContext(av),r=Ux(),n=dv();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Fx(){let{router:e}=Dx(uv.UseNavigateStable),t=dv(cv.UseNavigateStable),r=E.useRef(!1);return ov(()=>{r.current=!0}),E.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,va({fromRouteId:t},i)))},[e,t])}const Uf={};function Bx(e,t,r){Uf[e]||(Uf[e]=!0)}function Wx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function tl(e){let{to:t,replace:r,state:n,relative:s}=e;vi()||je(!1);let{future:i,static:a}=E.useContext(kn),{matches:o}=E.useContext(dr),{pathname:l}=yi(),c=rr(),d=Jd(t,Gd(o,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return E.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:s}),[c,f,s,r,n]),null}function hv(e){return Tx(e.context)}function Ye(e){je(!1)}function qx(e){let{basename:t="/",children:r=null,location:n,navigationType:s=nn.Pop,navigator:i,static:a=!1,future:o}=e;vi()&&je(!1);let l=t.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:i,static:a,future:va({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof n=="string"&&(n=gi(n));let{pathname:d="/",search:f="",hash:p="",state:h=null,key:w="default"}=n,v=E.useMemo(()=>{let x=Qd(d,l);return x==null?null:{location:{pathname:x,search:f,hash:p,state:h,key:w},navigationType:s}},[l,d,f,p,h,w,s]);return v==null?null:E.createElement(kn.Provider,{value:c},E.createElement(jl.Provider,{children:r,value:v}))}function Hx(e){let{children:t,location:r}=e;return Px(xc(t),r)}new Promise(()=>{});function xc(e,t){t===void 0&&(t=[]);let r=[];return E.Children.forEach(e,(n,s)=>{if(!E.isValidElement(n))return;let i=[...t,s];if(n.type===E.Fragment){r.push.apply(r,xc(n.props.children,i));return}n.type!==Ye&&je(!1),!n.props.index||!n.props.children||je(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=xc(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bc.apply(this,arguments)}function Vx(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Kx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Qx(e,t){return e.button===0&&(!t||t==="_self")&&!Kx(e)}const Gx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Jx="6";try{window.__reactRouterVersion=Jx}catch{}const Yx="startTransition",Mf=zy[Yx];function Zx(e){let{basename:t,children:r,future:n,window:s}=e,i=E.useRef();i.current==null&&(i.current=Zw({window:s,v5Compat:!0}));let a=i.current,[o,l]=E.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=E.useCallback(f=>{c&&Mf?Mf(()=>l(f)):l(f)},[l,c]);return E.useLayoutEffect(()=>a.listen(d),[a,d]),E.useEffect(()=>Wx(n),[n]),E.createElement(qx,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const Xx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ya=E.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,p=Vx(t,Gx),{basename:h}=E.useContext(kn),w,v=!1;if(typeof c=="string"&&eb.test(c)&&(w=c,Xx))try{let y=new URL(window.location.href),b=c.startsWith("//")?new URL(y.protocol+c):new URL(c),S=Qd(b.pathname,h);b.origin===y.origin&&S!=null?c=S+b.search+b.hash:v=!0}catch{}let x=jx(c,{relative:s}),g=tb(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:s,viewTransition:f});function m(y){n&&n(y),y.defaultPrevented||g(y)}return E.createElement("a",bc({},p,{href:w||x,onClick:v||i?n:m,ref:r,target:l}))});var zf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(zf||(zf={}));var Ff;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ff||(Ff={}));function tb(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,l=rr(),c=yi(),d=lv(e,{relative:a});return E.useCallback(f=>{if(Qx(f,r)){f.preventDefault();let p=n!==void 0?n:el(c)===el(d);l(e,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,d,n,s,r,e,i,a,o])}var wi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rb={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Vr,Yc,Ap,nb=(Ap=class{constructor(){M(this,Vr,rb);M(this,Yc,!1)}setTimeoutProvider(e){$(this,Vr,e)}setTimeout(e,t){return _(this,Vr).setTimeout(e,t)}clearTimeout(e){_(this,Vr).clearTimeout(e)}setInterval(e,t){return _(this,Vr).setInterval(e,t)}clearInterval(e){_(this,Vr).clearInterval(e)}},Vr=new WeakMap,Yc=new WeakMap,Ap),Dn=new nb;function sb(e){setTimeout(e,0)}var rs=typeof window>"u"||"Deno"in globalThis;function nt(){}function ib(e,t){return typeof e=="function"?e(t):e}function _c(e){return typeof e=="number"&&e>=0&&e!==1/0}function fv(e,t){return Math.max(e+(t||0)-Date.now(),0)}function mn(e,t){return typeof e=="function"?e(t):e}function Pt(e,t){return typeof e=="function"?e(t):e}function Bf(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==Xd(a,t.options))return!1}else if(!wa(t.queryKey,a))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function Wf(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(ns(t.options.mutationKey)!==ns(i))return!1}else if(!wa(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Xd(e,t){return((t==null?void 0:t.queryKeyHashFn)||ns)(e)}function ns(e){return JSON.stringify(e,(t,r)=>kc(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function wa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>wa(e[r],t[r])):!1}var ab=Object.prototype.hasOwnProperty;function pv(e,t){if(e===t)return e;const r=qf(e)&&qf(t);if(!r&&!(kc(e)&&kc(t)))return t;const s=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),a=i.length,o=r?new Array(a):{};let l=0;for(let c=0;c<a;c++){const d=r?c:i[c],f=e[d],p=t[d];if(f===p){o[d]=f,(r?c<s:ab.call(e,d))&&l++;continue}if(f===null||p===null||typeof f!="object"||typeof p!="object"){o[d]=p;continue}const h=pv(f,p);o[d]=h,h===f&&l++}return s===a&&l===s?e:o}function rl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function qf(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function kc(e){if(!Hf(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Hf(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Hf(e){return Object.prototype.toString.call(e)==="[object Object]"}function ob(e){return new Promise(t=>{Dn.setTimeout(t,e)})}function Sc(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?pv(e,t):t}function lb(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function ub(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var eh=Symbol();function mv(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===eh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function gv(e,t){return typeof e=="function"?e(...t):!!e}var zn,Kr,qs,Ip,cb=(Ip=class extends wi{constructor(){super();M(this,zn);M(this,Kr);M(this,qs);$(this,qs,t=>{if(!rs&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){_(this,Kr)||this.setEventListener(_(this,qs))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,Kr))==null||t.call(this),$(this,Kr,void 0))}setEventListener(t){var r;$(this,qs,t),(r=_(this,Kr))==null||r.call(this),$(this,Kr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){_(this,zn)!==t&&($(this,zn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof _(this,zn)=="boolean"?_(this,zn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},zn=new WeakMap,Kr=new WeakMap,qs=new WeakMap,Ip),th=new cb;function Ec(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var db=sb;function hb(){let e=[],t=0,r=o=>{o()},n=o=>{o()},s=db;const i=o=>{t?e.push(o):s(()=>{r(o)})},a=()=>{const o=e;e=[],o.length&&s(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var Oe=hb(),Hs,Qr,Vs,$p,fb=($p=class extends wi{constructor(){super();M(this,Hs,!0);M(this,Qr);M(this,Vs);$(this,Vs,t=>{if(!rs&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){_(this,Qr)||this.setEventListener(_(this,Vs))}onUnsubscribe(){var t;this.hasListeners()||((t=_(this,Qr))==null||t.call(this),$(this,Qr,void 0))}setEventListener(t){var r;$(this,Vs,t),(r=_(this,Qr))==null||r.call(this),$(this,Qr,t(this.setOnline.bind(this)))}setOnline(t){_(this,Hs)!==t&&($(this,Hs,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return _(this,Hs)}},Hs=new WeakMap,Qr=new WeakMap,Vs=new WeakMap,$p),nl=new fb;function pb(e){return Math.min(1e3*2**e,3e4)}function vv(e){return(e??"online")==="online"?nl.isOnline():!0}var jc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function yv(e){let t=!1,r=0,n;const s=Ec(),i=()=>s.status!=="pending",a=v=>{var x;if(!i()){const g=new jc(v);p(g),(x=e.onCancel)==null||x.call(e,g)}},o=()=>{t=!0},l=()=>{t=!1},c=()=>th.isFocused()&&(e.networkMode==="always"||nl.isOnline())&&e.canRun(),d=()=>vv(e.networkMode)&&e.canRun(),f=v=>{i()||(n==null||n(),s.resolve(v))},p=v=>{i()||(n==null||n(),s.reject(v))},h=()=>new Promise(v=>{var x;n=g=>{(i()||c())&&v(g)},(x=e.onPause)==null||x.call(e)}).then(()=>{var v;n=void 0,i()||(v=e.onContinue)==null||v.call(e)}),w=()=>{if(i())return;let v;const x=r===0?e.initialPromise:void 0;try{v=x??e.fn()}catch(g){v=Promise.reject(g)}Promise.resolve(v).then(f).catch(g=>{var j;if(i())return;const m=e.retry??(rs?0:3),y=e.retryDelay??pb,b=typeof y=="function"?y(r,g):y,S=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,g);if(t||!S){p(g);return}r++,(j=e.onFail)==null||j.call(e,r,g),ob(b).then(()=>c()?void 0:h()).then(()=>{t?p(g):w()})})};return{promise:s,status:()=>s.status,cancel:a,continue:()=>(n==null||n(),s),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?w():h().then(w),s)}}var Fn,Lp,wv=(Lp=class{constructor(){M(this,Fn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_c(this.gcTime)&&$(this,Fn,Dn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(rs?1/0:5*60*1e3))}clearGcTimeout(){_(this,Fn)&&(Dn.clearTimeout(_(this,Fn)),$(this,Fn,void 0))}},Fn=new WeakMap,Lp),Bn,Ks,Tt,Wn,De,Ta,qn,Kt,pr,Dp,mb=(Dp=class extends wv{constructor(t){super();M(this,Kt);M(this,Bn);M(this,Ks);M(this,Tt);M(this,Wn);M(this,De);M(this,Ta);M(this,qn);$(this,qn,!1),$(this,Ta,t.defaultOptions),this.setOptions(t.options),this.observers=[],$(this,Wn,t.client),$(this,Tt,_(this,Wn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,$(this,Bn,Kf(this.options)),this.state=t.state??_(this,Bn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=_(this,De))==null?void 0:t.promise}setOptions(t){if(this.options={..._(this,Ta),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Kf(this.options);r.data!==void 0&&(this.setState(Vf(r.data,r.dataUpdatedAt)),$(this,Bn,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,Tt).remove(this)}setData(t,r){const n=Sc(this.state.data,t,this.options);return G(this,Kt,pr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){G(this,Kt,pr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=_(this,De))==null?void 0:n.promise;return(s=_(this,De))==null||s.cancel(t),r?r.then(nt).catch(nt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,Bn))}isActive(){return this.observers.some(t=>Pt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===eh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>mn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!fv(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=_(this,De))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=_(this,De))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),_(this,Tt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(_(this,De)&&(_(this,qn)?_(this,De).cancel({revert:!0}):_(this,De).cancelRetry()),this.scheduleGc()),_(this,Tt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||G(this,Kt,pr).call(this,{type:"invalidate"})}async fetch(t,r){var l,c,d,f,p,h,w,v,x,g,m,y;if(this.state.fetchStatus!=="idle"&&((l=_(this,De))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(_(this,De))return _(this,De).continueRetry(),_(this,De).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(S=>S.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,s=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>($(this,qn,!0),n.signal)})},i=()=>{const b=mv(this.options,r),j=(()=>{const C={client:_(this,Wn),queryKey:this.queryKey,meta:this.meta};return s(C),C})();return $(this,qn,!1),this.options.persister?this.options.persister(b,j,this):b(j)},o=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:_(this,Wn),state:this.state,fetchFn:i};return s(b),b})();(c=this.options.behavior)==null||c.onFetch(o,this),$(this,Ks,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&G(this,Kt,pr).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta}),$(this,De,yv({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:b=>{b instanceof jc&&b.revert&&this.setState({..._(this,Ks),fetchStatus:"idle"}),n.abort()},onFail:(b,S)=>{G(this,Kt,pr).call(this,{type:"failed",failureCount:b,error:S})},onPause:()=>{G(this,Kt,pr).call(this,{type:"pause"})},onContinue:()=>{G(this,Kt,pr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const b=await _(this,De).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(h=(p=_(this,Tt).config).onSuccess)==null||h.call(p,b,this),(v=(w=_(this,Tt).config).onSettled)==null||v.call(w,b,this.state.error,this),b}catch(b){if(b instanceof jc){if(b.silent)return _(this,De).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw G(this,Kt,pr).call(this,{type:"error",error:b}),(g=(x=_(this,Tt).config).onError)==null||g.call(x,b,this),(y=(m=_(this,Tt).config).onSettled)==null||y.call(m,this.state.data,b,this),b}finally{this.scheduleGc()}}},Bn=new WeakMap,Ks=new WeakMap,Tt=new WeakMap,Wn=new WeakMap,De=new WeakMap,Ta=new WeakMap,qn=new WeakMap,Kt=new WeakSet,pr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...xv(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...Vf(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return $(this,Ks,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Oe.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),_(this,Tt).notify({query:this,type:"updated",action:t})})},Dp);function xv(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vv(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Vf(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Kf(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ut,X,Pa,et,Hn,Qs,yr,Gr,Ra,Gs,Js,Vn,Kn,Jr,Ys,se,zi,Cc,Nc,Tc,Pc,Rc,Oc,Ac,bv,Up,gb=(Up=class extends wi{constructor(t,r){super();M(this,se);M(this,ut);M(this,X);M(this,Pa);M(this,et);M(this,Hn);M(this,Qs);M(this,yr);M(this,Gr);M(this,Ra);M(this,Gs);M(this,Js);M(this,Vn);M(this,Kn);M(this,Jr);M(this,Ys,new Set);this.options=r,$(this,ut,t),$(this,Gr,null),$(this,yr,Ec()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,X).addObserver(this),Qf(_(this,X),this.options)?G(this,se,zi).call(this):this.updateResult(),G(this,se,Pc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ic(_(this,X),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ic(_(this,X),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,G(this,se,Rc).call(this),G(this,se,Oc).call(this),_(this,X).removeObserver(this)}setOptions(t){const r=this.options,n=_(this,X);if(this.options=_(this,ut).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Pt(this.options.enabled,_(this,X))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");G(this,se,Ac).call(this),_(this,X).setOptions(this.options),r._defaulted&&!rl(this.options,r)&&_(this,ut).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,X),observer:this});const s=this.hasListeners();s&&Gf(_(this,X),n,this.options,r)&&G(this,se,zi).call(this),this.updateResult(),s&&(_(this,X)!==n||Pt(this.options.enabled,_(this,X))!==Pt(r.enabled,_(this,X))||mn(this.options.staleTime,_(this,X))!==mn(r.staleTime,_(this,X)))&&G(this,se,Cc).call(this);const i=G(this,se,Nc).call(this);s&&(_(this,X)!==n||Pt(this.options.enabled,_(this,X))!==Pt(r.enabled,_(this,X))||i!==_(this,Jr))&&G(this,se,Tc).call(this,i)}getOptimisticResult(t){const r=_(this,ut).getQueryCache().build(_(this,ut),t),n=this.createResult(r,t);return yb(this,n)&&($(this,et,n),$(this,Qs,this.options),$(this,Hn,_(this,X).state)),n}getCurrentResult(){return _(this,et)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&_(this,yr).status==="pending"&&_(this,yr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){_(this,Ys).add(t)}getCurrentQuery(){return _(this,X)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=_(this,ut).defaultQueryOptions(t),n=_(this,ut).getQueryCache().build(_(this,ut),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return G(this,se,zi).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,et)))}createResult(t,r){var F;const n=_(this,X),s=this.options,i=_(this,et),a=_(this,Hn),o=_(this,Qs),c=t!==n?t.state:_(this,Pa),{state:d}=t;let f={...d},p=!1,h;if(r._optimisticResults){const A=this.hasListeners(),ee=!A&&Qf(t,r),q=A&&Gf(t,n,r,s);(ee||q)&&(f={...f,...xv(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:w,errorUpdatedAt:v,status:x}=f;h=f.data;let g=!1;if(r.placeholderData!==void 0&&h===void 0&&x==="pending"){let A;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(A=i.data,g=!0):A=typeof r.placeholderData=="function"?r.placeholderData((F=_(this,Js))==null?void 0:F.state.data,_(this,Js)):r.placeholderData,A!==void 0&&(x="success",h=Sc(i==null?void 0:i.data,A,r),p=!0)}if(r.select&&h!==void 0&&!g)if(i&&h===(a==null?void 0:a.data)&&r.select===_(this,Ra))h=_(this,Gs);else try{$(this,Ra,r.select),h=r.select(h),h=Sc(i==null?void 0:i.data,h,r),$(this,Gs,h),$(this,Gr,null)}catch(A){$(this,Gr,A)}_(this,Gr)&&(w=_(this,Gr),h=_(this,Gs),v=Date.now(),x="error");const m=f.fetchStatus==="fetching",y=x==="pending",b=x==="error",S=y&&m,j=h!==void 0,T={status:x,fetchStatus:f.fetchStatus,isPending:y,isSuccess:x==="success",isError:b,isInitialLoading:S,isLoading:S,data:h,dataUpdatedAt:f.dataUpdatedAt,error:w,errorUpdatedAt:v,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:m,isRefetching:m&&!y,isLoadingError:b&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:b&&j,isStale:rh(t,r),refetch:this.refetch,promise:_(this,yr),isEnabled:Pt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=Ie=>{T.status==="error"?Ie.reject(T.error):T.data!==void 0&&Ie.resolve(T.data)},ee=()=>{const Ie=$(this,yr,T.promise=Ec());A(Ie)},q=_(this,yr);switch(q.status){case"pending":t.queryHash===n.queryHash&&A(q);break;case"fulfilled":(T.status==="error"||T.data!==q.value)&&ee();break;case"rejected":(T.status!=="error"||T.error!==q.reason)&&ee();break}}return T}updateResult(){const t=_(this,et),r=this.createResult(_(this,X),this.options);if($(this,Hn,_(this,X).state),$(this,Qs,this.options),_(this,Hn).data!==void 0&&$(this,Js,_(this,X)),rl(r,t))return;$(this,et,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!_(this,Ys).size)return!0;const a=new Set(i??_(this,Ys));return this.options.throwOnError&&a.add("error"),Object.keys(_(this,et)).some(o=>{const l=o;return _(this,et)[l]!==t[l]&&a.has(l)})};G(this,se,bv).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&G(this,se,Pc).call(this)}},ut=new WeakMap,X=new WeakMap,Pa=new WeakMap,et=new WeakMap,Hn=new WeakMap,Qs=new WeakMap,yr=new WeakMap,Gr=new WeakMap,Ra=new WeakMap,Gs=new WeakMap,Js=new WeakMap,Vn=new WeakMap,Kn=new WeakMap,Jr=new WeakMap,Ys=new WeakMap,se=new WeakSet,zi=function(t){G(this,se,Ac).call(this);let r=_(this,X).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(nt)),r},Cc=function(){G(this,se,Rc).call(this);const t=mn(this.options.staleTime,_(this,X));if(rs||_(this,et).isStale||!_c(t))return;const n=fv(_(this,et).dataUpdatedAt,t)+1;$(this,Vn,Dn.setTimeout(()=>{_(this,et).isStale||this.updateResult()},n))},Nc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,X)):this.options.refetchInterval)??!1},Tc=function(t){G(this,se,Oc).call(this),$(this,Jr,t),!(rs||Pt(this.options.enabled,_(this,X))===!1||!_c(_(this,Jr))||_(this,Jr)===0)&&$(this,Kn,Dn.setInterval(()=>{(this.options.refetchIntervalInBackground||th.isFocused())&&G(this,se,zi).call(this)},_(this,Jr)))},Pc=function(){G(this,se,Cc).call(this),G(this,se,Tc).call(this,G(this,se,Nc).call(this))},Rc=function(){_(this,Vn)&&(Dn.clearTimeout(_(this,Vn)),$(this,Vn,void 0))},Oc=function(){_(this,Kn)&&(Dn.clearInterval(_(this,Kn)),$(this,Kn,void 0))},Ac=function(){const t=_(this,ut).getQueryCache().build(_(this,ut),this.options);if(t===_(this,X))return;const r=_(this,X);$(this,X,t),$(this,Pa,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},bv=function(t){Oe.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(_(this,et))}),_(this,ut).getQueryCache().notify({query:_(this,X),type:"observerResultsUpdated"})})},Up);function vb(e,t){return Pt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Qf(e,t){return vb(e,t)||e.state.data!==void 0&&Ic(e,t,t.refetchOnMount)}function Ic(e,t,r){if(Pt(t.enabled,e)!==!1&&mn(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&rh(e,t)}return!1}function Gf(e,t,r,n){return(e!==t||Pt(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&rh(e,r)}function rh(e,t){return Pt(t.enabled,e)!==!1&&e.isStaleByTime(mn(t.staleTime,e))}function yb(e,t){return!rl(e.getCurrentResult(),t)}function Jf(e){return{onFetch:(t,r)=>{var d,f,p,h,w;const n=t.options,s=(p=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],a=((w=t.state.data)==null?void 0:w.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const x=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},g=mv(t.options,t.fetchOptions),m=async(y,b,S)=>{if(v)return Promise.reject();if(b==null&&y.pages.length)return Promise.resolve(y);const C=(()=>{const ee={client:t.client,queryKey:t.queryKey,pageParam:b,direction:S?"backward":"forward",meta:t.options.meta};return x(ee),ee})(),T=await g(C),{maxPages:F}=t.options,A=S?ub:lb;return{pages:A(y.pages,T,F),pageParams:A(y.pageParams,b,F)}};if(s&&i.length){const y=s==="backward",b=y?wb:Yf,S={pages:i,pageParams:a},j=b(n,S);o=await m(S,j,y)}else{const y=e??i.length;do{const b=l===0?a[0]??n.initialPageParam:Yf(n,o);if(l>0&&b==null)break;o=await m(o,b),l++}while(l<y)}return o};t.options.persister?t.fetchFn=()=>{var v,x;return(x=(v=t.options).persister)==null?void 0:x.call(v,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function Yf(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function wb(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Oa,ir,tt,Qn,ar,Mr,Mp,xb=(Mp=class extends wv{constructor(t){super();M(this,ar);M(this,Oa);M(this,ir);M(this,tt);M(this,Qn);$(this,Oa,t.client),this.mutationId=t.mutationId,$(this,tt,t.mutationCache),$(this,ir,[]),this.state=t.state||_v(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){_(this,ir).includes(t)||(_(this,ir).push(t),this.clearGcTimeout(),_(this,tt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){$(this,ir,_(this,ir).filter(r=>r!==t)),this.scheduleGc(),_(this,tt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){_(this,ir).length||(this.state.status==="pending"?this.scheduleGc():_(this,tt).remove(this))}continue(){var t;return((t=_(this,Qn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,l,c,d,f,p,h,w,v,x,g,m,y,b,S,j,C,T,F;const r=()=>{G(this,ar,Mr).call(this,{type:"continue"})},n={client:_(this,Oa),meta:this.options.meta,mutationKey:this.options.mutationKey};$(this,Qn,yv({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(A,ee)=>{G(this,ar,Mr).call(this,{type:"failed",failureCount:A,error:ee})},onPause:()=>{G(this,ar,Mr).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,tt).canRun(this)}));const s=this.state.status==="pending",i=!_(this,Qn).canStart();try{if(s)r();else{G(this,ar,Mr).call(this,{type:"pending",variables:t,isPaused:i}),await((o=(a=_(this,tt).config).onMutate)==null?void 0:o.call(a,t,this,n));const ee=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t,n));ee!==this.state.context&&G(this,ar,Mr).call(this,{type:"pending",context:ee,variables:t,isPaused:i})}const A=await _(this,Qn).start();return await((f=(d=_(this,tt).config).onSuccess)==null?void 0:f.call(d,A,t,this.state.context,this,n)),await((h=(p=this.options).onSuccess)==null?void 0:h.call(p,A,t,this.state.context,n)),await((v=(w=_(this,tt).config).onSettled)==null?void 0:v.call(w,A,null,this.state.variables,this.state.context,this,n)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,A,null,t,this.state.context,n)),G(this,ar,Mr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((y=(m=_(this,tt).config).onError)==null?void 0:y.call(m,A,t,this.state.context,this,n)),await((S=(b=this.options).onError)==null?void 0:S.call(b,A,t,this.state.context,n)),await((C=(j=_(this,tt).config).onSettled)==null?void 0:C.call(j,void 0,A,this.state.variables,this.state.context,this,n)),await((F=(T=this.options).onSettled)==null?void 0:F.call(T,void 0,A,t,this.state.context,n)),A}finally{G(this,ar,Mr).call(this,{type:"error",error:A})}}finally{_(this,tt).runNext(this)}}},Oa=new WeakMap,ir=new WeakMap,tt=new WeakMap,Qn=new WeakMap,ar=new WeakSet,Mr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Oe.batch(()=>{_(this,ir).forEach(n=>{n.onMutationUpdate(t)}),_(this,tt).notify({mutation:this,type:"updated",action:t})})},Mp);function _v(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wr,Qt,Aa,zp,bb=(zp=class extends wi{constructor(t={}){super();M(this,wr);M(this,Qt);M(this,Aa);this.config=t,$(this,wr,new Set),$(this,Qt,new Map),$(this,Aa,0)}build(t,r,n){const s=new xb({client:t,mutationCache:this,mutationId:++qa(this,Aa)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){_(this,wr).add(t);const r=lo(t);if(typeof r=="string"){const n=_(this,Qt).get(r);n?n.push(t):_(this,Qt).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(_(this,wr).delete(t)){const r=lo(t);if(typeof r=="string"){const n=_(this,Qt).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&_(this,Qt).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=lo(t);if(typeof r=="string"){const n=_(this,Qt).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=lo(t);if(typeof r=="string"){const s=(n=_(this,Qt).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Oe.batch(()=>{_(this,wr).forEach(t=>{this.notify({type:"removed",mutation:t})}),_(this,wr).clear(),_(this,Qt).clear()})}getAll(){return Array.from(_(this,wr))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Wf(r,n))}findAll(t={}){return this.getAll().filter(r=>Wf(t,r))}notify(t){Oe.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Oe.batch(()=>Promise.all(t.map(r=>r.continue().catch(nt))))}},wr=new WeakMap,Qt=new WeakMap,Aa=new WeakMap,zp);function lo(e){var t;return(t=e.options.scope)==null?void 0:t.id}var xr,Yr,ct,br,Er,No,$c,Fp,_b=(Fp=class extends wi{constructor(r,n){super();M(this,Er);M(this,xr);M(this,Yr);M(this,ct);M(this,br);$(this,xr,r),this.setOptions(n),this.bindMethods(),G(this,Er,No).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=_(this,xr).defaultMutationOptions(r),rl(this.options,n)||_(this,xr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,ct),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ns(n.mutationKey)!==ns(this.options.mutationKey)?this.reset():((s=_(this,ct))==null?void 0:s.state.status)==="pending"&&_(this,ct).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=_(this,ct))==null||r.removeObserver(this)}onMutationUpdate(r){G(this,Er,No).call(this),G(this,Er,$c).call(this,r)}getCurrentResult(){return _(this,Yr)}reset(){var r;(r=_(this,ct))==null||r.removeObserver(this),$(this,ct,void 0),G(this,Er,No).call(this),G(this,Er,$c).call(this)}mutate(r,n){var s;return $(this,br,n),(s=_(this,ct))==null||s.removeObserver(this),$(this,ct,_(this,xr).getMutationCache().build(_(this,xr),this.options)),_(this,ct).addObserver(this),_(this,ct).execute(r)}},xr=new WeakMap,Yr=new WeakMap,ct=new WeakMap,br=new WeakMap,Er=new WeakSet,No=function(){var n;const r=((n=_(this,ct))==null?void 0:n.state)??_v();$(this,Yr,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},$c=function(r){Oe.batch(()=>{var n,s,i,a,o,l,c,d;if(_(this,br)&&this.hasListeners()){const f=_(this,Yr).variables,p=_(this,Yr).context,h={client:_(this,xr),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((s=(n=_(this,br)).onSuccess)==null||s.call(n,r.data,f,p,h),(a=(i=_(this,br)).onSettled)==null||a.call(i,r.data,null,f,p,h)):(r==null?void 0:r.type)==="error"&&((l=(o=_(this,br)).onError)==null||l.call(o,r.error,f,p,h),(d=(c=_(this,br)).onSettled)==null||d.call(c,void 0,r.error,f,p,h))}this.listeners.forEach(f=>{f(_(this,Yr))})})},Fp),or,Bp,kb=(Bp=class extends wi{constructor(t={}){super();M(this,or);this.config=t,$(this,or,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??Xd(s,r);let a=this.get(i);return a||(a=new mb({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){_(this,or).has(t.queryHash)||(_(this,or).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=_(this,or).get(t.queryHash);r&&(t.destroy(),r===t&&_(this,or).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Oe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return _(this,or).get(t)}getAll(){return[..._(this,or).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Bf(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Bf(t,n)):r}notify(t){Oe.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Oe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Oe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},or=new WeakMap,Bp),xe,Zr,Xr,Zs,Xs,en,ei,ti,Wp,Sb=(Wp=class{constructor(e={}){M(this,xe);M(this,Zr);M(this,Xr);M(this,Zs);M(this,Xs);M(this,en);M(this,ei);M(this,ti);$(this,xe,e.queryCache||new kb),$(this,Zr,e.mutationCache||new bb),$(this,Xr,e.defaultOptions||{}),$(this,Zs,new Map),$(this,Xs,new Map),$(this,en,0)}mount(){qa(this,en)._++,_(this,en)===1&&($(this,ei,th.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,xe).onFocus())})),$(this,ti,nl.subscribe(async e=>{e&&(await this.resumePausedMutations(),_(this,xe).onOnline())})))}unmount(){var e,t;qa(this,en)._--,_(this,en)===0&&((e=_(this,ei))==null||e.call(this),$(this,ei,void 0),(t=_(this,ti))==null||t.call(this),$(this,ti,void 0))}isFetching(e){return _(this,xe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return _(this,Zr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=_(this,xe).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=_(this,xe).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(mn(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return _(this,xe).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=_(this,xe).get(n.queryHash),i=s==null?void 0:s.state.data,a=ib(t,i);if(a!==void 0)return _(this,xe).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return Oe.batch(()=>_(this,xe).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=_(this,xe).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=_(this,xe);Oe.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=_(this,xe);return Oe.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Oe.batch(()=>_(this,xe).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(nt).catch(nt)}invalidateQueries(e,t={}){return Oe.batch(()=>(_(this,xe).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Oe.batch(()=>_(this,xe).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(nt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(nt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=_(this,xe).build(this,t);return r.isStaleByTime(mn(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(nt).catch(nt)}fetchInfiniteQuery(e){return e.behavior=Jf(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(nt).catch(nt)}ensureInfiniteQueryData(e){return e.behavior=Jf(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return nl.isOnline()?_(this,Zr).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,xe)}getMutationCache(){return _(this,Zr)}getDefaultOptions(){return _(this,Xr)}setDefaultOptions(e){$(this,Xr,e)}setQueryDefaults(e,t){_(this,Zs).set(ns(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[..._(this,Zs).values()],r={};return t.forEach(n=>{wa(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){_(this,Xs).set(ns(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[..._(this,Xs).values()],r={};return t.forEach(n=>{wa(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={..._(this,Xr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Xd(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===eh&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{..._(this,Xr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){_(this,xe).clear(),_(this,Zr).clear()}},xe=new WeakMap,Zr=new WeakMap,Xr=new WeakMap,Zs=new WeakMap,Xs=new WeakMap,en=new WeakMap,ei=new WeakMap,ti=new WeakMap,Wp),kv=E.createContext(void 0),Ut=e=>{const t=E.useContext(kv);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Eb=({client:e,children:t})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(kv.Provider,{value:e,children:t})),Sv=E.createContext(!1),jb=()=>E.useContext(Sv);Sv.Provider;function Cb(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Nb=E.createContext(Cb()),Tb=()=>E.useContext(Nb),Pb=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Rb=e=>{E.useEffect(()=>{e.clearReset()},[e])},Ob=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||gv(r,[e.error,n])),Ab=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Ib=(e,t)=>e.isLoading&&e.isFetching&&!t,$b=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Zf=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Lb(e,t,r){var f,p,h,w,v;const n=jb(),s=Tb(),i=Ut(),a=i.defaultQueryOptions(e);(p=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,a),a._optimisticResults=n?"isRestoring":"optimistic",Ab(a),Pb(a,s),Rb(s);const o=!i.getQueryCache().get(a.queryHash),[l]=E.useState(()=>new t(i,a)),c=l.getOptimisticResult(a),d=!n&&e.subscribed!==!1;if(E.useSyncExternalStore(E.useCallback(x=>{const g=d?l.subscribe(Oe.batchCalls(x)):nt;return l.updateResult(),g},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),E.useEffect(()=>{l.setOptions(a)},[a,l]),$b(a,c))throw Zf(a,l,s);if(Ob({result:c,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw c.error;if((w=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||w.call(h,a,c),a.experimental_prefetchInRender&&!rs&&Ib(c,n)){const x=o?Zf(a,l,s):(v=i.getQueryCache().get(a.queryHash))==null?void 0:v.promise;x==null||x.catch(nt).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?c:l.trackResult(c)}function Sn(e,t){return Lb(e,gb)}function Rr(e,t){const r=Ut(),[n]=E.useState(()=>new _b(r,e));E.useEffect(()=>{n.setOptions(e)},[n,e]);const s=E.useSyncExternalStore(E.useCallback(a=>n.subscribe(Oe.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=E.useCallback((a,o)=>{n.mutate(a,o).catch(nt)},[n]);if(s.error&&gv(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}var Db=e=>{switch(e){case"success":return zb;case"info":return Bb;case"warning":return Fb;case"error":return Wb;default:return null}},Ub=Array(12).fill(0),Mb=({visible:e,className:t})=>O.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},O.createElement("div",{className:"sonner-spinner"},Ub.map((r,n)=>O.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),zb=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Fb=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Bb=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Wb=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),qb=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},O.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),O.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Hb=()=>{let[e,t]=O.useState(document.hidden);return O.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Lc=1,Vb=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Lc++,i=this.toasts.find(o=>o.id===s),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(o=>o.id===s?(this.publish({...o,...e,id:s,title:r}),{...o,...e,id:s,dismissible:a,title:r}):o):this.addToast({title:r,...n,dismissible:a,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,a=n.then(async l=>{if(i=["resolve",l],O.isValidElement(l))s=!1,this.create({id:r,type:"default",message:l});else if(Qb(l)&&!l.ok){s=!1;let c=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:r,type:"error",message:c,description:d})}else if(t.success!==void 0){s=!1;let c=typeof t.success=="function"?await t.success(l):t.success,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"success",message:c,description:d})}}).catch(async l=>{if(i=["reject",l],t.error!==void 0){s=!1;let c=typeof t.error=="function"?await t.error(l):t.error,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:r,type:"error",message:c,description:d})}}).finally(()=>{var l;s&&(this.dismiss(r),r=void 0),(l=t.finally)==null||l.call(t)}),o=()=>new Promise((l,c)=>a.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:o}:Object.assign(r,{unwrap:o})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Lc++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},dt=new Vb,Kb=(e,t)=>{let r=(t==null?void 0:t.id)||Lc++;return dt.addToast({title:e,...t,id:r}),r},Qb=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Gb=Kb,Jb=()=>dt.toasts,Yb=()=>dt.getActiveToasts(),Me=Object.assign(Gb,{success:dt.success,info:dt.info,warning:dt.warning,error:dt.error,custom:dt.custom,message:dt.message,promise:dt.promise,dismiss:dt.dismiss,loading:dt.loading},{getHistory:Jb,getToasts:Yb});function Zb(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Zb(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function uo(e){return e.label!==void 0}var Xb=3,e_="32px",t_="16px",Xf=4e3,r_=356,n_=14,s_=20,i_=200;function Wt(...e){return e.filter(Boolean).join(" ")}function a_(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var o_=e=>{var t,r,n,s,i,a,o,l,c,d,f;let{invert:p,toast:h,unstyled:w,interacting:v,setHeights:x,visibleToasts:g,heights:m,index:y,toasts:b,expanded:S,removeToast:j,defaultRichColors:C,closeButton:T,style:F,cancelButtonStyle:A,actionButtonStyle:ee,className:q="",descriptionClassName:Ie="",duration:ot,position:hr,gap:Ke,loadingIcon:Qe,expandByDefault:I,classNames:P,icons:z,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:H}=e,[ne,re]=O.useState(null),[$e,lt]=O.useState(null),[oe,Al]=O.useState(!1),[_i,Ba]=O.useState(!1),[ki,Il]=O.useState(!1),[ph,dy]=O.useState(!1),[hy,mh]=O.useState(!1),[fy,$l]=O.useState(0),[py,gh]=O.useState(0),Si=O.useRef(h.duration||ot||Xf),vh=O.useRef(null),En=O.useRef(null),my=y===0,gy=y+1<=g,Nt=h.type,ls=h.dismissible!==!1,vy=h.className||"",yy=h.descriptionClassName||"",Wa=O.useMemo(()=>m.findIndex(V=>V.toastId===h.id)||0,[m,h.id]),wy=O.useMemo(()=>{var V;return(V=h.closeButton)!=null?V:T},[h.closeButton,T]),yh=O.useMemo(()=>h.duration||ot||Xf,[h.duration,ot]),Ll=O.useRef(0),us=O.useRef(0),wh=O.useRef(0),cs=O.useRef(null),[xy,by]=hr.split("-"),xh=O.useMemo(()=>m.reduce((V,ae,fe)=>fe>=Wa?V:V+ae.height,0),[m,Wa]),bh=Hb(),_y=h.invert||p,Dl=Nt==="loading";us.current=O.useMemo(()=>Wa*Ke+xh,[Wa,xh]),O.useEffect(()=>{Si.current=yh},[yh]),O.useEffect(()=>{Al(!0)},[]),O.useEffect(()=>{let V=En.current;if(V){let ae=V.getBoundingClientRect().height;return gh(ae),x(fe=>[{toastId:h.id,height:ae,position:h.position},...fe]),()=>x(fe=>fe.filter(Mt=>Mt.toastId!==h.id))}},[x,h.id]),O.useLayoutEffect(()=>{if(!oe)return;let V=En.current,ae=V.style.height;V.style.height="auto";let fe=V.getBoundingClientRect().height;V.style.height=ae,gh(fe),x(Mt=>Mt.find(zt=>zt.toastId===h.id)?Mt.map(zt=>zt.toastId===h.id?{...zt,height:fe}:zt):[{toastId:h.id,height:fe,position:h.position},...Mt])},[oe,h.title,h.description,x,h.id]);let Ar=O.useCallback(()=>{Ba(!0),$l(us.current),x(V=>V.filter(ae=>ae.toastId!==h.id)),setTimeout(()=>{j(h)},i_)},[h,j,x,us]);O.useEffect(()=>{if(h.promise&&Nt==="loading"||h.duration===1/0||h.type==="loading")return;let V;return S||v||H&&bh?(()=>{if(wh.current<Ll.current){let ae=new Date().getTime()-Ll.current;Si.current=Si.current-ae}wh.current=new Date().getTime()})():Si.current!==1/0&&(Ll.current=new Date().getTime(),V=setTimeout(()=>{var ae;(ae=h.onAutoClose)==null||ae.call(h,h),Ar()},Si.current)),()=>clearTimeout(V)},[S,v,h,Nt,H,bh,Ar]),O.useEffect(()=>{h.delete&&Ar()},[Ar,h.delete]);function ky(){var V,ae,fe;return z!=null&&z.loading?O.createElement("div",{className:Wt(P==null?void 0:P.loader,(V=h==null?void 0:h.classNames)==null?void 0:V.loader,"sonner-loader"),"data-visible":Nt==="loading"},z.loading):Qe?O.createElement("div",{className:Wt(P==null?void 0:P.loader,(ae=h==null?void 0:h.classNames)==null?void 0:ae.loader,"sonner-loader"),"data-visible":Nt==="loading"},Qe):O.createElement(Mb,{className:Wt(P==null?void 0:P.loader,(fe=h==null?void 0:h.classNames)==null?void 0:fe.loader),visible:Nt==="loading"})}return O.createElement("li",{tabIndex:0,ref:En,className:Wt(q,vy,P==null?void 0:P.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,P==null?void 0:P.default,P==null?void 0:P[Nt],(r=h==null?void 0:h.classNames)==null?void 0:r[Nt]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:C,"data-styled":!(h.jsx||h.unstyled||w),"data-mounted":oe,"data-promise":!!h.promise,"data-swiped":hy,"data-removed":_i,"data-visible":gy,"data-y-position":xy,"data-x-position":by,"data-index":y,"data-front":my,"data-swiping":ki,"data-dismissible":ls,"data-type":Nt,"data-invert":_y,"data-swipe-out":ph,"data-swipe-direction":$e,"data-expanded":!!(S||I&&oe),style:{"--index":y,"--toasts-before":y,"--z-index":b.length-y,"--offset":`${_i?fy:us.current}px`,"--initial-height":I?"auto":`${py}px`,...F,...h.style},onDragEnd:()=>{Il(!1),re(null),cs.current=null},onPointerDown:V=>{Dl||!ls||(vh.current=new Date,$l(us.current),V.target.setPointerCapture(V.pointerId),V.target.tagName!=="BUTTON"&&(Il(!0),cs.current={x:V.clientX,y:V.clientY}))},onPointerUp:()=>{var V,ae,fe,Mt;if(ph||!ls)return;cs.current=null;let zt=Number(((V=En.current)==null?void 0:V.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ir=Number(((ae=En.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),jn=new Date().getTime()-((fe=vh.current)==null?void 0:fe.getTime()),Ft=ne==="x"?zt:Ir,$r=Math.abs(Ft)/jn;if(Math.abs(Ft)>=s_||$r>.11){$l(us.current),(Mt=h.onDismiss)==null||Mt.call(h,h),lt(ne==="x"?zt>0?"right":"left":Ir>0?"down":"up"),Ar(),dy(!0),mh(!1);return}Il(!1),re(null)},onPointerMove:V=>{var ae,fe,Mt,zt;if(!cs.current||!ls||((ae=window.getSelection())==null?void 0:ae.toString().length)>0)return;let Ir=V.clientY-cs.current.y,jn=V.clientX-cs.current.x,Ft=(fe=e.swipeDirections)!=null?fe:a_(hr);!ne&&(Math.abs(jn)>1||Math.abs(Ir)>1)&&re(Math.abs(jn)>Math.abs(Ir)?"x":"y");let $r={x:0,y:0};ne==="y"?(Ft.includes("top")||Ft.includes("bottom"))&&(Ft.includes("top")&&Ir<0||Ft.includes("bottom")&&Ir>0)&&($r.y=Ir):ne==="x"&&(Ft.includes("left")||Ft.includes("right"))&&(Ft.includes("left")&&jn<0||Ft.includes("right")&&jn>0)&&($r.x=jn),(Math.abs($r.x)>0||Math.abs($r.y)>0)&&mh(!0),(Mt=En.current)==null||Mt.style.setProperty("--swipe-amount-x",`${$r.x}px`),(zt=En.current)==null||zt.style.setProperty("--swipe-amount-y",`${$r.y}px`)}},wy&&!h.jsx?O.createElement("button",{"aria-label":Z,"data-disabled":Dl,"data-close-button":!0,onClick:Dl||!ls?()=>{}:()=>{var V;Ar(),(V=h.onDismiss)==null||V.call(h,h)},className:Wt(P==null?void 0:P.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},(i=z==null?void 0:z.close)!=null?i:qb):null,h.jsx||E.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:O.createElement(O.Fragment,null,Nt||h.icon||h.promise?O.createElement("div",{"data-icon":"",className:Wt(P==null?void 0:P.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||ky():null,h.type!=="loading"?h.icon||(z==null?void 0:z[Nt])||Db(Nt):null):null,O.createElement("div",{"data-content":"",className:Wt(P==null?void 0:P.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},O.createElement("div",{"data-title":"",className:Wt(P==null?void 0:P.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?O.createElement("div",{"data-description":"",className:Wt(Ie,yy,P==null?void 0:P.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),E.isValidElement(h.cancel)?h.cancel:h.cancel&&uo(h.cancel)?O.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||A,onClick:V=>{var ae,fe;uo(h.cancel)&&ls&&((fe=(ae=h.cancel).onClick)==null||fe.call(ae,V),Ar())},className:Wt(P==null?void 0:P.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,E.isValidElement(h.action)?h.action:h.action&&uo(h.action)?O.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||ee,onClick:V=>{var ae,fe;uo(h.action)&&((fe=(ae=h.action).onClick)==null||fe.call(ae,V),!V.defaultPrevented&&Ar())},className:Wt(P==null?void 0:P.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function ep(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function l_(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,a=i?"--mobile-offset":"--offset",o=i?t_:e_;function l(c){["top","right","bottom","left"].forEach(d=>{r[`${a}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${a}-${c}`]=o:r[`${a}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):l(o)}),r}var u_=E.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:a,className:o,offset:l,mobileOffset:c,theme:d="light",richColors:f,duration:p,style:h,visibleToasts:w=Xb,toastOptions:v,dir:x=ep(),gap:g=n_,loadingIcon:m,icons:y,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:S}=e,[j,C]=O.useState([]),T=O.useMemo(()=>Array.from(new Set([n].concat(j.filter(H=>H.position).map(H=>H.position)))),[j,n]),[F,A]=O.useState([]),[ee,q]=O.useState(!1),[Ie,ot]=O.useState(!1),[hr,Ke]=O.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Qe=O.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=O.useRef(null),z=O.useRef(!1),Z=O.useCallback(H=>{C(ne=>{var re;return(re=ne.find($e=>$e.id===H.id))!=null&&re.delete||dt.dismiss(H.id),ne.filter(({id:$e})=>$e!==H.id)})},[]);return O.useEffect(()=>dt.subscribe(H=>{if(H.dismiss){C(ne=>ne.map(re=>re.id===H.id?{...re,delete:!0}:re));return}setTimeout(()=>{Yw.flushSync(()=>{C(ne=>{let re=ne.findIndex($e=>$e.id===H.id);return re!==-1?[...ne.slice(0,re),{...ne[re],...H},...ne.slice(re+1)]:[H,...ne]})})})}),[]),O.useEffect(()=>{if(d!=="system"){Ke(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ke("dark"):Ke("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:ne})=>{Ke(ne?"dark":"light")})}catch{H.addListener(({matches:re})=>{try{Ke(re?"dark":"light")}catch($e){console.error($e)}})}},[d]),O.useEffect(()=>{j.length<=1&&q(!1)},[j]),O.useEffect(()=>{let H=ne=>{var re,$e;s.every(lt=>ne[lt]||ne.code===lt)&&(q(!0),(re=Qe.current)==null||re.focus()),ne.code==="Escape"&&(document.activeElement===Qe.current||($e=Qe.current)!=null&&$e.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[s]),O.useEffect(()=>{if(Qe.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,z.current=!1)}},[Qe.current]),O.createElement("section",{ref:t,"aria-label":`${b} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((H,ne)=>{var re;let[$e,lt]=H.split("-");return j.length?O.createElement("ol",{key:H,dir:x==="auto"?ep():x,tabIndex:-1,ref:Qe,className:o,"data-sonner-toaster":!0,"data-theme":hr,"data-y-position":$e,"data-lifted":ee&&j.length>1&&!i,"data-x-position":lt,style:{"--front-toast-height":`${((re=F[0])==null?void 0:re.height)||0}px`,"--width":`${r_}px`,"--gap":`${g}px`,...h,...l_(l,c)},onBlur:oe=>{z.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(z.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||z.current||(z.current=!0,P.current=oe.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{Ie||q(!1)},onDragEnd:()=>q(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||ot(!0)},onPointerUp:()=>ot(!1)},j.filter(oe=>!oe.position&&ne===0||oe.position===H).map((oe,Al)=>{var _i,Ba;return O.createElement(o_,{key:oe.id,icons:y,index:Al,toast:oe,defaultRichColors:f,duration:(_i=v==null?void 0:v.duration)!=null?_i:p,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:w,closeButton:(Ba=v==null?void 0:v.closeButton)!=null?Ba:a,interacting:Ie,position:H,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:Z,toasts:j.filter(ki=>ki.position==oe.position),heights:F.filter(ki=>ki.position==oe.position),setHeights:A,expandByDefault:i,gap:g,loadingIcon:m,expanded:ee,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const c_=new Sb({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*30,retry:2,retryDelay:e=>Math.min(1e3*2**e,3e4),refetchOnWindowFocus:!0,refetchOnReconnect:"always"},mutations:{retry:1}}}),d_={},tp=e=>{let t;const r=new Set,n=(d,f)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const h=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),r.forEach(w=>w(t,h))}},s=()=>t,l={setState:n,getState:s,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(d_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=t=e(n,s,l);return l},h_=e=>e?tp(e):tp;var Ev={exports:{}},jv={},Cv={exports:{}},Nv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ui=E;function f_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var p_=typeof Object.is=="function"?Object.is:f_,m_=ui.useState,g_=ui.useEffect,v_=ui.useLayoutEffect,y_=ui.useDebugValue;function w_(e,t){var r=t(),n=m_({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return v_(function(){s.value=r,s.getSnapshot=t,hu(s)&&i({inst:s})},[e,r,t]),g_(function(){return hu(s)&&i({inst:s}),e(function(){hu(s)&&i({inst:s})})},[e]),y_(r),r}function hu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!p_(e,r)}catch{return!0}}function x_(e,t){return t()}var b_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x_:w_;Nv.useSyncExternalStore=ui.useSyncExternalStore!==void 0?ui.useSyncExternalStore:b_;Cv.exports=Nv;var __=Cv.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cl=E,k_=__;function S_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var E_=typeof Object.is=="function"?Object.is:S_,j_=k_.useSyncExternalStore,C_=Cl.useRef,N_=Cl.useEffect,T_=Cl.useMemo,P_=Cl.useDebugValue;jv.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=C_(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=T_(function(){function l(h){if(!c){if(c=!0,d=h,h=n(h),s!==void 0&&a.hasValue){var w=a.value;if(s(w,h))return f=w}return f=h}if(w=f,E_(d,h))return w;var v=n(h);return s!==void 0&&s(w,v)?(d=h,w):(d=h,f=v)}var c=!1,d,f,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,s]);var o=j_(e,i[0],i[1]);return N_(function(){a.hasValue=!0,a.value=o},[o]),P_(o),o};Ev.exports=jv;var R_=Ev.exports;const O_=Zc(R_),Tv={},{useDebugValue:A_}=O,{useSyncExternalStoreWithSelector:I_}=O_;let rp=!1;const $_=e=>e;function L_(e,t=$_,r){(Tv?"production":void 0)!=="production"&&r&&!rp&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),rp=!0);const n=I_(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return A_(n),n}const D_=e=>{(Tv?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?h_(e):e,r=(n,s)=>L_(t,n,s);return Object.assign(r,t),r},U_=e=>D_,M_={};function z_(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var i;const a=l=>l===null?null:JSON.parse(l,void 0),o=(i=r.getItem(s))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>r.removeItem(s)}}const xa=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return xa(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return xa(n)(r)}}}},F_=(e,t)=>(r,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,g)=>({...g,...x}),...t},a=!1;const o=new Set,l=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...x)},n,s);const d=xa(i.serialize),f=()=>{const x=i.partialize({...n()});let g;const m=d({state:x,version:i.version}).then(y=>c.setItem(i.name,y)).catch(y=>{g=y});if(g)throw g;return m},p=s.setState;s.setState=(x,g)=>{p(x,g),f()};const h=e((...x)=>{r(...x),f()},n,s);let w;const v=()=>{var x;if(!c)return;a=!1,o.forEach(m=>m(n()));const g=((x=i.onRehydrateStorage)==null?void 0:x.call(i,n()))||void 0;return xa(c.getItem.bind(c))(i.name).then(m=>{if(m)return i.deserialize(m)}).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==i.version){if(i.migrate)return i.migrate(m.state,m.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return m.state}).then(m=>{var y;return w=i.merge(m,(y=n())!=null?y:h),r(w,!0),f()}).then(()=>{g==null||g(w,void 0),a=!0,l.forEach(m=>m(w))}).catch(m=>{g==null||g(void 0,m)})};return s.persist={setOptions:x=>{i={...i,...x},x.getStorage&&(c=x.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:x=>(o.add(x),()=>{o.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},v(),w||h},B_=(e,t)=>(r,n,s)=>{let i={storage:z_(()=>localStorage),partialize:v=>v,version:0,merge:(v,x)=>({...x,...v}),...t},a=!1;const o=new Set,l=new Set;let c=i.storage;if(!c)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...v)},n,s);const d=()=>{const v=i.partialize({...n()});return c.setItem(i.name,{state:v,version:i.version})},f=s.setState;s.setState=(v,x)=>{f(v,x),d()};const p=e((...v)=>{r(...v),d()},n,s);s.getInitialState=()=>p;let h;const w=()=>{var v,x;if(!c)return;a=!1,o.forEach(m=>{var y;return m((y=n())!=null?y:p)});const g=((x=i.onRehydrateStorage)==null?void 0:x.call(i,(v=n())!=null?v:p))||void 0;return xa(c.getItem.bind(c))(i.name).then(m=>{if(m)if(typeof m.version=="number"&&m.version!==i.version){if(i.migrate)return[!0,i.migrate(m.state,m.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,m.state];return[!1,void 0]}).then(m=>{var y;const[b,S]=m;if(h=i.merge(S,(y=n())!=null?y:p),r(h,!0),b)return d()}).then(()=>{g==null||g(h,void 0),h=n(),a=!0,l.forEach(m=>m(h))}).catch(m=>{g==null||g(void 0,m)})};return s.persist={setOptions:v=>{i={...i,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>a,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},i.skipHydration||w(),h||p},W_=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((M_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),F_(e,t)):B_(e,t),q_=W_;function Nl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function H_(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})}const V_=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class nh extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class K_ extends nh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class np extends nh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class sp extends nh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Dc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Dc||(Dc={}));class Q_{constructor(t,{headers:r={},customFetch:n,region:s=Dc.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=V_(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return H_(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:o,method:l,body:c,signal:d,timeout:f}=n;let p={},{region:h}=n;h||(h=this.region);const w=new URL(`${this.url}/${r}`);h&&h!=="any"&&(p["x-region"]=h,w.searchParams.set("forceFunctionRegion",h));let v;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(p["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(p["Content-Type"]="application/json",v=JSON.stringify(c)):v=c;let x=d;f&&(a=new AbortController,i=setTimeout(()=>a.abort(),f),d?(x=a.signal,d.addEventListener("abort",()=>a.abort())):x=a.signal);const g=yield this.fetch(w.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:v,signal:x}).catch(S=>{throw new K_(S)}),m=g.headers.get("x-relay-error");if(m&&m==="true")throw new np(g);if(!g.ok)throw new sp(g);let y=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield g.json():y==="application/octet-stream"||y==="application/pdf"?b=yield g.blob():y==="text/event-stream"?b=g:y==="multipart/form-data"?b=yield g.formData():b=yield g.text(),{data:b,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof sp||o instanceof np?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var G_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},J_=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,l=null,c=i.status,d=i.statusText;if(i.ok){var f,p;if(r.method!=="HEAD"){var h;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((h=r.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?o=g:o=JSON.parse(g))}const v=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");v&&x&&x.length>1&&(l=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var w;const v=await i.text();try{a=JSON.parse(v),Array.isArray(a)&&i.status===404&&(o=[],a=null,c=200,d="OK")}catch{i.status===404&&v===""?(c=204,d="No Content"):a={message:v}}if(a&&r.isMaybeSingle&&(!(a==null||(w=a.details)===null||w===void 0)&&w.includes("0 rows"))&&(a=null,c=200,d="OK"),a&&r.shouldThrowOnError)throw new G_(a)}return{error:a,data:o,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="";const l=i==null?void 0:i.cause;if(l){var c,d,f,p;const w=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",v=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";o=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(p=l==null?void 0:l.name)!==null&&p!==void 0?p:"Error"}: ${w}`,v&&(o+=` (${v})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var h;o=(h=i==null?void 0:i.stack)!==null&&h!==void 0?h:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},Y_=class extends J_{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const ip=new RegExp("[,()]");var ys=class extends Y_{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&ip.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&ip.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Z_=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new ys({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((a,o)=>a.concat(Object.keys(o)),[]);if(i.length>0){const a=[...new Set(i)].map(o=>`"${o}"`);this.url.searchParams.set("columns",a.join(","))}}return new ys({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new ys({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new ys({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ys({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},X_=class Pv{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Z_(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Pv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,p])=>p!==void 0).map(([f,p])=>[f,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([f,p])=>{l.searchParams.append(f,p)})):(o="POST",c=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new ys({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class e1{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const t1="2.89.0",r1=`realtime-js/${t1}`,Rv="1.0.0",n1="2.0.0",ap=Rv,Uc=1e4,s1=1e3,i1=100;var Br;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Br||(Br={}));var Pe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pe||(Pe={}));var Jt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Jt||(Jt={}));var Mc;(function(e){e.websocket="websocket"})(Mc||(Mc={}));var On;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(On||(On={}));class a1{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,o=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+c.length+f.length,h=new ArrayBuffer(this.HEADER_LENGTH+p);let w=new DataView(h),v=0;w.setUint8(v++,this.KINDS.userBroadcastPush),w.setUint8(v++,l.length),w.setUint8(v++,o.length),w.setUint8(v++,a.length),w.setUint8(v++,c.length),w.setUint8(v++,f.length),w.setUint8(v++,r),Array.from(l,g=>w.setUint8(v++,g.charCodeAt(0))),Array.from(o,g=>w.setUint8(v++,g.charCodeAt(0))),Array.from(a,g=>w.setUint8(v++,g.charCodeAt(0))),Array.from(c,g=>w.setUint8(v++,g.charCodeAt(0))),Array.from(f,g=>w.setUint8(v++,g.charCodeAt(0)));var x=new Uint8Array(h.byteLength+n.byteLength);return x.set(new Uint8Array(h),0),x.set(new Uint8Array(n),h.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,o,l]=n;return r({join_ref:s,ref:i,topic:a,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+s));l=l+s;const d=n.decode(t.slice(l,l+i));l=l+i;const f=n.decode(t.slice(l,l+a));l=l+a;const p=t.slice(l,t.byteLength),h=o===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,w={type:this.BROADCAST_EVENT,event:d,payload:h};return a>0&&(w.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Ov{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(le||(le={}));const op=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=o1(a,e,t,s),i),{}):{}},o1=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Av(i,a):zc(a)},Av=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return d1(t,r)}switch(e){case le.bool:return l1(t);case le.float4:case le.float8:case le.int2:case le.int4:case le.int8:case le.numeric:case le.oid:return u1(t);case le.json:case le.jsonb:return c1(t);case le.timestamp:return h1(t);case le.abstime:case le.date:case le.daterange:case le.int4range:case le.int8range:case le.money:case le.reltime:case le.text:case le.time:case le.timestamptz:case le.timetz:case le.tsrange:case le.tstzrange:return zc(t);default:return zc(t)}},zc=e=>e,l1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},u1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},c1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},d1=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Av(t,o))}return e},h1=e=>typeof e=="string"?e.replace(" ","T"):e,Iv=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class fu{constructor(t,r,n={},s=Uc){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var lp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(lp||(lp={}));class Yi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yi.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Yi.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Yi.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},l={};return this.map(i,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const f=i[c];if(f){const p=d.map(x=>x.presence_ref),h=f.map(x=>x.presence_ref),w=d.filter(x=>h.indexOf(x.presence_ref)<0),v=f.filter(x=>p.indexOf(x.presence_ref)<0);w.length>0&&(o[c]=w),v.length>0&&(l[c]=v)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(h=>h.presence_ref),p=d.filter(h=>f.indexOf(h.presence_ref)<0);t[o].unshift(...p)}n(o,d,l)}),this.map(a,(o,l)=>{let c=t[o];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=c,s(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var up;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(up||(up={}));var Zi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Zi||(Zi={}));var gr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(gr||(gr={}));class As{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fu(this,Jt.join,this.params,this.timeout),this.rejoinTimer=new Ov(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jt.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Yi(this),this.broadcastEndpointURL=Iv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Zi.PRESENCE]&&this.bindings[Zi.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},p={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>t==null?void 0:t(gr.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(gr.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t==null||t(gr.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,x=(w=v==null?void 0:v.length)!==null&&w!==void 0?w:0,g=[];for(let m=0;m<x;m++){const y=v[m],{filter:{event:b,schema:S,table:j,filter:C}}=y,T=h&&h[m];if(T&&T.event===b&&As.isFilterValueEqual(T.schema,S)&&As.isFilterValueEqual(T.table,j)&&As.isFilterValueEqual(T.filter,C))g.push(Object.assign(Object.assign({},y),{id:T.id}));else{this.unsubscribe(),this.state=Pe.errored,t==null||t(gr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(gr.SUBSCRIBED);return}}).receive("error",h=>{this.state=Pe.errored,t==null||t(gr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(gr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Pe.joined&&t===Zi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new fu(this,Jt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new fu(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>i1){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=Jt;if(n&&[o,l,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var w,v,x;return((w=h.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(v=h.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(h=>h.callback(p,n)):(i=this.bindings[a])===null||i===void 0||i.filter(h=>{var w,v,x,g,m,y;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){const b=h.id,S=(w=h.filter)===null||w===void 0?void 0:w.event;return b&&((v=r.ids)===null||v===void 0?void 0:v.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const b=(m=(g=h==null?void 0:h.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:v,table:x,commit_timestamp:g,type:m,errors:y}=w;p=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:g,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(w))}h.callback(p,n)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&As.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Jt.close,{},t)}_onError(t){this._on(Jt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=op(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=op(t.columns,t.old_record)),r}}const pu=()=>{},co={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},f1=[1e3,2e3,5e3,1e4],p1=1e4,m1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class g1{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uc,this.transport=null,this.heartbeatIntervalMs=co.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pu,this.ref=0,this.reconnectTimer=null,this.vsn=ap,this.logger=pu,this.conn=null,this.sendBuffer=[],this.serializer=new a1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Mc.websocket}`,this.httpEndpoint=Iv(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=e1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Br.connecting:return On.Connecting;case Br.open:return On.Open;case Br.closing:return On.Closing;default:return On.Closed}}isConnected(){return this.connectionState()===On.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new As(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(s1,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},co.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${o}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Br.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Br.open||this.conn.readyState===Br.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Jt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([m1],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:r1};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Jt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Ov(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},co.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,o,l,c,d,f,p,h;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Uc,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:co.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:pu,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:ap,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:w=>f1[w-1]||p1,this.vsn){case Rv:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(w,v)=>v(JSON.stringify(w)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(w,v)=>v(JSON.parse(w));break;case n1:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ba=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function v1(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function y1(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function w1(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const o=v1(e.baseUrl,n,s),l=await y1(e.auth),c=await t(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),p=f&&d?JSON.parse(d):d;if(!c.ok){const h=f?p:void 0,w=h==null?void 0:h.error;throw new ba((w==null?void 0:w.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:h})}return{status:c.status,headers:c.headers,data:p}}}}function ho(e){return e.join("")}var x1=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ho(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ho(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ho(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ho(e.namespace)}`}),!0}catch(t){if(t instanceof ba&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ba&&r.status===409)return;throw r}}};function hs(e){return e.join("")}var b1=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hs(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hs(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hs(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hs(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hs(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hs(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ba&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ba&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},_1=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=w1({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new x1(this.client,t),this.tableOps=new b1(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Tl=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function me(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var k1=class extends Tl{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Fc=class extends Tl{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const sh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),S1=()=>Response,Bc=e=>{if(Array.isArray(e))return e.map(r=>Bc(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Bc(n)}),t},E1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},j1=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function _a(e){"@babel/helpers - typeof";return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_a(e)}function C1(e,t){if(_a(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_a(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N1(e){var t=C1(e,"string");return _a(t)=="symbol"?t:t+""}function T1(e,t,r){return(t=N1(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cp(Object(r),!0).forEach(function(n){T1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const mu=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},P1=async(e,t,r)=>{e instanceof await S1()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,i=(n==null?void 0:n.statusCode)||s+"";t(new k1(mu(n),s,i))}).catch(n=>{t(new Fc(mu(n),n))}):t(new Fc(mu(e),e))},R1=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(E1(n)?(s.headers=W({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),W(W({},s),r))};async function Ma(e,t,r,n,s,i){return new Promise((a,o)=>{e(r,R1(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>P1(l,o,n))})}async function ka(e,t,r,n){return Ma(e,"GET",t,r,n)}async function Vt(e,t,r,n,s){return Ma(e,"POST",t,n,s,r)}async function Wc(e,t,r,n,s){return Ma(e,"PUT",t,n,s,r)}async function O1(e,t,r,n){return Ma(e,"HEAD",t,W(W({},r),{},{noResolveJson:!0}),n)}async function ih(e,t,r,n,s){return Ma(e,"DELETE",t,n,s,r)}var A1=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(me(t))return{data:null,error:t};throw t}}};let $v;$v=Symbol.toStringTag;var I1=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[$v]="BlobDownloadBuilder",this.promise=null}asStream(){return new A1(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(me(t))return{data:null,error:t};throw t}}};const $1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var L1=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=sh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let i;const a=W(W({},dp),n);let o=W(W({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=W(W({},o),n.headers));const c=s._removeEmptyFolders(t),d=s._getFinalPath(c),f=await(e=="PUT"?Wc:Vt)(s.fetch,`${s.url}/object/${d}`,i,W({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let l;const c=W({upsert:dp.upsert},n),d=W(W({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:i,fullPath:(await Wc(s.fetch,o.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(me(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=W({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await Vt(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),o=a.searchParams.get("token");if(!o)throw new Tl("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Vt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await Vt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),i=await Vt(n.fetch,`${n.url}/object/sign/${s}`,W({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await Vt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>W(W({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),a=()=>ka(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new I1(a,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Bc(await ka(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await O1(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(me(n)&&n instanceof Fc){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}async remove(e){var t=this;try{return{data:await ih(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=W(W(W({},$1),t),{},{prefix:e||""});return{data:await Vt(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=W({},e);return{data:await Vt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Lv="2.89.0",Dv={"X-Client-Info":`storage-js/${Lv}`};var D1=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=W(W({},Dv),t),this.fetch=sh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await ka(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await ka(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Vt(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Wc(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Vt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ih(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},U1=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=W(W({},Dv),t),this.fetch=sh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Vt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await ka(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ih(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(me(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!j1(e))throw new Tl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new _1({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const ah={"X-Client-Info":`storage-js/${Lv}`,"Content-Type":"application/json"};var Uv=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function xt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var gu=class extends Uv{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},M1=class extends Uv{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const oh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),z1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),F1=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new gu(hp(i),n,a))}).catch(()=>{const i=n+"";t(new gu(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new gu(s.statusText||`HTTP ${n} error`,n,i))}}else t(new M1(hp(e),e))},B1=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(z1(n)?(s.headers=W({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,W(W({},s),r)):s};async function W1(e,t,r,n,s,i){return new Promise((a,o)=>{e(r,B1(t,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>F1(l,o,n))})}async function bt(e,t,r,n,s){return W1(e,"POST",t,n,s,r)}var q1=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=W(W({},ah),t),this.fetch=oh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await bt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await bt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await bt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await bt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}}},H1=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=W(W({},ah),t),this.fetch=oh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await bt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await bt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await bt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await bt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await bt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}},V1=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=W(W({},ah),t),this.fetch=oh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await bt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await bt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await bt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await bt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xt(r))return{data:null,error:r};throw r}}},K1=class extends V1{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Q1(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Q1=class extends q1{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,W(W({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,W(W({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new G1(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},G1=class extends H1{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,W(W({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,W(W({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,W(W({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,W(W({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,W(W({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},J1=class extends D1{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new L1(this.url,this.headers,e,this.fetch)}get vectors(){return new K1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new U1(this.url+"/iceberg",this.headers,this.fetch)}};const Mv="2.89.0",ws=30*1e3,qc=3,vu=qc*ws,Y1="http://localhost:9999",Z1="supabase.auth.token",X1={"X-Client-Info":`gotrue-js/${Mv}`},Hc="X-Supabase-Api-Version",zv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ek=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tk=10*60*1e3;class Sa extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function D(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class rk extends Sa{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function nk(e){return D(e)&&e.name==="AuthApiError"}class An extends Sa{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Or extends Sa{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class vt extends Or{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sk(e){return D(e)&&e.name==="AuthSessionMissingError"}class fs extends Or{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fo extends Or{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class po extends Or{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ik(e){return D(e)&&e.name==="AuthImplicitGrantRedirectError"}class fp extends Or{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ak extends Or{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Vc extends Or{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function yu(e){return D(e)&&e.name==="AuthRetryableFetchError"}class pp extends Or{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Kc extends Or{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const sl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mp=` 	
\r=`.split(""),ok=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<mp.length;t+=1)e[mp[t].charCodeAt(0)]=-2;for(let t=0;t<sl.length;t+=1)e[sl[t].charCodeAt(0)]=t;return e})();function gp(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(sl[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(sl[n]),t.queuedBits-=6}}function Fv(e,t,r){const n=ok[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function vp(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{ck(a,n,r)};for(let a=0;a<e.length;a+=1)Fv(e.charCodeAt(a),s,i);return t.join("")}function lk(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function uk(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}lk(n,t)}}function ck(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function zs(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Fv(e.charCodeAt(s),r,n);return new Uint8Array(t)}function dk(e){const t=[];return uk(e,r=>t.push(r)),new Uint8Array(t)}function Un(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>gp(s,r,n)),gp(null,r,n),t.join("")}function hk(e){return Math.round(Date.now()/1e3)+e}function fk(){return Symbol("auth-callback")}const We=()=>typeof window<"u"&&typeof document<"u",Cn={tested:!1,writable:!1},Bv=()=>{if(!We())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cn.tested)return Cn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Cn.tested=!0,Cn.writable=!0}catch{Cn.tested=!0,Cn.writable=!1}return Cn.writable};function pk(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Wv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),mk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",xs=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Nn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Be=async(e,t)=>{await e.removeItem(t)};class Pl{constructor(){this.promise=new Pl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Pl.promiseConstructor=Promise;function wu(e){const t=e.split(".");if(t.length!==3)throw new Kc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ek.test(t[n]))throw new Kc("JWT not in base64url format");return{header:JSON.parse(vp(t[0])),payload:JSON.parse(vp(t[1])),signature:zs(t[2]),raw:{header:t[0],payload:t[1]}}}async function gk(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function vk(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function yk(e){return("0"+e.toString(16)).substr(-2)}function wk(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,yk).join("")}async function xk(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function bk(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await xk(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ps(e,t,r=!1){const n=wk();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await xs(e,`${t}-code-verifier`,s);const i=await bk(n);return[i,n===i?"plain":"s256"]}const _k=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kk(e){const t=e.headers.get(Hc);if(!t||!t.match(_k))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Sk(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ek(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ms(e){if(!jk.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xu(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ck(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function yp(e){return JSON.parse(JSON.stringify(e))}const Rn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Nk=[502,503,504];async function wp(e){var t;if(!mk(e))throw new Vc(Rn(e),0);if(Nk.includes(e.status))throw new Vc(Rn(e),e.status);let r;try{r=await e.json()}catch(i){throw new An(Rn(i),i)}let n;const s=kk(e);if(s&&s.getTime()>=zv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new pp(Rn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new vt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new pp(Rn(r),e.status,r.weak_password.reasons);throw new rk(Rn(r),e.status||500,n)}const Tk=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function B(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Hc]||(i[Hc]=zv["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Pk(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Pk(e,t,r,n,s,i){const a=Tk(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new Vc(Rn(l),0)}if(o.ok||await wp(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await wp(l)}}function qt(e){var t;let r=null;Ak(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=hk(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function xp(e){const t=qt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Hr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Rk(e){return{data:e,error:null}}function Ok(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Nl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function bp(e){return e}function Ak(e){return e.access_token&&e.refresh_token&&e.expires_in}const bu=["global","local","others"];class Ik{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Wv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=bu[0]){if(bu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bu.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Hr})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Nl(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ok,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(D(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Hr})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:bp});if(d.error)throw d.error;const f=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);c[`${x}Page`]=v}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(D(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){ms(t);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Hr})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ms(t);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Hr})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ms(t);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Hr})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ms(t.userId);try{const{data:r,error:n}=await B(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(D(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ms(t.userId),ms(t.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:bp});if(d.error)throw d.error;const f=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);c[`${x}Page`]=v}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(D(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await B(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await B(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await B(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}}function _p(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const gs={debug:!!(globalThis&&Bv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class $k extends qv{}async function Lk(e,t,r){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new $k(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(gs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Dk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Hv(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Uk(e){return parseInt(e,16)}function Mk(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function zk(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:d,uri:f,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const h=Hv(e.address),w=d?`${d}://${n}`:n,v=e.statement?`${e.statement}
`:"",x=`${w} wants you to sign in with your Ethereum account:
${h}

${v}`;let g=`URI: ${f}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),l&&(g+=`
Request ID: ${l}`),c){let m=`
Resources:`;for(const y of c){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);m+=`
- ${y}`}g+=m}return`${x}
${g}`}class Ne extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class il extends Ne{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Fk({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ne({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ne({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ne({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ne({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ne({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ne({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Ne({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ne({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Vv(a)){if(i.rp.id!==a)return new Ne({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ne({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ne({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Bk({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ne({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ne({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Vv(n)){if(r.rpId!==n)return new Ne({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ne({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ne({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ne({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Wk{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const qk=new Wk;function Hk(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Nl(e,["challenge","user","excludeCredentials"]),i=zs(t).buffer,a=Object.assign(Object.assign({},r),{id:zs(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:zs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function Vk(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Nl(e,["challenge","allowCredentials"]),s=zs(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:zs(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function Kk(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Un(new Uint8Array(e.response.attestationObject)),clientDataJSON:Un(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Qk(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Un(new Uint8Array(s.authenticatorData)),clientDataJSON:Un(new Uint8Array(s.clientDataJSON)),signature:Un(new Uint8Array(s.signature)),userHandle:s.userHandle?Un(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Vv(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function kp(){var e,t;return!!(We()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Gk(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new il("Browser returned unexpected credential type",t)}:{data:null,error:new il("Empty credential response",t)}}catch(t){return{data:null,error:Fk({error:t,options:e})}}}async function Jk(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new il("Browser returned unexpected credential type",t)}:{data:null,error:new il("Empty credential response",t)}}catch(t){return{data:null,error:Bk({error:t,options:e})}}}const Yk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Zk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function al(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const o=n[i];t(o)?n[i]=al(o,a):n[i]=al(a)}else n[i]=a}return n}function Xk(e,t){return al(Yk,e,t||{})}function eS(e,t){return al(Zk,e,t||{})}class tS{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:o};const l=s??qk.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=Xk(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await Gk({publicKey:c,signal:l});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=eS(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await Jk(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return D(a)?{data:null,error:a}:{data:null,error:new An("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Sa("rpId is required for WebAuthn authentication")};try{if(!kp())return{data:null,error:new An("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return D(a)?{data:null,error:a}:{data:null,error:new An("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Sa("rpId is required for WebAuthn registration")};try{if(!kp())return{data:null,error:new An("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return D(a)?{data:null,error:a}:{data:null,error:new An("Unexpected error in register",a)}}}}Dk();const rS={url:Y1,storageKey:Z1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:X1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Sp(e,t,r){return await r()}const vs={};class Ea{get jwks(){var t,r;return(r=(t=vs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=vs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},rS),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Ea.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ea.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&We()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ik({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Wv(i.fetch),this.lock=i.lock||Sp,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&We()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Lk:this.lock=Sp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new tS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Bv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_p(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=_p(this.memoryStorage)),We()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Mv}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(We()&&(r=pk(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),We()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ik(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return D(r)?this._returnResult({error:r}):this._returnResult({error:new An("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:qt}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(D(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:p}=t;let h=null,w=null;this.flowType==="pkce"&&([h,w]=await ps(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:w},xform:qt})}else if("phone"in t){const{phone:d,password:f,options:p}=t;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:qt})}else throw new fo("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await Be(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await Be(this.storage,`${this.storageKey}-code-verifier`),D(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:xp})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:xp})}else throw new fo("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new fs;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(D(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,o,l,c,d,f,p;let h,w;if("message"in t)h=t.message,w=t.signature;else{const{chain:v,wallet:x,statement:g,options:m}=t;let y;if(We())if(typeof x=="object")y=x;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")y=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=x}const b=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),S=await y.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=Hv(S[0]);let C=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const F=await y.request({method:"eth_chainId"});C=Uk(F)}const T={domain:b.host,address:j,statement:g,uri:b.href,version:"1",chainId:C,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=m==null?void 0:m.signInWithEthereum)===null||d===void 0?void 0:d.resources};h=zk(T),w=await y.request({method:"personal_sign",params:[Mk(h),j]})}try{const{data:v,error:x}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:w},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:qt});if(x)throw x;if(!v||!v.session||!v.user){const g=new fs;return this._returnResult({data:{user:null,session:null},error:g})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:x})}catch(v){if(D(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var r,n,s,i,a,o,l,c,d,f,p,h;let w,v;if("message"in t)w=t.message,v=t.signature;else{const{chain:x,wallet:g,statement:m,options:y}=t;let b;if(We())if(typeof g=="object")b=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))b=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const S=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const j=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let C;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")C=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)C=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)w=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),v=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const j=await b.signMessage(new TextEncoder().encode(w),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=j}}try{const{data:x,error:g}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Un(v)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:qt});if(g)throw g;if(!x||!x.session||!x.user){const m=new fs;return this._returnResult({data:{user:null,session:null},error:m})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if(D(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await Nn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new ak;const{data:i,error:a}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:qt});if(await Be(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new fs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await Be(this.storage,`${this.storageKey}-code-verifier`),D(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:qt}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new fs;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(D(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await ps(this.storage,this.storageKey));const{error:f}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new fo("You must provide either an email or phone number.")}catch(o){if(await Be(this.storage,`${this.storageKey}-code-verifier`),D(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:qt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(D(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await ps(this.storage,this.storageKey));const c=await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:Rk});return!((i=c.data)===null||i===void 0)&&i.url&&We()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await Be(this.storage,`${this.storageKey}-code-verifier`),D(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new vt;const{error:s}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(D(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await B(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await B(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new fo("You must provide either an email or phone number and a type")}catch(r){if(D(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Nn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<vu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Nn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=xu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=Ck(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Hr}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vt}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Hr})})}catch(r){if(D(r))return sk(r)&&(await this._removeSession(),await Be(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new vt;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await ps(this.storage,this.storageKey));const{data:c,error:d}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Hr});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await Be(this.storage,`${this.storageKey}-code-verifier`),D(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=wu(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(D(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new vt;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(D(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!We())throw new po("No browser detected.");if(t.error||t.error_description||t.error_code)throw new po(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new fp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new po("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new fp("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=t;if(!i||!o||!a||!c)throw new po("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let p=d+f;l&&(p=parseInt(l));const h=p-d;h*1e3<=ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const w=p-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,d);const{data:v,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:p,refresh_token:a,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(D(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Nn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(nk(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await Be(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=fk(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ps(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Be(this.storage,`${this.storageKey}-code-verifier`),D(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,c,d;const{data:f,error:p}=i;if(p)throw p;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return We()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(D(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:o,token:l,access_token:c,nonce:d}=t,f=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:qt}),{data:p,error:h}=f;return h?this._returnResult({data:{user:null,session:null},error:h}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new fs}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:h}))}catch(s){if(await Be(this.storage,`${this.storageKey}-code-verifier`),D(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await vk(async s=>(s>0&&await gk(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:qt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&yu(i)&&Date.now()+a-n<ws})}catch(n){if(this._debug(r,"error",n),D(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),We()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Nn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Nn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await xs(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:xu()}else if(s&&!s.user&&!s.user){const a=await Nn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Be(this.storage,this.storageKey+"-user"),await xs(this.storage,this.storageKey,s)):s.user=xu()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<vu;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${vu}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),yu(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Pl;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new vt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),D(i)){const a={data:null,error:i};return yu(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Be(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await xs(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=yp(s);await xs(this.storage,this.storageKey,i)}else{const s=yp(r);await xs(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Be(this.storage,this.storageKey),await Be(this.storage,this.storageKey+"-code-verifier"),await Be(this.storage,this.storageKey+"-user"),this.userStorage&&await Be(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&We()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ws);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ws}ms, refresh threshold is ${qc} ticks`),s<=qc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof qv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!We()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await ps(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await B(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await B(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Kk(t.webauthn.credential_response):Qk(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Hk(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Vk(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=wu(n.access_token);let a=null;i.aal&&(a=i.aal);let o=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const c=i.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await B(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new vt})})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new vt});const a=await B(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&We()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new vt});const a=await B(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&We()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await B(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new vt})})}catch(t){if(D(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await B(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new vt})})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+tk>s)return n;const{data:i,error:a}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:h,error:w}=await this.getSession();if(w||!h.session)return this._returnResult({data:null,error:w});n=h.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=wu(n);r!=null&&r.allowExpired||Sk(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:s,signature:a},error:null}}const d=Ek(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,dk(`${o}.${l}`)))throw new Kc("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}}Ea.nextInstanceID={};const nS=Ea,sS="2.89.0";let Fi="";typeof Deno<"u"?Fi="deno":typeof document<"u"?Fi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fi="react-native":Fi="node";const iS={"X-Client-Info":`supabase-js-${Fi}/${sS}`},aS={headers:iS},oS={schema:"public"},lS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uS={};function ja(e){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ja(e)}function cS(e,t){if(ja(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ja(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dS(e){var t=cS(e,"string");return ja(t)=="symbol"?t:t+""}function hS(e,t,r){return(t=dS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ep(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ep(Object(r),!0).forEach(function(n){hS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ep(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const fS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),pS=()=>Headers,mS=(e,t,r)=>{const n=fS(r),s=pS();return async(i,a)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,be(be({},a),{},{headers:c}))}};function gS(e){return e.endsWith("/")?e:e+"/"}function vS(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:l,auth:c,realtime:d,global:f}=t,p={db:be(be({},l),s),auth:be(be({},c),i),realtime:be(be({},d),a),storage:{},global:be(be(be({},f),o),{},{headers:be(be({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function yS(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(gS(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var wS=class extends nS{constructor(e){super(e)}},xS=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=yS(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:oS,realtime:uS,auth:be(be({},lS),{},{storageKey:a}),global:aS},l=vS(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=mS(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(be({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new X_(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new J1(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Q_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:c},d,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wS({url:this.authUrl.href,headers:be(be({},p),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new g1(this.realtimeUrl.href,be(be({},e),{},{params:be(be({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const bS=(e,t,r)=>new xS(e,t,r);function _S(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}_S()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const kS="https://xnvmllbnskoigoineyni.supabase.co",SS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inhudm1sbGJuc2tvaWdvaW5leW5pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyMDc0NTcsImV4cCI6MjA2ODc4MzQ1N30.98-aRoqw4hnlkb2NPCp8-qZzSCPCZycocMa0c5LCc14",K=bS(kS,SS,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),Dt=U_()(q_((e,t)=>({user:null,isLoading:!0,isAuthenticated:!1,setUser:r=>e({user:r,isAuthenticated:!!r,isLoading:!1}),setLoading:r=>e({isLoading:r}),login:async(r,n)=>{try{const{data:s,error:i}=await K.auth.signInWithPassword({email:r,password:n});if(i)return{success:!1,error:_u(i.message)};if(!s.user)return{success:!1,error:"Nie udao si zalogowa"};const{data:a,error:o}=await K.from("users").select("*").eq("id",s.user.id).single();return o||!a?{success:!1,error:"Nie znaleziono profilu uytkownika"}:(e({user:a,isAuthenticated:!0}),{success:!0})}catch{return{success:!1,error:"Wystpi bd podczas logowania"}}},register:async(r,n,s)=>{try{const{data:i,error:a}=await K.auth.signUp({email:r,password:n,options:{data:{name:s}}});return a?{success:!1,error:_u(a.message)}:i.user?{success:!0}:{success:!1,error:"Nie udao si utworzy konta"}}catch{return{success:!1,error:"Wystpi bd podczas rejestracji"}}},logout:async()=>{await K.auth.signOut(),e({user:null,isAuthenticated:!1})},refreshUser:async()=>{try{const{data:{user:r}}=await K.auth.getUser();if(!r){e({user:null,isAuthenticated:!1,isLoading:!1});return}const{data:n}=await K.from("users").select("*").eq("id",r.id).single();e({user:n||null,isAuthenticated:!!n,isLoading:!1})}catch{e({user:null,isAuthenticated:!1,isLoading:!1})}},forgotPassword:async r=>{try{const{error:n}=await K.auth.resetPasswordForEmail(r,{redirectTo:`${window.location.origin}/reset-password`});return n?{success:!1,error:_u(n.message)}:{success:!0}}catch{return{success:!1,error:"Wystpi bd"}}}}),{name:"auth-storage",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})}));function _u(e){return{"Invalid login credentials":"Nieprawidowy email lub haso","Email not confirmed":"Email nie zosta potwierdzony","User already registered":"Uytkownik ju istnieje","Password should be at least 6 characters":"Haso musi mie minimum 6 znakw","Unable to validate email address: invalid format":"Nieprawidowy format email"}[e]||e}async function ES(){const{refreshUser:e}=Dt.getState();await e(),K.auth.onAuthStateChange(async(t,r)=>{t==="SIGNED_IN"&&(r!=null&&r.user)?await e():t==="SIGNED_OUT"&&Dt.getState().setUser(null)})}function Kv(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Kv(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function jS(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Kv(e))&&(n&&(n+=" "),n+=t);return n}const lh="-",CS=e=>{const t=TS(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const o=a.split(lh);return o[0]===""&&o.length!==1&&o.shift(),Qv(o,t)||NS(a)},getConflictingClassGroupIds:(a,o)=>{const l=r[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},Qv=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Qv(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(lh);return(a=t.validators.find(({validator:o})=>o(i)))==null?void 0:a.classGroupId},jp=/^\[(.+)\]$/,NS=e=>{if(jp.test(e)){const t=jp.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},TS=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return RS(Object.entries(e.classGroups),r).forEach(([i,a])=>{Qc(a,n,i,t)}),n},Qc=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Cp(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(PS(s)){Qc(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,a])=>{Qc(a,Cp(t,i),r,n)})})},Cp=(e,t)=>{let r=e;return t.split(lh).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},PS=e=>e.isThemeGetter,RS=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,o])=>[t+a,o])):i);return[r,s]}):e,OS=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,a)=>{r.set(i,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let a=r.get(i);if(a!==void 0)return a;if((a=n.get(i))!==void 0)return s(i,a),a},set(i,a){r.has(i)?r.set(i,a):s(i,a)}}},Gv="!",AS=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,a=o=>{const l=[];let c=0,d=0,f;for(let x=0;x<o.length;x++){let g=o[x];if(c===0){if(g===s&&(n||o.slice(x,x+i)===t)){l.push(o.slice(d,x)),d=x+i;continue}if(g==="/"){f=x;continue}}g==="["?c++:g==="]"&&c--}const p=l.length===0?o:o.substring(d),h=p.startsWith(Gv),w=h?p.substring(1):p,v=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:w,maybePostfixModifierPosition:v}};return r?o=>r({className:o,parseClassName:a}):a},IS=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},$S=e=>({cache:OS(e.cacheSize),parseClassName:AS(e),...CS(e)}),LS=/\s+/,DS=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(LS);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:h}=r(c);let w=!!h,v=n(w?p.substring(0,h):p);if(!v){if(!w){o=c+(o.length>0?" "+o:o);continue}if(v=n(p),!v){o=c+(o.length>0?" "+o:o);continue}w=!1}const x=IS(d).join(":"),g=f?x+Gv:x,m=g+v;if(i.includes(m))continue;i.push(m);const y=s(v,w);for(let b=0;b<y.length;++b){const S=y[b];i.push(g+S)}o=c+(o.length>0?" "+o:o)}return o};function US(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Jv(t))&&(n&&(n+=" "),n+=r);return n}const Jv=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Jv(e[n]))&&(r&&(r+=" "),r+=t);return r};function MS(e,...t){let r,n,s,i=a;function a(l){const c=t.reduce((d,f)=>f(d),e());return r=$S(c),n=r.cache.get,s=r.cache.set,i=o,o(l)}function o(l){const c=n(l);if(c)return c;const d=DS(l,r);return s(l,d),d}return function(){return i(US.apply(null,arguments))}}const ce=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Yv=/^\[(?:([a-z-]+):)?(.+)\]$/i,zS=/^\d+\/\d+$/,FS=new Set(["px","full","screen"]),BS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,HS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fr=e=>Fs(e)||FS.has(e)||zS.test(e),Dr=e=>xi(e,"length",eE),Fs=e=>!!e&&!Number.isNaN(Number(e)),ku=e=>xi(e,"number",Fs),Ai=e=>!!e&&Number.isInteger(Number(e)),KS=e=>e.endsWith("%")&&Fs(e.slice(0,-1)),Q=e=>Yv.test(e),Ur=e=>BS.test(e),QS=new Set(["length","size","percentage"]),GS=e=>xi(e,QS,Zv),JS=e=>xi(e,"position",Zv),YS=new Set(["image","url"]),ZS=e=>xi(e,YS,rE),XS=e=>xi(e,"",tE),Ii=()=>!0,xi=(e,t,r)=>{const n=Yv.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},eE=e=>WS.test(e)&&!qS.test(e),Zv=()=>!1,tE=e=>HS.test(e),rE=e=>VS.test(e),nE=()=>{const e=ce("colors"),t=ce("spacing"),r=ce("blur"),n=ce("brightness"),s=ce("borderColor"),i=ce("borderRadius"),a=ce("borderSpacing"),o=ce("borderWidth"),l=ce("contrast"),c=ce("grayscale"),d=ce("hueRotate"),f=ce("invert"),p=ce("gap"),h=ce("gradientColorStops"),w=ce("gradientColorStopPositions"),v=ce("inset"),x=ce("margin"),g=ce("opacity"),m=ce("padding"),y=ce("saturate"),b=ce("scale"),S=ce("sepia"),j=ce("skew"),C=ce("space"),T=ce("translate"),F=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto",Q,t],q=()=>[Q,t],Ie=()=>["",fr,Dr],ot=()=>["auto",Fs,Q],hr=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ke=()=>["solid","dashed","dotted","double","none"],Qe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",Q],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Fs,Q];return{cacheSize:500,separator:":",theme:{colors:[Ii],spacing:[fr,Dr],blur:["none","",Ur,Q],brightness:Z(),borderColor:[e],borderRadius:["none","","full",Ur,Q],borderSpacing:q(),borderWidth:Ie(),contrast:Z(),grayscale:P(),hueRotate:Z(),invert:P(),gap:q(),gradientColorStops:[e],gradientColorStopPositions:[KS,Dr],inset:ee(),margin:ee(),opacity:Z(),padding:q(),saturate:Z(),scale:Z(),sepia:P(),skew:Z(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",Q]}],container:["container"],columns:[{columns:[Ur]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...hr(),Q]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ai,Q]}],basis:[{basis:ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Q]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Ai,Q]}],"grid-cols":[{"grid-cols":[Ii]}],"col-start-end":[{col:["auto",{span:["full",Ai,Q]},Q]}],"col-start":[{"col-start":ot()}],"col-end":[{"col-end":ot()}],"grid-rows":[{"grid-rows":[Ii]}],"row-start-end":[{row:["auto",{span:[Ai,Q]},Q]}],"row-start":[{"row-start":ot()}],"row-end":[{"row-end":ot()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Q]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Q,t]}],"min-w":[{"min-w":[Q,t,"min","max","fit"]}],"max-w":[{"max-w":[Q,t,"none","full","min","max","fit","prose",{screen:[Ur]},Ur]}],h:[{h:[Q,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Q,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Q,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Q,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ur,Dr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ku]}],"font-family":[{font:[Ii]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Q]}],"line-clamp":[{"line-clamp":["none",Fs,ku]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fr,Q]}],"list-image":[{"list-image":["none",Q]}],"list-style-type":[{list:["none","disc","decimal",Q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ke(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fr,Dr]}],"underline-offset":[{"underline-offset":["auto",fr,Q]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...hr(),JS]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ZS]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...Ke(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:Ke()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Ke()]}],"outline-offset":[{"outline-offset":[fr,Q]}],"outline-w":[{outline:[fr,Dr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[fr,Dr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ur,XS]}],"shadow-color":[{shadow:[Ii]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...Qe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Qe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ur,Q]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Q]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Q]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Ai,Q]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Q]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Q]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Q]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[fr,Dr,ku]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sE=MS(nE);function k(...e){return sE(jS(e))}function Xv(e,t){return new Intl.DateTimeFormat("pl-PL",{day:"numeric",month:"long",year:"numeric",...t}).format(new Date(e))}function To(e){return new Intl.DateTimeFormat("pl-PL",{hour:"2-digit",minute:"2-digit"}).format(new Date(e))}function Np(e){const t=new Date,r=new Date(e),n=t.getTime()-r.getTime(),s=Math.floor(n/6e4),i=Math.floor(n/36e5),a=Math.floor(n/864e5);return s<1?"Teraz":s<60?`${s} min temu`:i<24?`${i} godz. temu`:a<7?`${a} dni temu`:Xv(e,{day:"numeric",month:"short"})}function uh(e){return e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2)}const iE={beginner:"Pocztkujcy",intermediate:"redniozaawansowany",advanced:"Zaawansowany",professional:"Profesjonalny"},aE={lesson:"Lekcja",workshop:"Warsztaty",social:"Potacwka",competition:"Zawody",performance:"Wystp"};function ol(e){return iE[e]||e}function ch(e){return aE[e]||e}const Tp=["from-[#D4A574] via-[#C4956A] to-[#A67C52]","from-[#8B5CF6] via-[#7C3AED] to-[#5B21B6]","from-[#F472B6] via-[#EC4899] to-[#BE185D]","from-[#C4B5A0] via-[#A89F91] to-[#8B8178]","from-[#A78BFA] via-[#8B5CF6] to-[#6D28D9]","from-[#F59E0B] via-[#D97706] to-[#B45309]"];function bi(e){const r=((e==null?void 0:e.charCodeAt(0))||0)%Tp.length;return Tp[r]}const ge={header:"px-5 pt-13 pb-5",section:"px-5 mb-5",sectionLast:"px-5",sectionHeadingMargin:"mb-3",floatingAction:"fixed bottom-21 left-5 right-5 z-20"},U={card:"rounded-2xl",button:"rounded-2xl",badge:"rounded-lg",avatarRounded:"rounded-xl",circle:"rounded-full",input:"rounded-2xl",pill:"rounded-xl"},Ce={padding:"p-4 gap-4",border:"border-b border-white/[0.06]"},ke={lg:"w-11 h-11 rounded-2xl",md:"w-10 h-10 rounded-xl",sm:"w-9 h-9 rounded-xl"},_t={standard:"px-2 py-1 rounded-lg text-[10px] font-bold",inline:"px-1.5 py-0.5 rounded-lg text-[9px] font-bold",icon:"w-6 h-6 rounded-lg flex items-center justify-center",indicator:"w-4 h-4 rounded-full"},Se={xs:"gap-1",sm:"gap-2",md:"gap-3",lg:"gap-4"},ci={stack:"space-y-4"},Su={base:"w-full bg-[var(--color-bg)] text-body-md outline-none focus:ring-2 focus:ring-[var(--color-brand)]/30 transition-all rounded-2xl",withIcon:"pl-12 pr-4 py-4",standard:"px-4 py-4"},di={primary:"w-full py-4 rounded-2xl bg-[var(--color-brand)] text-white text-headline-sm transition-all disabled:opacity-50 flex items-center justify-center",danger:"w-full p-4 rounded-2xl bg-red-500/10 hover:bg-red-500/15 active:bg-red-500/20 transition-colors flex items-center justify-center gap-3"},ey={listRow:"md"},ll={dancer:"w-52",event:"w-40",base:"flex-shrink-0 text-left active:scale-[0.97] transition-transform"},R={xxs:"w-2.5 h-2.5",xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"},Le={track:"w-12 h-7 rounded-full transition-colors relative",trackOn:"bg-[var(--color-brand)]",trackOff:"bg-black/20",thumb:"absolute top-1 w-5 h-5 rounded-full bg-white shadow transition-transform",thumbOn:"translate-x-6",thumbOff:"translate-x-1"},Bs={container:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",success:"bg-[var(--color-accent-mint)]/20",error:"bg-red-500/20"};function oE(){return u.jsxs("div",{className:"min-h-screen bg-[var(--color-bg)] relative",children:[u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#6366F1]/20 via-[#8B5CF6]/12 to-transparent"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-[#C4B5A0]/8 to-[#D4A574]/15"}),u.jsx("div",{className:"absolute inset-0 opacity-[0.04]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`}})]}),u.jsxs("div",{className:"relative min-h-screen flex flex-col",children:[u.jsx("div",{className:"flex-1 flex items-center justify-center px-6 pt-14",children:u.jsxs("div",{className:"w-full max-w-sm",children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("h1",{className:"text-[var(--color-text-primary)]",style:{fontFamily:"'Playfair Display', serif",fontSize:"clamp(2.5rem, 8vw, 3.5rem)",fontWeight:500,letterSpacing:"-0.02em"},children:"DanceMatch"}),u.jsx("p",{className:"text-body-sm text-[var(--color-text-tertiary)] mt-3 tracking-widest uppercase",children:"Znajd partnera do taca"})]}),u.jsx("div",{className:k("card-premium p-6",U.card),children:u.jsx(hv,{})})]})}),u.jsx("div",{className:"h-[env(safe-area-inset-bottom)]"})]})]})}/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ty=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...o},l)=>E.createElement("svg",{ref:l,...uE,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:ty("lucide",s),...o},[...a.map(([c,d])=>E.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=(e,t)=>{const r=E.forwardRef(({className:n,...s},i)=>E.createElement(cE,{ref:i,iconNode:t,className:ty(`lucide-${lE(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Y("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Y("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=Y("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=Y("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=Y("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=Y("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=Y("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=Y("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=Y("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=Y("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=Y("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=Y("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=Y("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=Y("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=Y("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=Y("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=Y("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=Y("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=Y("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=Y("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=Y("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=Y("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=Y("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=Y("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=Y("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=Y("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=Y("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=Y("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=Y("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=Y("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=Y("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Pp=[{path:"/dancers",icon:yE,label:"Home"},{path:"/chat",icon:ul,label:"Czat"},{path:"/events",icon:gn,label:"Wydarzenia"},{path:"/profile",icon:Na,label:"Profil"}];function PE(){const e=yi(),t=rr(),n=(()=>{const s=Pp.findIndex(i=>e.pathname.startsWith(i.path));return s>=0?s:0})();return u.jsxs("div",{className:"min-h-screen bg-[var(--color-bg)] relative",children:[u.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#6366F1]/20 via-[#8B5CF6]/12 to-transparent"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-[#C4B5A0]/8 to-[#D4A574]/15"}),u.jsx("div",{className:"absolute inset-0 opacity-[0.04]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`}})]}),u.jsx("main",{className:"relative pb-24",children:u.jsx(hv,{})}),u.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 z-50",children:[u.jsx("div",{className:"absolute inset-0 bg-[var(--color-bg-card)]/90 backdrop-blur-xl border-t border-white/[0.06]"}),u.jsx("div",{className:"relative flex items-center justify-around px-4 py-3",children:Pp.map((s,i)=>{const a=n===i,o=s.icon;return u.jsxs("button",{onClick:()=>t(s.path),className:k("flex flex-col items-center gap-1 py-1 px-3 rounded-2xl transition-all duration-300",a&&"bg-[var(--color-brand)]/20"),children:[u.jsx(o,{className:k(R.lg,"transition-colors duration-300",a?"text-[var(--color-brand)]":"text-[var(--color-text-tertiary)]"),strokeWidth:a?2.5:2}),u.jsx("span",{className:k("text-[10px] font-medium tracking-wide transition-colors duration-300",a?"text-[var(--color-brand)]":"text-[var(--color-text-tertiary)]"),children:s.label})]},s.path)})}),u.jsx("div",{className:"h-[env(safe-area-inset-bottom)] bg-[var(--color-bg-card)]/90"})]})]})}const RE={xs:{container:"w-8 h-8",text:"text-xs"},sm:{container:"w-10 h-10",text:"text-sm"},md:{container:"w-11 h-11",text:"text-base"},lg:{container:"w-14 h-14",text:"text-lg"},xl:{container:"w-20 h-20",text:"text-2xl"},"2xl":{container:"w-28 h-28",text:"text-3xl"}},OE={circle:"rounded-full",rounded:"rounded-xl"};function Ws({src:e,name:t,size:r="md",shape:n="rounded",className:s,alt:i}){const a=bi(t),o=RE[r],l=OE[n];return u.jsx("div",{className:k("overflow-hidden flex-shrink-0",o.container,l,s),children:e?u.jsx("img",{src:e,alt:i||t||"Avatar",className:"w-full h-full object-cover"}):u.jsx("div",{className:k("w-full h-full flex items-center justify-center bg-gradient-to-br",a),children:u.jsx("span",{className:k("font-semibold text-white/90",o.text),children:uh(t||"?")})})})}const AE={sm:"w-9 h-9 rounded-xl",md:"w-10 h-10 rounded-xl",lg:"w-11 h-11 rounded-2xl"},IE={brand:"bg-[var(--color-brand)]/20 text-[var(--color-brand)]",brandLight:"bg-[var(--color-brand)]/10 text-[var(--color-brand)]",muted:"bg-[var(--color-bg)] text-[var(--color-text-secondary)]",accent:"bg-[var(--color-accent-hot)]/10 text-[var(--color-accent-hot)]"};function Fa({children:e,size:t="md",variant:r="brand",className:n,onClick:s,"aria-label":i,"aria-pressed":a}){const o=s?"button":"div";return u.jsx(o,{onClick:s,"aria-label":i,"aria-pressed":a,className:k("flex items-center justify-center flex-shrink-0",AE[t],IE[r],s&&"transition-colors",n),children:e})}function Mn({icon:e,className:t,...r}){return u.jsxs("div",{className:"relative",children:[e&&u.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[var(--color-text-tertiary)]",children:e}),u.jsx("input",{className:k(Su.base,e?Su.withIcon:Su.standard,t),...r})]})}function Rl({icon:e,iconVariant:t="brand",rawIcon:r=!1,title:n,titleElement:s,subtitle:i,subtitleElement:a,rightElement:o,showChevron:l=!1,isLast:c=!1,onClick:d,as:f="button",className:p}){const h=f;return u.jsxs(h,{onClick:d,className:k("w-full flex items-center p-4 gap-4 text-left",d&&"hover:bg-white/[0.02] active:bg-white/[0.04] transition-colors cursor-pointer",!c&&"border-b border-white/[0.06]",p),children:[r?e:u.jsx(Fa,{variant:t,children:e}),u.jsxs("div",{className:"flex-1 min-w-0",children:[s||u.jsx("span",{className:"text-headline-sm block truncate",children:n}),a||i&&u.jsx("span",{className:"text-caption text-xs truncate block",children:i})]}),o,l&&u.jsx(hE,{className:k(R.md,"text-[var(--color-text-tertiary)] flex-shrink-0")})]})}function Ol({title:e,subtitle:t,rightElement:r,children:n,className:s}){return u.jsxs("header",{className:k("px-5 pt-13 pb-5",s),children:[u.jsxs("div",{className:"flex items-center justify-between mb-5",children:[u.jsxs("div",{children:[t&&u.jsx("span",{className:"text-caption text-xs block",children:t}),u.jsx("h1",{className:"text-headline-lg",children:e})]}),r]}),n]})}function tr({className:e,size:t="md"}){const r={sm:"w-4 h-4 border-2",md:"w-6 h-6 border-2",lg:"w-8 h-8 border-3"};return u.jsx("div",{className:k("rounded-full border-[var(--color-brand)] border-t-transparent animate-spin",r[t],e)})}function mo({value:e,label:t,icon:r}){return u.jsxs("div",{className:k("bg-[var(--color-bg)] p-4",U.card),children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("span",{className:"text-display-md text-[var(--color-text-primary)]",children:e}),u.jsx(Fa,{size:"sm",variant:"brand",children:u.jsx(r,{className:R.sm})})]}),u.jsx("span",{className:"text-caption",children:t})]})}function $E(){const[e,t]=E.useState(""),[r,n]=E.useState(""),[s,i]=E.useState(!1),a=Dt(l=>l.login),o=async l=>{if(l.preventDefault(),!e||!r){Me.error("Wypenij wszystkie pola");return}i(!0);const c=await a(e,r);i(!1),c.success||Me.error(c.error||"Bd logowania")};return u.jsxs("form",{onSubmit:o,children:[u.jsx("h2",{className:"text-headline-lg text-center mb-5",children:"Zaloguj si"}),u.jsxs("div",{className:`${ci.stack} mb-5`,children:[u.jsx(Mn,{type:"email",value:e,onChange:l=>t(l.target.value),placeholder:"Email",disabled:s,icon:u.jsx(hh,{className:R.md})}),u.jsx(Mn,{type:"password",value:r,onChange:l=>n(l.target.value),placeholder:"Haso",disabled:s,icon:u.jsx(Gc,{className:R.md})})]}),u.jsxs("div",{className:ci.stack,children:[u.jsx("button",{type:"submit",disabled:s,className:di.primary,children:s?u.jsx(tr,{size:"sm",className:"border-white border-t-transparent"}):"Zaloguj si"}),u.jsx("div",{className:"text-center",children:u.jsx(ya,{to:"/forgot-password",className:"text-body-sm text-[var(--color-brand)] hover:underline",children:"Zapomniae hasa?"})}),u.jsxs("div",{className:"text-center text-caption",children:[u.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Nie masz konta? "}),u.jsx(ya,{to:"/register",className:"text-[var(--color-brand)] font-medium hover:underline",children:"Zarejestruj si"})]})]})]})}function LE(){const[e,t]=E.useState(""),[r,n]=E.useState(""),[s,i]=E.useState(""),[a,o]=E.useState(""),[l,c]=E.useState(!1),d=Dt(h=>h.register),f=rr(),p=async h=>{if(h.preventDefault(),!e||!r||!s||!a){Me.error("Wypenij wszystkie pola");return}if(s!==a){Me.error("Hasa nie s identyczne");return}if(s.length<6){Me.error("Haso musi mie minimum 6 znakw");return}c(!0);const w=await d(r,s,e);c(!1),w.success?(Me.success("Konto utworzone! Sprawd email aby potwierdzi."),f("/login")):Me.error(w.error||"Bd rejestracji")};return u.jsxs("form",{onSubmit:p,children:[u.jsx("h2",{className:"text-headline-lg text-center mb-5",children:"Utwrz konto"}),u.jsxs("div",{className:`${ci.stack} mb-5`,children:[u.jsx(Mn,{type:"text",value:e,onChange:h=>t(h.target.value),placeholder:"Imi",disabled:l,icon:u.jsx(Na,{className:R.md})}),u.jsx(Mn,{type:"email",value:r,onChange:h=>n(h.target.value),placeholder:"Email",disabled:l,icon:u.jsx(hh,{className:R.md})}),u.jsx(Mn,{type:"password",value:s,onChange:h=>i(h.target.value),placeholder:"Haso",disabled:l,icon:u.jsx(Gc,{className:R.md})}),u.jsx(Mn,{type:"password",value:a,onChange:h=>o(h.target.value),placeholder:"Potwierd haso",disabled:l,icon:u.jsx(Gc,{className:R.md})})]}),u.jsxs("div",{className:ci.stack,children:[u.jsx("button",{type:"submit",disabled:l,className:di.primary,children:l?u.jsx(tr,{size:"sm",className:"border-white border-t-transparent"}):"Zarejestruj si"}),u.jsxs("div",{className:"text-center text-caption",children:[u.jsx("span",{className:"text-[var(--color-text-secondary)]",children:"Masz ju konto? "}),u.jsx(ya,{to:"/login",className:"text-[var(--color-brand)] font-medium hover:underline",children:"Zaloguj si"})]})]})]})}function DE(){const[e,t]=E.useState(""),[r,n]=E.useState(!1),[s,i]=E.useState(!1),a=Dt(l=>l.forgotPassword),o=async l=>{if(l.preventDefault(),!e){Me.error("Podaj adres email");return}n(!0);const c=await a(e);n(!1),c.success?(i(!0),Me.success("Link do resetowania hasa zosta wysany")):Me.error(c.error||"Wystpi bd")};return s?u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:k(Bs.container,Bs.success),children:u.jsx(fE,{className:k(R.xl,"text-[var(--color-accent-mint)]")})}),u.jsx("h2",{className:"text-headline-lg mb-2",children:"Sprawd email"}),u.jsxs("p",{className:"text-caption mb-5",children:["Wysalimy link do resetowania hasa na adres ",e]}),u.jsx(ya,{to:"/login",children:u.jsx("button",{className:di.primary,children:"Wr do logowania"})})]}):u.jsxs("form",{onSubmit:o,children:[u.jsx("h2",{className:"text-headline-lg text-center mb-2",children:"Resetuj haso"}),u.jsx("p",{className:"text-caption text-center mb-5",children:"Podaj email, a wylemy Ci link do resetowania hasa"}),u.jsx("div",{className:`${ci.stack} mb-5`,children:u.jsx(Mn,{type:"email",value:e,onChange:l=>t(l.target.value),placeholder:"Email",disabled:r,icon:u.jsx(hh,{className:R.md})})}),u.jsxs("div",{className:ci.stack,children:[u.jsx("button",{type:"submit",disabled:r,className:di.primary,children:r?u.jsx(tr,{size:"sm",className:"border-white border-t-transparent"}):"Wylij link"}),u.jsxs(ya,{to:"/login",className:"w-full py-3 text-[var(--color-brand)] text-body-sm font-medium flex items-center justify-center gap-2",children:[u.jsx(ss,{className:R.sm}),"Wr do logowania"]})]})]})}function UE({dancer:e,onPress:t}){const r=bi(e.name);return u.jsx("button",{onClick:t,"aria-label":`Zobacz profil ${e.name}`,className:k(ll.base,ll.dancer),children:u.jsxs("div",{className:k("relative aspect-[4/5] overflow-hidden p-4 flex flex-col items-center justify-center",U.card,`bg-gradient-to-br ${r}`),children:[u.jsx("div",{className:k("w-24 h-24 mb-4 overflow-hidden shadow-lg",U.circle),children:e.profile_photo_url?u.jsx("img",{src:e.profile_photo_url,alt:`Zdjecie profilowe ${e.name}`,className:"w-full h-full object-cover"}):u.jsx("div",{className:"w-full h-full bg-black/20 flex items-center justify-center",children:u.jsx("span",{className:"text-3xl font-bold text-white/60 select-none","aria-hidden":"true",children:uh(e.name||"?")})})}),u.jsx("h3",{className:"text-display-md text-white text-center leading-tight truncate w-full px-2",children:e.name}),u.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[u.jsx(TE,{className:k(R.xs,"text-white/70")}),u.jsx("span",{className:"text-xs text-white/70",children:e.city||"10.3M"})]})]})})}function ME({dancer:e,onPress:t,onLike:r,isLast:n}){var l;const s=u.jsxs("div",{className:"relative flex-shrink-0",children:[u.jsx(Ws,{src:e.profile_photo_url,name:e.name,size:ey.listRow,shape:"rounded",alt:`Zdjecie profilowe ${e.name}`}),e.is_matched&&u.jsx("div",{className:k("absolute -bottom-0.5 -right-0.5 border-2 border-white flex items-center justify-center bg-[var(--color-accent-mint)]",_t.indicator),children:u.jsx(iy,{className:R.xxs,style:{color:"white"}})}),!e.is_matched&&e.liked_me&&u.jsx("div",{className:k("absolute -bottom-0.5 -right-0.5 border-2 border-white flex items-center justify-center bg-[var(--color-accent-hot)]",_t.indicator),children:u.jsx(Ca,{className:k(R.xxs,"text-white fill-current")})})]}),i=u.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[u.jsx("span",{className:"text-headline-sm truncate",children:e.name}),e.is_verified&&u.jsx(dh,{className:k(R.sm,"text-blue-500 flex-shrink-0")}),e.is_trainer&&u.jsx(za,{className:k(R.sm,"text-[var(--color-brand)] flex-shrink-0")})]}),a=u.jsxs("div",{className:"flex items-center gap-2 text-caption text-xs",children:[((l=e.dance_styles)==null?void 0:l[0])&&u.jsx("span",{className:"text-[var(--color-brand)] font-medium",children:e.dance_styles[0].style_name}),e.age&&u.jsxs("span",{children:[" ",e.age]}),e.city&&u.jsxs("span",{className:"flex items-center gap-1 truncate",children:[" ",u.jsx(wn,{className:R.xxs}),e.city]})]}),o=u.jsx(Fa,{size:"sm",variant:e.i_liked?"accent":"muted",className:"cursor-pointer",onClick:r,"aria-label":e.i_liked?`Cofnij polubienie ${e.name}`:`Polub ${e.name}`,"aria-pressed":e.i_liked,children:u.jsx(Ca,{className:k(R.sm,e.i_liked&&"fill-current")})});return u.jsx(Rl,{icon:s,rawIcon:!0,title:e.name,titleElement:i,subtitleElement:a,rightElement:o,onClick:t,isLast:n,as:"div"})}const ze={all:["dancers"],lists:()=>[...ze.all,"list"],list:e=>[...ze.lists(),e],details:()=>[...ze.all,"detail"],detail:e=>[...ze.details(),e]};async function zE(e){const{page:t=1,pageSize:r=12,search:n,city:s}=e;let i=K.from("v_public_dancers").select("*",{count:"exact"});n&&(i=i.ilike("name",`%${n}%`)),s&&(i=i.eq("city",s));const a=(t-1)*r,o=a+r-1,{data:l,error:c,count:d}=await i.order("created_at",{ascending:!1}).range(a,o);if(c)throw c;return{data:l||[],count:d||0}}async function FE(e){const{data:t,error:r}=await K.from("v_public_dancers").select("*").eq("id",e).single();if(r)throw r;return t}async function BE(e){const{data:{user:t}}=await K.auth.getUser();if(!t)throw new Error("Not authenticated");const{error:r}=await K.from("likes").insert({from_user_id:t.id,to_user_id:e});if(r)throw r}async function WE(e){const{data:{user:t}}=await K.auth.getUser();if(!t)throw new Error("Not authenticated");const{error:r}=await K.from("likes").delete().eq("from_user_id",t.id).eq("to_user_id",e);if(r)throw r}function qE(e={}){return Sn({queryKey:ze.list(e),queryFn:()=>zE(e)})}function HE(e){return Sn({queryKey:ze.detail(e),queryFn:()=>FE(e),enabled:!!e})}function oy(){const e=Ut();return Rr({mutationFn:BE,onMutate:async t=>(await e.cancelQueries({queryKey:ze.lists()}),e.setQueriesData({queryKey:ze.lists()},r=>r&&{...r,data:r.data.map(n=>n.id===t?{...n,i_liked:!0}:n)}),e.setQueryData(ze.detail(t),r=>r&&{...r,i_liked:!0}),{targetUserId:t}),onError:(t,r)=>{e.invalidateQueries({queryKey:ze.lists()}),e.invalidateQueries({queryKey:ze.detail(r)})},onSettled:()=>{e.invalidateQueries({queryKey:ze.lists()})}})}function ly(){const e=Ut();return Rr({mutationFn:WE,onMutate:async t=>(await e.cancelQueries({queryKey:ze.lists()}),e.setQueriesData({queryKey:ze.lists()},r=>r&&{...r,data:r.data.map(n=>n.id===t?{...n,i_liked:!1}:n)}),e.setQueryData(ze.detail(t),r=>r&&{...r,i_liked:!1}),{targetUserId:t}),onError:(t,r)=>{e.invalidateQueries({queryKey:ze.lists()}),e.invalidateQueries({queryKey:ze.detail(r)})},onSettled:()=>{e.invalidateQueries({queryKey:ze.lists()})}})}function VE(){const e=rr(),[t,r]=E.useState(""),[n]=E.useState(1),{data:s,isLoading:i,isError:a}=qE({page:n,pageSize:12,search:t||void 0}),o=oy(),l=ly(),c=(f,p)=>{f.stopPropagation(),p.i_liked?l.mutate(p.id):o.mutate(p.id)},d=(s==null?void 0:s.data)||[];return u.jsxs("div",{children:[u.jsx(Ol,{title:"Tancerze",subtitle:"Odkryj w Twojej okolicy",children:u.jsxs("div",{className:"relative",children:[u.jsx(Jc,{className:k("absolute left-4 top-1/2 -translate-y-1/2 text-[var(--color-text-tertiary)]",R.sm)}),u.jsx("input",{type:"text",value:t,onChange:f=>r(f.target.value),placeholder:"Szukaj...",className:k("input-premium w-full pl-11 pr-12 py-3 text-sm",U.input)}),u.jsx("button",{"aria-label":"Filtry wyszukiwania",className:k("absolute right-2 top-1/2 -translate-y-1/2 bg-[var(--color-brand)] flex items-center justify-center",ke.sm),children:u.jsx(SE,{className:k(R.xs,"text-white")})})]})}),d.length>0&&u.jsxs("section",{className:ge.section,children:[u.jsxs("div",{className:k("flex items-center justify-between",ge.sectionHeadingMargin),children:[u.jsx("h2",{className:"text-headline-sm",children:"Wyroznienie"}),u.jsx("span",{className:"text-caption text-xs",children:(s==null?void 0:s.count)||0})]}),u.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-5 px-5 scrollbar-hide",children:d.slice(0,5).map(f=>u.jsx(UE,{dancer:f,onPress:()=>e(`/dancers/${f.id}`)},f.id))})]}),u.jsxs("section",{className:ge.sectionLast,children:[u.jsx("h2",{className:k("text-headline-sm",ge.sectionHeadingMargin),children:"W poblizu"}),i?u.jsx("div",{className:"flex items-center justify-center py-16",children:u.jsx(tr,{size:"lg"})}):a?u.jsx("div",{className:k("card-premium p-8 text-center",U.card),children:u.jsx("p",{className:"text-body-sm text-red-500",children:"Blad"})}):d.length===0?u.jsxs("div",{className:k("card-premium p-8 text-center",U.card),children:[u.jsx(Jc,{className:k(R.xl,"text-[var(--color-text-tertiary)] mx-auto mb-3")}),u.jsx("h3",{className:"text-headline-sm mb-1",children:"Brak"}),u.jsx("p",{className:"text-caption",children:t?"Nie znaleziono":"Brak w poblizu"})]}):u.jsx("div",{className:k("card-premium overflow-hidden",U.card),children:d.slice(4).map((f,p)=>u.jsx(ME,{dancer:f,onPress:()=>e(`/dancers/${f.id}`),onLike:h=>c(h,f),isLast:p===d.slice(4).length-1},f.id))})]})]})}const wt={all:["chat"],conversations:()=>[...wt.all,"conversations"],messages:e=>[...wt.all,"messages",e]};async function KE(){const{data:{user:e}}=await K.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await K.rpc("get_my_conversations");if(r)throw r;return!t||t.length===0?[]:t.map(n=>({id:n.conversation_id,last_message_at:n.last_message_time,last_message_preview:n.last_message,last_message:n.last_message,other_user:{id:n.other_user_id||"",name:n.other_user_name||"Nieznany",profile_photo_url:n.other_user_photo,is_active:!1,last_seen_at:void 0},unread_count:n.my_unread_count||0,current_user_id:e.id}))}async function QE(e){const{data:t,error:r}=await K.from("messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!0});if(r)throw r;return t||[]}async function GE({conversationId:e,content:t}){const{data:{user:r}}=await K.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:s}=await K.from("messages").insert({conversation_id:e,sender_id:r.id,content:t}).select().single();if(s)throw s;return n}async function JE(e){const{error:t}=await K.rpc("mark_conversation_read",{p_conversation_id:e});if(t)throw t}async function YE(e){const{data:{user:t}}=await K.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r}=await K.rpc("get_my_conversations"),n=r==null?void 0:r.find(o=>o.other_user_id===e);if(n)return n.conversation_id;const{data:s,error:i}=await K.from("conversations").insert({}).select("id").single();if(i)throw i;const{error:a}=await K.from("conversation_participants").insert([{conversation_id:s.id,user_id:t.id},{conversation_id:s.id,user_id:e}]);if(a)throw a;return s.id}function ZE(){return Sn({queryKey:wt.conversations(),queryFn:KE,refetchInterval:3e4})}function XE(e){const t=Ut();return E.useEffect(()=>{if(!e)return;const r=K.channel(`messages:${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${e}`},n=>{t.setQueryData(wt.messages(e),s=>s?s.some(i=>i.id===n.new.id)?s:[...s,n.new]:[n.new])}).subscribe();return()=>{K.removeChannel(r)}},[e,t]),Sn({queryKey:wt.messages(e),queryFn:()=>QE(e),enabled:!!e})}function ej(){const e=Ut();return Rr({mutationFn:GE,onMutate:async({conversationId:t,content:r})=>{await e.cancelQueries({queryKey:wt.messages(t)});const{data:{user:n}}=await K.auth.getUser();if(!n)return;const s={id:`temp-${Date.now()}`,conversation_id:t,sender_id:n.id,content:r,created_at:new Date().toISOString()};return e.setQueryData(wt.messages(t),i=>i?[...i,s]:[s]),e.setQueryData(wt.conversations(),i=>i&&i.map(a=>a.id===t?{...a,last_message_preview:r,last_message:r,last_message_at:new Date().toISOString()}:a)),{conversationId:t,optimisticMessage:s}},onError:(t,{conversationId:r},n)=>{n!=null&&n.optimisticMessage&&e.setQueryData(wt.messages(r),s=>s?s.filter(i=>i.id!==n.optimisticMessage.id):[])},onSettled:(t,r,{conversationId:n})=>{e.invalidateQueries({queryKey:wt.conversations()}),e.invalidateQueries({queryKey:wt.messages(n)})}})}function tj(){const e=Ut();return Rr({mutationFn:JE,onSuccess:(t,r)=>{e.setQueryData(wt.conversations(),n=>n&&n.map(s=>s.id===r?{...s,unread_count:0}:s))}})}function rj(){const e=Ut();return Rr({mutationFn:YE,onSuccess:()=>{e.invalidateQueries({queryKey:wt.conversations()})}})}function nj(){const{id:e}=Zd(),t=rr(),{data:r,isLoading:n,isError:s}=HE(e),i=oy(),a=ly(),o=rj(),l=()=>{r&&(r.i_liked?a.mutate(r.id):i.mutate(r.id))},c=()=>{r&&o.mutate(r.id,{onSuccess:f=>{t(`/chat/${f}`)}})};if(n)return u.jsx("div",{className:"flex items-center justify-center py-20",children:u.jsx(tr,{size:"lg"})});if(s||!r)return u.jsxs("div",{className:"px-5 pt-13",children:[u.jsx("button",{onClick:()=>t(-1),"aria-label":"Wroc",className:k(ke.md,"bg-[var(--color-bg-card)] shadow-sm flex items-center justify-center mb-5",U.avatarRounded),children:u.jsx(ss,{className:R.md})}),u.jsxs("div",{className:k("card-premium p-8 text-center",U.card),children:[u.jsx("span",{className:"text-4xl mb-3 block",children:""}),u.jsx("h2",{className:"text-headline-md mb-1",children:"Nie znaleziono"}),u.jsx("p",{className:"text-caption mb-4",children:"Ten profil nie istnieje"}),u.jsx("button",{onClick:()=>t("/dancers"),className:k("px-5 py-3 bg-[var(--color-brand)] text-white text-ui",U.button),children:"Wroc"})]})]});const d=bi(r.name);return u.jsxs("div",{className:"pb-36",children:[u.jsxs("div",{className:"relative h-[75vh] min-h-[480px] max-h-[640px]",children:[r.profile_photo_url?u.jsx("img",{src:r.profile_photo_url,alt:`Zdjecie profilowe ${r.name}`,className:"absolute inset-0 w-full h-full object-cover"}):u.jsx("div",{className:k("absolute inset-0",`bg-gradient-to-br ${d}`),children:u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("span",{className:"text-[10rem] font-bold text-white/10 select-none tracking-tighter","aria-hidden":"true",children:uh(r.name||"?")})})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-black/10"}),u.jsxs("div",{className:"absolute top-0 left-0 right-0 pt-13 px-5 flex justify-between items-start",children:[u.jsx("button",{onClick:()=>t(-1),"aria-label":"Wroc",className:k(ke.md,"bg-black/20 backdrop-blur-md flex items-center justify-center",U.avatarRounded),children:u.jsx(ss,{className:k(R.md,"text-white")})}),u.jsxs("div",{className:k("flex flex-col",Se.sm),children:[r.is_matched&&u.jsxs("div",{className:k(_t.standard,"bg-[var(--color-accent-mint)] flex items-center gap-1"),children:[u.jsx(iy,{className:k(R.xs,"text-white")}),u.jsx("span",{className:"text-white tracking-wider",children:"MATCH"})]}),!r.is_matched&&r.liked_me&&u.jsxs("div",{className:k(_t.standard,"bg-[var(--color-accent-hot)] flex items-center gap-1"),children:[u.jsx(Ca,{className:k(R.xs,"text-white fill-current")}),u.jsx("span",{className:"text-white tracking-wider",children:"LUBI CIE"})]}),r.is_trainer&&u.jsx("div",{className:k(_t.icon,"bg-[var(--color-brand)]"),children:u.jsx(mE,{className:k(R.xs,"text-white")})}),r.is_verified&&u.jsx("div",{className:k(_t.icon,"bg-blue-500"),children:u.jsx(dh,{className:k(R.xs,"text-white")})})]})]}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5",children:[u.jsxs("h1",{className:"text-display-lg text-white tracking-tight",children:[r.name,r.age&&u.jsx("span",{className:"font-normal text-white/60 ml-2",children:r.age})]}),u.jsxs("div",{className:k("flex items-center mt-1",Se.md),children:[r.city&&u.jsxs("span",{className:k("flex items-center text-white/60 text-sm",Se.xs),children:[u.jsx(wn,{className:R.xs}),r.city]}),r.height&&u.jsxs("span",{className:k("flex items-center text-white/60 text-sm",Se.xs),children:[u.jsx(sy,{className:R.xs}),r.height,"cm"]})]})]})]}),u.jsxs("div",{className:ge.section,children:[r.bio&&u.jsx("p",{className:"text-[15px] text-[var(--color-text-secondary)] leading-relaxed py-3",children:r.bio}),r.dance_styles&&r.dance_styles.length>0&&u.jsx("div",{className:k("card-premium overflow-hidden mt-5",U.card),children:r.dance_styles.map((f,p)=>u.jsxs("div",{className:k("flex items-center",Ce.padding,p!==r.dance_styles.length-1&&Ce.border),children:[u.jsx("div",{className:k(ke.sm,"bg-[var(--color-brand)]/20 flex items-center justify-center"),children:u.jsx(hi,{className:k(R.sm,"text-[var(--color-brand)]")})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("span",{className:"text-headline-sm block truncate",children:f.style_name}),u.jsx("span",{className:"text-caption text-xs",children:ol(f.skill_level)})]}),f.is_teaching&&u.jsx("div",{className:k(_t.inline,"bg-[var(--color-brand)]/20 text-[var(--color-brand)]"),children:"UCZY"})]},p))})]}),u.jsx("div",{className:ge.floatingAction,children:u.jsxs("div",{className:k("flex max-w-md mx-auto",Se.md),role:"group","aria-label":"Akcje profilu",children:[u.jsxs("button",{onClick:l,disabled:i.isPending||a.isPending,"aria-label":r.i_liked?"Cofnij polubienie":"Polub","aria-pressed":r.i_liked,className:k("flex-1 flex items-center justify-center py-4 font-semibold shadow-lg transition-all",Se.sm,U.button,r.i_liked?"bg-[var(--color-accent-hot)] text-white":"bg-[var(--color-bg-card)] text-[var(--color-text-primary)]"),children:[u.jsx(Ca,{className:k(R.md,r.i_liked&&"fill-current")}),u.jsx("span",{className:"text-sm",children:r.i_liked?"Lubisz":"Polub"})]}),u.jsxs("button",{disabled:!r.is_matched||o.isPending,onClick:c,"aria-label":r.is_matched?"Napisz wiadomosc":"Najpierw musisz sie dopasowac",className:k("flex-1 flex items-center justify-center py-4 font-semibold shadow-lg transition-all",Se.sm,U.button,r.is_matched?"bg-[var(--color-brand)] text-white":"bg-[var(--color-bg-subtle)] text-[var(--color-text-tertiary)]"),children:[u.jsx(ul,{className:R.md}),u.jsx("span",{className:"text-sm",children:o.isPending?"Otwieranie...":r.is_matched?"Napisz":"Dopasuj"})]})]})})]})}function sj({event:e,onPress:t}){const r=new Date(e.start_at),n=bi(e.title);return u.jsx("button",{onClick:t,"aria-label":`Zobacz wydarzenie: ${e.title}`,className:k(ll.base,ll.event),children:u.jsxs("div",{className:k("relative aspect-[4/5] overflow-hidden shadow-md",U.card,`bg-gradient-to-br ${n}`),children:[u.jsxs("div",{className:k("absolute top-2 left-2 bg-[var(--color-bg-card)]/95 px-3 py-2 shadow-sm",U.pill),children:[u.jsx("span",{className:"text-xl font-bold text-[var(--color-text-primary)] leading-none block",children:r.getDate()}),u.jsx("span",{className:"text-[8px] font-bold text-[var(--color-brand)] uppercase",children:r.toLocaleDateString("pl-PL",{month:"short"})})]}),e.price===0&&u.jsx("div",{className:k("absolute top-2 right-2",_t.icon,"bg-[var(--color-accent-mint)]"),children:u.jsx(fh,{className:k(R.xs,"text-white")})}),u.jsx("div",{className:"absolute inset-x-0 bottom-0 h-2/3 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),u.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-3",children:[u.jsx("span",{className:"text-[9px] font-semibold text-white/60 uppercase tracking-wider",children:ch(e.event_type)}),u.jsx("h3",{className:"text-white font-semibold text-sm leading-tight mt-0.5 line-clamp-2",children:e.title}),e.city&&u.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[u.jsx(wn,{className:k(R.xxs,"text-white/50")}),u.jsx("span",{className:"text-[10px] text-white/60",children:e.city})]})]})]})})}function ij({event:e,onPress:t,isLast:r}){const n=new Date(e.start_at),s=n<new Date,i=bi(e.title),a=u.jsx(Fa,{className:k("!bg-transparent",`bg-gradient-to-br ${i}`),children:u.jsxs("div",{className:"flex flex-col items-center justify-center",children:[u.jsx("span",{className:"text-lg font-bold text-white leading-none",children:n.getDate()}),u.jsx("span",{className:"text-[8px] font-bold text-white/70 uppercase",children:n.toLocaleDateString("pl-PL",{month:"short"})})]})}),o=u.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[u.jsx("span",{className:"text-headline-sm truncate",children:e.title}),e.price===0&&u.jsx("span",{className:k(_t.inline,"bg-[var(--color-accent-mint)]/10 text-[var(--color-accent-mint)]"),children:"FREE"})]}),l=u.jsxs("div",{className:"flex items-center gap-2 text-caption text-xs",children:[u.jsx("span",{className:"text-[var(--color-brand)] font-medium",children:ch(e.event_type)}),u.jsxs("span",{children:[" ",To(e.start_at)]}),e.city&&u.jsxs("span",{className:"flex items-center gap-1 truncate",children:[" ",u.jsx(wn,{className:R.xxs}),e.city]})]});return u.jsx(Rl,{icon:a,rawIcon:!0,title:e.title,titleElement:o,subtitleElement:l,showChevron:!0,onClick:t,isLast:r,className:s?"opacity-50":void 0})}function $i({icon:e,label:t,value:r,accent:n,isLast:s}){return u.jsxs("div",{className:k("flex items-center",Ce.padding,!s&&Ce.border),children:[u.jsx(Fa,{size:"md",variant:n?"accent":"brandLight",children:e}),u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"text-caption text-[10px] uppercase tracking-wider",children:t}),u.jsx("span",{className:"text-headline-sm block",children:r})]})]})}const sn={all:["events"],lists:()=>[...sn.all,"list"],list:e=>[...sn.lists(),e],details:()=>[...sn.all,"detail"],detail:e=>[...sn.details(),e],danceStyles:["dance-styles"]};async function aj(e){const{page:t=1,pageSize:r=12,search:n,eventType:s,status:i="published"}=e;let a=K.from("v_events_with_counts").select("*",{count:"exact"});i&&i!=="all"&&(a=a.eq("status",i)),s&&s!=="all"&&(a=a.eq("event_type",s)),n&&(a=a.ilike("title",`%${n}%`));const o=(t-1)*r,l=o+r-1,{data:c,error:d,count:f}=await a.order("start_at",{ascending:!0}).range(o,l);if(d)throw d;return{data:c||[],count:f||0}}async function oj(e){const{data:t,error:r}=await K.from("v_events_with_counts").select("*").eq("id",e).single();if(r)throw r;return t}async function lj(e){const{data:{user:t}}=await K.auth.getUser();if(!t)throw new Error("Not authenticated");const{error:r}=await K.from("event_participants").insert({event_id:e,user_id:t.id,status:"registered"});if(r)throw r}function uj(e={}){return Sn({queryKey:sn.list(e),queryFn:()=>aj(e)})}function cj(e){return Sn({queryKey:sn.detail(e),queryFn:()=>oj(e),enabled:!!e})}function dj(){const e=Ut();return Rr({mutationFn:lj,onSuccess:(t,r)=>{e.invalidateQueries({queryKey:sn.detail(r)}),e.invalidateQueries({queryKey:sn.lists()})}})}const hj=[{value:"all",label:"Wszystkie",icon:gn},{value:"lesson",label:"Lekcje",icon:ry},{value:"workshop",label:"Warsztaty",icon:za},{value:"social",label:"Social",icon:ny}];function fj(){const e=rr(),[t,r]=E.useState(""),[n,s]=E.useState("all"),{data:i,isLoading:a,isError:o}=uj({search:t||void 0,eventType:n!=="all"?n:void 0,status:"published"}),l=(i==null?void 0:i.data)||[];return u.jsxs("div",{children:[u.jsxs(Ol,{title:"Wydarzenia",subtitle:"Odkryj w Twojej okolicy",children:[u.jsxs("div",{className:k("relative",ge.sectionHeadingMargin),children:[u.jsx(Jc,{className:k("absolute left-4 top-1/2 -translate-y-1/2 text-[var(--color-text-tertiary)]",R.sm)}),u.jsx("input",{type:"text",value:t,onChange:c=>r(c.target.value),placeholder:"Szukaj...",className:k("input-premium w-full pl-11 py-3 text-sm",U.input)})]}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 -mx-5 px-5 scrollbar-hide",children:hj.map(c=>{const d=c.icon,f=n===c.value;return u.jsxs("button",{onClick:()=>s(c.value),"aria-pressed":f,className:k("flex items-center gap-2 px-3 py-2 text-xs font-medium whitespace-nowrap transition-all",U.pill,f?"bg-[var(--color-brand)] text-white":"bg-[var(--color-bg-card)] text-[var(--color-text-secondary)] border border-white/[0.06]"),children:[u.jsx(d,{className:R.xs}),c.label]},c.value)})})]}),l.length>0&&u.jsxs("section",{className:ge.section,children:[u.jsx("div",{className:k("flex items-center justify-between",ge.sectionHeadingMargin),children:u.jsx("h2",{className:"text-headline-sm",children:"Polecane"})}),u.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-5 px-5 scrollbar-hide",children:l.slice(0,4).map(c=>u.jsx(sj,{event:c,onPress:()=>e(`/events/${c.id}`)},c.id))})]}),u.jsxs("section",{className:ge.sectionLast,children:[u.jsxs("div",{className:k("flex items-center justify-between",ge.sectionHeadingMargin),children:[u.jsx("h2",{className:"text-headline-sm",children:"Nadchodzace"}),u.jsx("span",{className:"text-caption text-xs",children:(i==null?void 0:i.count)||0})]}),a?u.jsx("div",{className:"flex items-center justify-center py-16",children:u.jsx(tr,{size:"lg"})}):o?u.jsx("div",{className:k("card-premium p-8 text-center",U.card),children:u.jsx("p",{className:"text-body-sm text-red-500",children:"Blad"})}):l.length===0?u.jsxs("div",{className:k("card-premium p-8 text-center",U.card),children:[u.jsx(gn,{className:k(R.xl,"text-[var(--color-text-tertiary)] mx-auto mb-3")}),u.jsx("h3",{className:"text-headline-sm mb-1",children:"Brak"}),u.jsx("p",{className:"text-caption",children:t||n!=="all"?"Nie znaleziono":"Brak wydarzen"})]}):u.jsx("div",{className:k("card-premium overflow-hidden",U.card),children:l.slice(3).map((c,d)=>u.jsx(ij,{event:c,onPress:()=>e(`/events/${c.id}`),isLast:d===l.slice(3).length-1},c.id))})]})]})}const Rp={lesson:u.jsx(ry,{className:R.md}),workshop:u.jsx(za,{className:R.md}),social:u.jsx(ny,{className:R.md}),competition:u.jsx(jE,{className:R.md}),performance:u.jsx(xE,{className:R.md})};function pj(){const{id:e}=Zd(),t=rr(),{data:r,isLoading:n,isError:s}=cj(e),i=dj(),a=()=>{r&&i.mutate(r.id,{onSuccess:()=>Me.success("Zapisano!"),onError:()=>Me.error("Nie udalo sie zapisac")})};if(n)return u.jsx("div",{className:"flex items-center justify-center py-20",children:u.jsx(tr,{size:"lg"})});if(s||!r)return u.jsxs("div",{className:"px-5 pt-13",children:[u.jsx("button",{onClick:()=>t(-1),"aria-label":"Wroc",className:k(ke.md,"bg-[var(--color-bg-card)] shadow-sm flex items-center justify-center mb-5",U.avatarRounded),children:u.jsx(ss,{className:R.md})}),u.jsxs("div",{className:k("card-premium p-8 text-center",U.card),children:[u.jsx("span",{className:"text-4xl mb-3 block",children:""}),u.jsx("h2",{className:"text-headline-md mb-1",children:"Nie znaleziono"}),u.jsx("p",{className:"text-caption mb-4",children:"To wydarzenie nie istnieje"}),u.jsx("button",{onClick:()=>t("/events"),className:k("px-5 py-3 bg-[var(--color-brand)] text-white text-ui",U.button),children:"Wroc"})]})]});const o=new Date(r.start_at),l=o<new Date,c=r.max_participants?r.participant_count>=r.max_participants:!1,d=bi(r.title);return u.jsxs("div",{className:"pb-36",children:[u.jsxs("div",{className:"relative h-[50vh] min-h-[320px] max-h-[400px]",children:[u.jsx("div",{className:k("absolute inset-0",`bg-gradient-to-br ${d}`),children:u.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white/10",children:u.jsx("div",{className:"scale-[3]",children:Rp[r.event_type]||u.jsx(gn,{className:R.md})})})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-black/10"}),u.jsxs("div",{className:"absolute top-0 left-0 right-0 pt-13 px-5 flex justify-between items-start",children:[u.jsx("button",{onClick:()=>t(-1),"aria-label":"Wroc",className:k(ke.md,"bg-black/20 backdrop-blur-md flex items-center justify-center",U.avatarRounded),children:u.jsx(ss,{className:k(R.md,"text-white")})}),u.jsxs("div",{className:Se.sm+" flex",children:[r.price===0&&u.jsxs("div",{className:k(_t.standard,"bg-[var(--color-accent-mint)] flex items-center gap-1"),children:[u.jsx(fh,{className:k(R.xs,"text-white")}),u.jsx("span",{className:"text-white",children:"FREE"})]}),l&&u.jsx("div",{className:k(_t.standard,"bg-black/40 backdrop-blur"),children:u.jsx("span",{className:"text-white/80",children:"ZAKONCZONE"})})]})]}),u.jsxs("div",{className:k("absolute top-20 left-1/2 -translate-x-1/2 bg-[var(--color-bg-card)] px-5 py-3 shadow-xl text-center",U.card),children:[u.jsx("span",{className:"text-3xl font-bold text-[var(--color-text-primary)] leading-none block",children:o.getDate()}),u.jsx("span",{className:"text-[10px] font-bold text-[var(--color-brand)] uppercase",children:o.toLocaleDateString("pl-PL",{month:"short"})})]}),u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5",children:[u.jsx("div",{className:k("flex items-center mb-2",Se.sm),children:u.jsxs("div",{className:k("flex items-center gap-1 px-2 py-1 bg-white/20 backdrop-blur-sm",U.badge),children:[Rp[r.event_type],u.jsx("span",{className:"text-[10px] font-semibold text-white",children:ch(r.event_type)})]})}),u.jsx("h1",{className:"text-2xl font-bold text-white leading-tight tracking-tight",children:r.title}),u.jsxs("div",{className:k("flex items-center mt-2 text-white/60 text-sm",Se.md),children:[u.jsxs("span",{className:k("flex items-center",Se.xs),children:[u.jsx(pE,{className:R.xs}),To(r.start_at)]}),r.city&&u.jsxs("span",{className:k("flex items-center",Se.xs),children:[u.jsx(wn,{className:R.xs}),r.city]})]})]})]}),u.jsxs("div",{className:ge.section,children:[u.jsxs("div",{className:k("card-premium flex items-center",Ce.padding,U.card),children:[u.jsx("div",{className:k(ke.md,"bg-[var(--color-brand)]/20 flex items-center justify-center"),children:u.jsx(gn,{className:k(R.sm,"text-[var(--color-brand)]")})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"text-headline-sm block",children:Xv(r.start_at)}),u.jsxs("span",{className:"text-caption text-xs",children:[To(r.start_at),"  ",To(r.end_at)]})]}),c&&u.jsx("span",{className:k(_t.inline,"bg-red-100 text-red-600"),children:"PELNE"})]}),r.description&&u.jsx("p",{className:"text-[15px] text-[var(--color-text-secondary)] leading-relaxed whitespace-pre-wrap py-3",children:r.description}),u.jsxs("div",{className:k("card-premium flex items-center mt-5",Ce.padding,U.card),children:[u.jsx("div",{className:k(ke.md,"bg-[var(--color-brand)]/20 flex items-center justify-center"),children:r.location_type==="online"?u.jsx(vE,{className:k(R.sm,"text-[var(--color-brand)]")}):u.jsx(wn,{className:k(R.sm,"text-[var(--color-brand)]")})}),u.jsx("div",{className:"flex-1 min-w-0",children:r.location_type==="online"?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-headline-sm block",children:r.online_platform||"Online"}),r.online_link&&u.jsx("a",{href:r.online_link,target:"_blank",rel:"noopener noreferrer",className:"text-body-sm text-[var(--color-brand)]",children:"Dolacz"})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-headline-sm block truncate",children:r.location_name}),u.jsx("span",{className:"text-caption text-xs truncate block",children:[r.address,r.city].filter(Boolean).join(", ")})]})})]}),u.jsxs("div",{className:k("card-premium overflow-hidden mt-5",U.card),children:[r.dance_style&&u.jsx($i,{icon:u.jsx(hi,{className:R.sm}),label:"Styl",value:r.dance_style.name}),(r.skill_level_min||r.skill_level_max)&&u.jsx($i,{icon:u.jsx(za,{className:R.sm}),label:"Poziom",value:`${r.skill_level_min?ol(r.skill_level_min):""}${r.skill_level_max&&r.skill_level_min!==r.skill_level_max?`  ${ol(r.skill_level_max)}`:""}`}),u.jsx($i,{icon:u.jsx(ay,{className:R.sm}),label:"Miejsca",value:`${r.participant_count}${r.max_participants?` / ${r.max_participants}`:""}`}),u.jsx($i,{icon:u.jsx(NE,{className:R.sm}),label:"Cena",value:r.price>0?`${r.price} ${r.currency}`:"Bezplatne",isLast:!r.requires_partner}),r.requires_partner&&u.jsx($i,{icon:u.jsx(CE,{className:R.sm}),label:"Partner",value:"Wymagany",accent:!0,isLast:!0})]})]}),!l&&u.jsx("div",{className:ge.floatingAction,children:u.jsx("button",{disabled:c||i.isPending,onClick:a,"aria-label":c?"Brak wolnych miejsc":"Zapisz sie na wydarzenie",className:k("w-full flex items-center justify-center py-4 font-semibold shadow-lg transition-all max-w-md mx-auto",Se.sm,U.button,c?"bg-[var(--color-bg-subtle)] text-[var(--color-text-tertiary)]":"bg-[var(--color-brand)] text-white"),children:i.isPending?u.jsx(tr,{size:"sm",className:"border-white border-t-transparent"}):c?"Brak miejsc":u.jsxs(u.Fragment,{children:[u.jsx(gn,{className:R.md}),u.jsx("span",{className:"text-sm",children:"Zapisz sie"}),r.price>0&&u.jsxs("span",{className:k("ml-1 px-2 py-0.5 bg-white/20 text-xs",U.circle),children:[r.price," ",r.currency]})]})})})]})}function Op(){const{conversationId:e}=Zd(),t=rr(),r=Dt(S=>S.user),[n,s]=E.useState(null),[i,a]=E.useState(""),o=E.useRef(null),{data:l,isLoading:c,isError:d,error:f}=ZE(),{data:p,isLoading:h}=XE(n||""),w=ej(),v=tj();E.useEffect(()=>{e&&s(e)},[e]);const x=S=>{s(S),t(`/chat/${S}`,{replace:!0})},g=()=>{s(null),t("/chat",{replace:!0})};E.useEffect(()=>{n&&v.mutate(n)},[n]),E.useEffect(()=>{var S;(S=o.current)==null||S.scrollIntoView({behavior:"smooth"})},[p]);const m=()=>{!i.trim()||!n||(w.mutate({conversationId:n,content:i.trim()}),a(""))},y=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),m())},b=l==null?void 0:l.find(S=>S.id===n);return n?u.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col bg-[var(--color-bg)]",children:[u.jsx("header",{className:"sticky top-0 z-10 px-5 pt-13 pb-3 bg-[var(--color-bg-card)]/90 backdrop-blur-xl border-b border-white/[0.06]",children:u.jsxs("div",{className:k("flex items-center",Se.lg),children:[u.jsx("button",{onClick:g,"aria-label":"Wroc",className:k(ke.md,"bg-[var(--color-bg)] flex items-center justify-center",U.circle),children:u.jsx(ss,{className:k(R.md,"text-[var(--color-text-primary)]")})}),u.jsxs("div",{className:k("flex items-center flex-1",Se.md),children:[u.jsx(Ws,{src:b==null?void 0:b.other_user.profile_photo_url,name:(b==null?void 0:b.other_user.name)||"",size:"sm",shape:"rounded",alt:""}),u.jsxs("div",{children:[u.jsx("span",{className:"text-headline-sm block",children:b==null?void 0:b.other_user.name}),u.jsx("span",{className:"text-caption",children:b!=null&&b.other_user.is_active?"Aktywny teraz":b!=null&&b.other_user.last_seen_at?`Ostatnio ${Np(b.other_user.last_seen_at)}`:""})]})]})]})}),u.jsx("div",{className:"flex-1 overflow-auto px-5 py-5",children:h?u.jsx("div",{className:"flex items-center justify-center py-20",children:u.jsx(tr,{size:"lg"})}):!p||p.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[u.jsx("span",{className:"text-4xl mb-4",children:""}),u.jsx("p",{className:"text-caption",children:"Napisz pierwsza wiadomosc!"})]}):u.jsxs("div",{className:k("space-y-3"),children:[u.jsx("div",{className:"text-center py-4",children:u.jsx("span",{className:"text-caption",children:"Poczatek konwersacji"})}),p.map((S,j)=>{var F;const C=S.sender_id===(r==null?void 0:r.id),T=!C&&(j===0||((F=p[j-1])==null?void 0:F.sender_id)!==S.sender_id);return u.jsxs("div",{className:k("flex",Se.sm,C?"justify-end":"justify-start"),children:[!C&&T&&u.jsx(Ws,{src:b==null?void 0:b.other_user.profile_photo_url,name:(b==null?void 0:b.other_user.name)||"",size:"xs",shape:"rounded",alt:""}),!C&&!T&&u.jsx("div",{className:"w-8"}),u.jsx("div",{className:k("max-w-[75%] px-4 py-3 text-body-sm",C?k("bg-[var(--color-brand)] text-white",U.card,"rounded-br-lg"):k("bg-[var(--color-bg-card)] border border-white/[0.06]",U.card,"rounded-bl-lg")),children:S.content})]},S.id)}),u.jsx("div",{ref:o})]})}),u.jsxs("div",{className:"p-4 bg-[var(--color-bg-card)]/90 backdrop-blur-xl border-t border-white/[0.06]",children:[u.jsxs("div",{className:k("flex items-center",Se.md),children:[u.jsx("input",{type:"text",value:i,onChange:S=>a(S.target.value),onKeyPress:y,placeholder:"Napisz wiadomosc...",className:k("flex-1 px-4 py-3 bg-[var(--color-bg)] text-body-md outline-none",U.input)}),u.jsx("button",{onClick:m,disabled:!i.trim()||w.isPending,"aria-label":"Wyslij",className:k("w-12 h-12 flex items-center justify-center transition-all",U.card,i.trim()?"bg-[var(--color-brand)] text-white":"bg-[var(--color-bg)] text-[var(--color-text-tertiary)]"),children:u.jsx(_E,{className:R.md})})]}),u.jsx("div",{className:"h-[env(safe-area-inset-bottom)]"})]})]}):u.jsxs("div",{children:[u.jsx(Ol,{title:"Czat",subtitle:"Twoje konwersacje"}),u.jsx("section",{className:ge.sectionLast,children:c?u.jsx("div",{className:"flex items-center justify-center py-20",children:u.jsx(tr,{size:"lg"})}):d?u.jsxs("div",{className:k("card-premium p-8 text-center",U.card),children:[u.jsx("div",{className:k(Bs.container,Bs.error),children:u.jsx(ul,{className:k(R.lg,"text-red-500")})}),u.jsx("h3",{className:"text-headline-sm mb-1",children:"Blad ladowania"}),u.jsx("p",{className:"text-caption text-red-500",children:(f==null?void 0:f.message)||"Nieznany blad"})]}):!l||l.length===0?u.jsxs("div",{className:k("card-premium p-8 text-center",U.card),children:[u.jsx("div",{className:k(Bs.container,"bg-[var(--color-bg)]"),children:u.jsx(ul,{className:k(R.lg,"text-[var(--color-text-tertiary)]")})}),u.jsx("h3",{className:"text-headline-sm mb-1",children:"Brak konwersacji"}),u.jsx("p",{className:"text-caption",children:"Dopasuj sie z kims, aby rozpoczac czat"})]}):u.jsx("div",{className:k("card-premium overflow-hidden",U.card),children:l.filter(S=>S.other_user).map((S,j,C)=>u.jsx(Rl,{rawIcon:!0,icon:u.jsxs("div",{className:"relative flex-shrink-0",children:[u.jsx(Ws,{src:S.other_user.profile_photo_url,name:S.other_user.name,size:ey.listRow,shape:"rounded",alt:`Zdjecie ${S.other_user.name}`}),S.other_user.is_active&&u.jsx("div",{className:k("absolute -bottom-1 -right-1 bg-[var(--color-accent-mint)] border-2 border-white",_t.indicator)})]}),title:S.other_user.name,subtitle:S.last_message_preview||"Brak wiadomosci",onClick:()=>x(S.id),isLast:j===C.length-1,rightElement:u.jsxs("div",{className:k("flex flex-col items-end",Se.xs),children:[S.last_message_at&&u.jsx("span",{className:"text-caption text-xs",children:Np(S.last_message_at)}),S.unread_count>0&&u.jsx("span",{className:k("min-w-[20px] h-5 px-1.5 bg-[var(--color-brand)] text-white text-[11px] font-medium flex items-center justify-center",U.circle),children:S.unread_count})]})},S.id))})})]})}const is={all:["profile"],me:()=>[...is.all,"me"],danceStyles:()=>[...is.all,"dance-styles"]};async function mj(){const{data:{user:e}}=await K.auth.getUser();if(!e)return null;const{data:t,error:r}=await K.from("users").select("*").eq("id",e.id).single();if(r)throw r;return t}async function gj(){const{data:{user:e}}=await K.auth.getUser();if(!e)return[];const{data:t,error:r}=await K.from("user_dance_styles").select(`
      *,
      dance_style:dance_styles(*)
    `).eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw r;return t||[]}async function vj(e){const{data:{user:t}}=await K.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await K.from("users").update(e).eq("id",t.id).select().single();if(n)throw n;return r}async function yj(e){const{data:{user:t}}=await K.auth.getUser();if(!t)throw new Error("Not authenticated");const r=e.name.split(".").pop(),n=`${Date.now()}.${r}`,s=`${t.id}/${n}`,{error:i}=await K.storage.from("profile-photos").upload(s,e,{cacheControl:"3600",upsert:!1});if(i)throw i;const{data:{publicUrl:a}}=K.storage.from("profile-photos").getPublicUrl(s),{error:o}=await K.from("users").update({profile_photo_url:a}).eq("id",t.id);if(o)throw o;return a}async function wj(e){const{error:t}=await K.from("user_dance_styles").delete().eq("id",e);if(t)throw t}function uy(){const e=Dt(t=>t.user);return Sn({queryKey:is.me(),queryFn:mj,enabled:!!e,initialData:e})}function cy(){const e=Dt(t=>t.user);return Sn({queryKey:is.danceStyles(),queryFn:gj,enabled:!!e})}function xj(){const e=Ut(),t=Dt(r=>r.setUser);return Rr({mutationFn:vj,onSuccess:r=>{e.setQueryData(is.me(),r),t(r)}})}function bj(){const e=Ut();return Rr({mutationFn:yj,onSuccess:()=>{e.invalidateQueries({queryKey:is.me()})}})}function _j(){const e=Ut();return Rr({mutationFn:wj,onSuccess:()=>{e.invalidateQueries({queryKey:is.danceStyles()})}})}function kj(){const e=rr(),t=Dt(a=>a.logout),{data:r}=uy(),{data:n}=cy(),s=async()=>{await t(),e("/login")};if(!r)return null;const i=[{icon:u.jsx(Na,{className:R.md}),title:"Dane osobowe",subtitle:"Edytuj profil",onClick:()=>e("/profile/edit")},{icon:u.jsx(hi,{className:R.md}),title:"Style taneczne",subtitle:"Twoje preferencje",onClick:()=>e("/profile/edit")},{icon:u.jsx(gn,{className:R.md}),title:"Moje wydarzenia",subtitle:"Historia i nadchodzace",onClick:()=>e("/events")}];return u.jsxs("div",{children:[u.jsx(Ol,{title:"Profil",subtitle:"Twoje konto",children:u.jsxs("div",{className:k("card-premium p-4",U.card),children:[u.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:k("ring-4 ring-[var(--color-brand)]/30 shadow-lg",U.circle),children:u.jsx(Ws,{src:r.profile_photo_url,name:r.name,size:"xl",shape:"circle",alt:`Zdjecie ${r.name}`})}),r.is_verified&&u.jsx("div",{className:k("absolute -bottom-1 -right-1 w-7 h-7 bg-blue-500 border-3 border-[var(--color-bg-card)] flex items-center justify-center",U.circle),"aria-label":"Zweryfikowany",children:u.jsx(dh,{className:"w-4 h-4 text-white"})})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h2",{className:"text-display-md text-[var(--color-text-primary)] mb-1",children:r.name}),r.is_trainer&&u.jsxs("span",{className:"badge badge-brand",children:[u.jsx(fh,{className:"w-3 h-3"}),"Trener"]})]})]}),u.jsx("div",{className:"text-label text-[var(--color-text-tertiary)] mb-3",children:"Twoja przygoda"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx(mo,{value:(n==null?void 0:n.length)||0,label:"Style",icon:hi}),u.jsx(mo,{value:0,label:"Wydarzenia",icon:gn}),u.jsx(mo,{value:0,label:"Dopasowania",icon:Ca}),u.jsx(mo,{value:0,label:"Polaczenia",icon:ay})]})]})}),u.jsx("section",{className:"px-5 mb-5",children:u.jsx("div",{className:k("card-premium overflow-hidden",U.card),children:i.map((a,o)=>u.jsx(Rl,{icon:a.icon,title:a.title,subtitle:a.subtitle,onClick:a.onClick,showChevron:!0,isLast:o===i.length-1},a.title))})}),u.jsx("section",{className:"px-5",children:u.jsxs("button",{onClick:s,className:di.danger,children:[u.jsx(wE,{className:k(R.md,"text-red-500")}),u.jsx("span",{className:"text-headline-sm text-red-500",children:"Wyloguj"})]})})]})}function Sj(){var h,w;const e=rr(),t=E.useRef(null),{data:r}=uy(),{data:n}=cy(),s=xj(),i=bj(),a=_j(),[o,l]=E.useState({name:(r==null?void 0:r.name)||"",bio:(r==null?void 0:r.bio)||"",age:((h=r==null?void 0:r.age)==null?void 0:h.toString())||"",height:((w=r==null?void 0:r.height)==null?void 0:w.toString())||"",city:(r==null?void 0:r.city)||"",show_age:(r==null?void 0:r.show_age)??!0,show_exact_location:(r==null?void 0:r.show_exact_location)??!1,is_trainer:(r==null?void 0:r.is_trainer)??!1}),c=(v,x)=>{l(g=>({...g,[v]:x}))},d=()=>{s.mutate({name:o.name,bio:o.bio||void 0,age:o.age?parseInt(o.age):void 0,height:o.height?parseInt(o.height):void 0,city:o.city||void 0,show_age:o.show_age,show_exact_location:o.show_exact_location,is_trainer:o.is_trainer},{onSuccess:()=>{Me.success("Profil zaktualizowany"),e("/profile")},onError:()=>{Me.error("Nie udalo sie zapisac")}})},f=async v=>{var g;const x=(g=v.target.files)==null?void 0:g[0];if(x){if(x.size>5*1024*1024){Me.error("Plik jest za duzy (max 5MB)");return}i.mutate(x,{onSuccess:()=>Me.success("Zdjecie zaktualizowane"),onError:()=>Me.error("Nie udalo sie przeslac zdjecia")})}},p=v=>{a.mutate(v,{onSuccess:()=>Me.success("Styl usuniety")})};return r?u.jsxs("div",{className:"pb-32",children:[u.jsxs("header",{className:ge.header,children:[u.jsxs("div",{className:k("flex items-center mb-5",Se.lg),children:[u.jsx("button",{onClick:()=>e(-1),"aria-label":"Wroc",className:k(ke.md,"bg-[var(--color-bg-card)] shadow-md flex items-center justify-center",U.circle),children:u.jsx(ss,{className:R.md})}),u.jsx("h1",{className:"text-headline-lg",children:"Edytuj profil"})]}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:k("ring-4 ring-[var(--color-brand)]/30 shadow-lg",U.circle),children:[u.jsx(Ws,{src:r.profile_photo_url,name:r.name,size:"2xl",shape:"circle",alt:`Zdjecie profilowe ${r.name}`}),i.isPending&&u.jsx("div",{className:k("absolute inset-0 bg-black/50 flex items-center justify-center",U.circle),children:u.jsx(tr,{size:"md",className:"border-white border-t-transparent"})})]}),u.jsx("button",{onClick:()=>{var v;return(v=t.current)==null?void 0:v.click()},"aria-label":"Zmien zdjecie profilowe",className:k(ke.md,"absolute bottom-0 right-0 bg-[var(--color-brand)] text-white flex items-center justify-center shadow-lg",U.circle),children:u.jsx(dE,{className:R.md})})]}),u.jsx("input",{ref:t,type:"file",accept:"image/*",onChange:f,className:"hidden"}),u.jsx("p",{className:"text-caption mt-3",children:"Dotknij, aby zmienic zdjecie"})]})]}),u.jsxs("section",{className:ge.section,children:[u.jsx("h2",{className:k("text-headline-md",ge.sectionHeadingMargin),children:"Podstawowe informacje"}),u.jsxs("div",{className:k("card-premium overflow-hidden",U.card),children:[u.jsxs("div",{className:k("flex items-center",Ce.padding,Ce.border),children:[u.jsx("div",{className:k(ke.lg,"bg-[var(--color-brand)]/20 flex items-center justify-center"),children:u.jsx(Na,{className:k(R.md,"text-[var(--color-brand)]")})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-caption block mb-1",children:"Imie"}),u.jsx("input",{type:"text",value:o.name,onChange:v=>c("name",v.target.value),placeholder:"Twoje imie",className:"w-full text-headline-sm bg-transparent outline-none"})]})]}),u.jsxs("div",{className:k("flex items-center",Ce.padding,Ce.border),children:[u.jsx("div",{className:k(ke.lg,"bg-[var(--color-brand)]/20 flex items-center justify-center"),children:u.jsx(Na,{className:k(R.md,"text-[var(--color-brand)]")})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-caption block mb-1",children:"Wiek"}),u.jsx("input",{type:"number",value:o.age,onChange:v=>c("age",v.target.value),placeholder:"np. 25",className:"w-full text-headline-sm bg-transparent outline-none"})]})]}),u.jsxs("div",{className:k("flex items-center",Ce.padding,Ce.border),children:[u.jsx("div",{className:k(ke.lg,"bg-[var(--color-brand)]/20 flex items-center justify-center"),children:u.jsx(sy,{className:k(R.md,"text-[var(--color-brand)]")})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-caption block mb-1",children:"Wzrost (cm)"}),u.jsx("input",{type:"number",value:o.height,onChange:v=>c("height",v.target.value),placeholder:"np. 175",className:"w-full text-headline-sm bg-transparent outline-none"})]})]}),u.jsxs("div",{className:k("flex items-center",Ce.padding),children:[u.jsx("div",{className:k(ke.lg,"bg-[var(--color-brand)]/20 flex items-center justify-center"),children:u.jsx(wn,{className:k(R.md,"text-[var(--color-brand)]")})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("label",{className:"text-caption block mb-1",children:"Miasto"}),u.jsx("input",{type:"text",value:o.city,onChange:v=>c("city",v.target.value),placeholder:"np. Warszawa",className:"w-full text-headline-sm bg-transparent outline-none"})]})]})]})]}),u.jsxs("section",{className:ge.section,children:[u.jsx("h2",{className:k("text-headline-md",ge.sectionHeadingMargin),children:"O mnie"}),u.jsx("div",{className:k("card-premium p-4",U.card),children:u.jsxs("div",{className:k("flex items-start",Se.lg),children:[u.jsx("div",{className:k(ke.lg,"bg-[var(--color-brand)]/20 flex items-center justify-center flex-shrink-0"),children:u.jsx(gE,{className:k(R.md,"text-[var(--color-brand)]")})}),u.jsx("textarea",{value:o.bio,onChange:v=>c("bio",v.target.value),placeholder:"Napisz cos o sobie...",rows:4,className:"flex-1 text-body-md bg-transparent outline-none resize-none"})]})})]}),u.jsxs("section",{className:ge.section,children:[u.jsx("h2",{className:k("text-headline-md",ge.sectionHeadingMargin),children:"Prywatnosc"}),u.jsxs("div",{className:k("card-premium overflow-hidden",U.card),children:[u.jsxs("button",{onClick:()=>c("show_age",!o.show_age),className:k("w-full flex items-center",Ce.padding,Ce.border,"text-left"),children:[u.jsx("div",{className:k(ke.lg,"bg-[var(--color-bg)] flex items-center justify-center"),children:u.jsx(kE,{className:k(R.md,"text-[var(--color-text-secondary)]")})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"text-headline-sm block",children:"Pokaz wiek"}),u.jsx("span",{className:"text-caption",children:"Inni zobacza Twoj wiek"})]}),u.jsx("div",{className:k(Le.track,o.show_age?Le.trackOn:Le.trackOff),children:u.jsx("div",{className:k(Le.thumb,o.show_age?Le.thumbOn:Le.thumbOff)})})]}),u.jsxs("button",{onClick:()=>c("show_exact_location",!o.show_exact_location),className:k("w-full flex items-center",Ce.padding,Ce.border,"text-left"),children:[u.jsx("div",{className:k(ke.lg,"bg-[var(--color-bg)] flex items-center justify-center"),children:u.jsx(wn,{className:k(R.md,"text-[var(--color-text-secondary)]")})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"text-headline-sm block",children:"Dokladna lokalizacja"}),u.jsx("span",{className:"text-caption",children:"Pokaz dokladne miasto"})]}),u.jsx("div",{className:k(Le.track,o.show_exact_location?Le.trackOn:Le.trackOff),children:u.jsx("div",{className:k(Le.thumb,o.show_exact_location?Le.thumbOn:Le.thumbOff)})})]}),u.jsxs("button",{onClick:()=>c("is_trainer",!o.is_trainer),className:k("w-full flex items-center",Ce.padding,"text-left"),children:[u.jsx("div",{className:k(ke.lg,"bg-[var(--color-bg)] flex items-center justify-center"),children:u.jsx(za,{className:k(R.md,"text-[var(--color-text-secondary)]")})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"text-headline-sm block",children:"Jestem trenerem"}),u.jsx("span",{className:"text-caption",children:"Oznacz profil jako trener"})]}),u.jsx("div",{className:k(Le.track,o.is_trainer?Le.trackOn:Le.trackOff),children:u.jsx("div",{className:k(Le.thumb,o.is_trainer?Le.thumbOn:Le.thumbOff)})})]})]})]}),u.jsxs("section",{className:ge.section,children:[u.jsx("h2",{className:k("text-headline-md",ge.sectionHeadingMargin),children:"Style tanca"}),n&&n.length>0?u.jsx("div",{className:k("card-premium overflow-hidden",U.card),children:n.map((v,x)=>{var g,m;return u.jsxs("div",{className:k("flex items-center",Ce.padding,x!==n.length-1&&Ce.border),children:[u.jsx("div",{className:k(ke.lg,"bg-[var(--color-brand)]/20 flex items-center justify-center"),children:u.jsx(hi,{className:k(R.md,"text-[var(--color-brand)]")})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"text-headline-sm block",children:(g=v.dance_style)==null?void 0:g.name}),u.jsx("span",{className:"text-caption",children:ol(v.skill_level)})]}),u.jsx("button",{onClick:()=>p(v.id),"aria-label":`Usun styl ${(m=v.dance_style)==null?void 0:m.name}`,className:k(ke.md,"text-[var(--color-accent-coral)] flex items-center justify-center",U.circle),children:u.jsx(EE,{className:R.md})})]},v.id)})}):u.jsxs("div",{className:k("card-premium p-8 text-center",U.card),children:[u.jsx("div",{className:k(Bs.container,"bg-[var(--color-bg)]"),children:u.jsx(hi,{className:k(R.lg,"text-[var(--color-text-tertiary)]")})}),u.jsx("h3",{className:"text-headline-sm mb-1",children:"Brak stylow"}),u.jsx("p",{className:"text-caption",children:"Nie dodano zadnych stylow tanca"})]}),u.jsxs("button",{className:k("w-full mt-4 flex items-center justify-center py-4 bg-[var(--color-bg-card)] text-[var(--color-text-primary)] border border-white/[0.06] text-headline-sm",Se.sm,U.card),children:[u.jsx(bE,{className:R.md}),"Dodaj styl tanca"]})]}),u.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-[var(--color-bg-card)]/90 backdrop-blur-xl border-t border-white/[0.06]",children:[u.jsx("div",{className:"max-w-lg mx-auto",children:u.jsx("button",{onClick:d,disabled:s.isPending,className:di.primary,children:s.isPending?"Zapisywanie...":"Zapisz zmiany"})}),u.jsx("div",{className:"h-[env(safe-area-inset-bottom)]"})]})]}):null}function Ej({children:e}){const{isAuthenticated:t,isLoading:r}=Dt();return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"w-8 h-8 border-4 border-[var(--color-brand)] border-t-transparent rounded-full animate-spin"})}):t?u.jsx(u.Fragment,{children:e}):u.jsx(tl,{to:"/login",replace:!0})}function Eu({children:e}){const{isAuthenticated:t,isLoading:r}=Dt();return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"w-8 h-8 border-4 border-[var(--color-brand)] border-t-transparent rounded-full animate-spin"})}):t?u.jsx(tl,{to:"/dancers",replace:!0}):u.jsx(u.Fragment,{children:e})}function jj(){const[e,t]=E.useState(!1);return E.useEffect(()=>{ES().then(()=>t(!0))},[]),e?u.jsx(Eb,{client:c_,children:u.jsxs(Zx,{children:[u.jsxs(Hx,{children:[u.jsxs(Ye,{element:u.jsx(oE,{}),children:[u.jsx(Ye,{path:"/login",element:u.jsx(Eu,{children:u.jsx($E,{})})}),u.jsx(Ye,{path:"/register",element:u.jsx(Eu,{children:u.jsx(LE,{})})}),u.jsx(Ye,{path:"/forgot-password",element:u.jsx(Eu,{children:u.jsx(DE,{})})})]}),u.jsxs(Ye,{element:u.jsx(Ej,{children:u.jsx(PE,{})}),children:[u.jsx(Ye,{path:"/dancers",element:u.jsx(VE,{})}),u.jsx(Ye,{path:"/dancers/:id",element:u.jsx(nj,{})}),u.jsx(Ye,{path:"/events",element:u.jsx(fj,{})}),u.jsx(Ye,{path:"/events/:id",element:u.jsx(pj,{})}),u.jsx(Ye,{path:"/chat",element:u.jsx(Op,{})}),u.jsx(Ye,{path:"/chat/:conversationId",element:u.jsx(Op,{})}),u.jsx(Ye,{path:"/profile",element:u.jsx(kj,{})}),u.jsx(Ye,{path:"/profile/edit",element:u.jsx(Sj,{})})]}),u.jsx(Ye,{path:"/",element:u.jsx(tl,{to:"/dancers",replace:!0})}),u.jsx(Ye,{path:"*",element:u.jsx(tl,{to:"/dancers",replace:!0})})]}),u.jsx(u_,{position:"top-center",toastOptions:{className:"bg-[var(--color-bg-card)] text-[var(--color-text-primary)] shadow-lg rounded-2xl"}})]})}):u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-[var(--color-bg)]",children:u.jsx("div",{className:"w-8 h-8 border-4 border-[var(--color-brand)] border-t-transparent rounded-full animate-spin"})})}ju.createRoot(document.getElementById("root")).render(u.jsx(O.StrictMode,{children:u.jsx(jj,{})}));
